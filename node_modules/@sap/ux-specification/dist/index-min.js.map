{
  "version": 3,
  "sources": ["../../types/src/index.ts", "../../types/src/common/page.ts", "../../types/src/common/types.ts", "../../types/src/common/Application.ts", "../../types/src/common/webapp/manifest/Manifest.ts", "../../types/src/common/webapp/manifest/sapUi5.ts", "../../types/src/apiTypes.ts", "../../types/src/v2/index.ts", "../../types/src/v2/controls/Card.ts", "../../types/src/v2/controls/FilterBar.ts", "../../types/src/v2/controls/Table.ts", "../../types/src/v2/controls/AnalyticalListPageChart.ts", "../../types/src/v2/controls/ObjectPageSection.ts", "../../types/src/v2/controls/ObjectPageTable.ts", "../../types/src/v2/webapp/manifest/sapUiPageV2.ts", "../../types/src/v2/webapp/manifest/sapUi5.ts", "../../types/src/v2/overviewPage.ts", "../../types/src/v4/index.ts", "../../types/src/v4/controls/CustomAction.ts", "../../types/src/v4/controls/Table.ts", "../../types/src/v4/controls/FilterBar.ts", "../../types/src/v4/controls/ToolBar.ts", "../../types/src/v4/controls/ObjectPageHeaderSection.ts", "../../types/src/v4/controls/ObjectPageLayout.ts", "../../types/src/v4/controls/ObjectPageSection.ts", "../../types/src/v4/webapp/manifest/sapUiPageV4.ts", "../../types/src/v4/webapp/manifest/sapUi5.ts", "../../types/src/v4/webapp/manifest/ManifestSettings.ts", "../../types/src/v4/pages/ObjectPageConfigV4.ts", "../../types/src/v4/pages/ListReportConfigV4.ts", "../../types/src/apiTypes.ts", "../../types/src/v2/index.ts", "../../types/src/v2/controls/Card.ts", "../../types/src/v2/controls/FilterBar.ts", "../../types/src/v2/controls/Table.ts", "../../types/src/v2/controls/AnalyticalListPageChart.ts", "../../types/src/v2/controls/ObjectPageSection.ts", "../../types/src/v2/controls/ObjectPageTable.ts", "../../types/src/v2/webapp/manifest/sapUiPageV2.ts", "../../types/src/v2/webapp/manifest/sapUi5.ts", "../../types/src/v2/overviewPage.ts", "../../types/src/v4/index.ts", "../../types/src/v4/controls/CustomAction.ts", "../../types/src/v4/controls/Table.ts", "../../types/src/v4/controls/FilterBar.ts", "../../types/src/v4/controls/ToolBar.ts", "../../types/src/v4/controls/ObjectPageHeaderSection.ts", "../../types/src/v4/controls/ObjectPageLayout.ts", "../../types/src/v4/controls/ObjectPageSection.ts", "../../types/src/v4/webapp/manifest/sapUiPageV4.ts", "../../types/src/v4/webapp/manifest/sapUi5.ts", "../../types/src/v4/webapp/manifest/ManifestSettings.ts", "../../types/src/v4/pages/ObjectPageConfigV4.ts", "../../types/src/v4/pages/ListReportConfigV4.ts", "../../types/src/index.ts", "../../../node_modules/deepmerge/dist/cjs.js", "../../../node_modules/@sap-ux/annotation-converter/src/utils.ts", "../../../node_modules/@sap-ux/annotation-converter/src/converter.ts", "../../../node_modules/@sap-ux/annotation-converter/src/writeback.ts", "../../../node_modules/@sap-ux/annotation-converter/src/index.ts", "../../../node_modules/sax/lib/sax.js", "../../../node_modules/xml-js/lib/array-helper.js", "../../../node_modules/xml-js/lib/options-helper.js", "../../../node_modules/xml-js/lib/xml2js.js", "../../../node_modules/xml-js/lib/xml2json.js", "../../../node_modules/xml-js/lib/js2xml.js", "../../../node_modules/xml-js/lib/json2xml.js", "../../../node_modules/xml-js/lib/index.js", "../../../node_modules/@sap-ux/edmx-parser/src/utils.ts", "../../../node_modules/@sap-ux/edmx-parser/src/v2annotationsSupport.ts", "../../../node_modules/@sap-ux/edmx-parser/src/parser.ts", "../../../node_modules/@sap-ux/edmx-parser/src/merger.ts", "../../../node_modules/@sap-ux/edmx-parser/src/index.ts", "../../../node_modules/@ui5/flexibility-utils/src/changeUtils.js", "../../../node_modules/@ui5/flexibility-utils/index.js", "../../../node_modules/ejs/lib/utils.js", "../../../node_modules/ejs/lib/ejs.js", "../../../node_modules/chevrotain/src/version.ts", "../../../node_modules/chevrotain/src/utils/utils.ts", "../../../node_modules/regexp-to-ast/lib/regexp-to-ast.js", "../../../node_modules/chevrotain/src/scan/reg_exp_parser.ts", "../../../node_modules/chevrotain/src/scan/reg_exp.ts", "../../../node_modules/chevrotain/src/scan/lexer.ts", "../../../node_modules/chevrotain/src/scan/tokens.ts", "../../../node_modules/chevrotain/src/scan/lexer_errors_public.ts", "../../../node_modules/chevrotain/src/scan/lexer_public.ts", "../../../node_modules/chevrotain/src/scan/tokens_public.ts", "../../../node_modules/chevrotain/src/parse/grammar/gast/gast_public.ts", "../../../node_modules/chevrotain/src/parse/grammar/rest.ts", "../../../node_modules/chevrotain/src/parse/grammar/gast/gast_visitor_public.ts", "../../../node_modules/chevrotain/src/parse/grammar/gast/gast.ts", "../../../node_modules/chevrotain/src/parse/grammar/first.ts", "../../../node_modules/chevrotain/src/parse/constants.ts", "../../../node_modules/chevrotain/src/parse/grammar/follow.ts", "../../../node_modules/chevrotain/src/parse/errors_public.ts", "../../../node_modules/chevrotain/src/parse/grammar/resolver.ts", "../../../node_modules/chevrotain/src/parse/grammar/interpreter.ts", "../../../node_modules/chevrotain/src/parse/grammar/lookahead.ts", "../../../node_modules/chevrotain/src/parse/grammar/checks.ts", "../../../node_modules/chevrotain/src/parse/grammar/gast/gast_resolver_public.ts", "../../../node_modules/chevrotain/src/parse/exceptions_public.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/recoverable.ts", "../../../node_modules/chevrotain/src/parse/grammar/keys.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/looksahead.ts", "../../../node_modules/chevrotain/src/parse/cst/cst.ts", "../../../node_modules/chevrotain/src/lang/lang_extensions.ts", "../../../node_modules/chevrotain/src/parse/cst/cst_visitor.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/tree_builder.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/lexer_adapter.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/recognizer_api.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/recognizer_engine.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/error_handler.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/context_assist.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/gast_recorder.ts", "../../../node_modules/chevrotain/src/parse/parser/traits/perf_tracer.ts", "../../../node_modules/chevrotain/src/parse/parser/parser.ts", "../../../node_modules/chevrotain/src/diagrams/render_public.ts", "../../../node_modules/chevrotain/src/generate/generate.ts", "../../../node_modules/chevrotain/src/generate/generate_public.ts", "../../../node_modules/chevrotain/src/api.ts", "../../../node_modules/@xml-tools/parser/lib/lexer.js", "../../../node_modules/@xml-tools/parser/lib/parser.js", "../../../node_modules/@xml-tools/parser/lib/api.js", "../../../node_modules/lodash/lodash.js", "../../../node_modules/@xml-tools/common/lib/find-next-textual-token.js", "../../../node_modules/@xml-tools/common/lib/xml-ns-key.js", "../../../node_modules/@xml-tools/common/lib/api.js", "../../../node_modules/@xml-tools/ast/lib/utils.js", "../../../node_modules/@xml-tools/ast/lib/constants.js", "../../../node_modules/@xml-tools/ast/lib/build-ast.js", "../../../node_modules/@xml-tools/ast/lib/visit-ast.js", "../../../node_modules/@xml-tools/ast/lib/api.js", "../../../node_modules/lodash.unset/index.js", "../../../node_modules/uri-js/src/index.ts", "../../../node_modules/uri-js/src/schemes/urn-uuid.ts", "../../../node_modules/uri-js/src/schemes/urn.ts", "../../../node_modules/uri-js/src/schemes/mailto.ts", "../../../node_modules/uri-js/src/schemes/wss.ts", "../../../node_modules/uri-js/src/schemes/ws.ts", "../../../node_modules/uri-js/src/schemes/https.ts", "../../../node_modules/uri-js/src/schemes/http.ts", "../../../node_modules/uri-js/src/uri.ts", "../../../node_modules/uri-js/node_modules/punycode/punycode.es6.js", "../../../node_modules/uri-js/src/regexps-iri.ts", "../../../node_modules/uri-js/src/regexps-uri.ts", "../../../node_modules/uri-js/src/util.ts", "../../../node_modules/fast-deep-equal/index.js", "../../../node_modules/ajv/lib/compile/ucs2length.js", "../../../node_modules/ajv/lib/compile/util.js", "../../../node_modules/ajv/lib/compile/schema_obj.js", "../../../node_modules/json-schema-traverse/index.js", "../../../node_modules/ajv/lib/compile/resolve.js", "../../../node_modules/ajv/lib/compile/error_classes.js", "../../../node_modules/fast-json-stable-stringify/index.js", "../../../node_modules/ajv/lib/dotjs/validate.js", "../../../node_modules/ajv/lib/compile/index.js", "../../../node_modules/ajv/lib/cache.js", "../../../node_modules/ajv/lib/compile/formats.js", "../../../node_modules/ajv/lib/dotjs/ref.js", "../../../node_modules/ajv/lib/dotjs/allOf.js", "../../../node_modules/ajv/lib/dotjs/anyOf.js", "../../../node_modules/ajv/lib/dotjs/comment.js", "../../../node_modules/ajv/lib/dotjs/const.js", "../../../node_modules/ajv/lib/dotjs/contains.js", "../../../node_modules/ajv/lib/dotjs/dependencies.js", "../../../node_modules/ajv/lib/dotjs/enum.js", "../../../node_modules/ajv/lib/dotjs/format.js", "../../../node_modules/ajv/lib/dotjs/if.js", "../../../node_modules/ajv/lib/dotjs/items.js", "../../../node_modules/ajv/lib/dotjs/_limit.js", "../../../node_modules/ajv/lib/dotjs/_limitItems.js", "../../../node_modules/ajv/lib/dotjs/_limitLength.js", "../../../node_modules/ajv/lib/dotjs/_limitProperties.js", "../../../node_modules/ajv/lib/dotjs/multipleOf.js", "../../../node_modules/ajv/lib/dotjs/not.js", "../../../node_modules/ajv/lib/dotjs/oneOf.js", "../../../node_modules/ajv/lib/dotjs/pattern.js", "../../../node_modules/ajv/lib/dotjs/properties.js", "../../../node_modules/ajv/lib/dotjs/propertyNames.js", "../../../node_modules/ajv/lib/dotjs/required.js", "../../../node_modules/ajv/lib/dotjs/uniqueItems.js", "../../../node_modules/ajv/lib/dotjs/index.js", "../../../node_modules/ajv/lib/compile/rules.js", "../../../node_modules/ajv/lib/data.js", "../../../node_modules/ajv/lib/compile/async.js", "../../../node_modules/ajv/lib/dotjs/custom.js", "../../../node_modules/ajv/lib/definition_schema.js", "../../../node_modules/ajv/lib/keyword.js", "../../../node_modules/ajv/lib/ajv.js", "../src/index.ts", "../src/api.ts", "../src/sync/common/utils.ts", "../../../node_modules/@babel/runtime/helpers/esm/typeof.js", "../../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js", "../../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js", "../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../../../node_modules/@babel/runtime/helpers/esm/objectSpread.js", "../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../../../node_modules/@babel/runtime/helpers/esm/createClass.js", "../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../../../node_modules/@babel/runtime/helpers/esm/inherits.js", "../../../node_modules/i18next/dist/esm/i18next.js", "../src/extensionLogger.ts", "../src/sync/v2/generate/objectPage.ts", "../src/sync/common/decoration/control.ts", "../../../node_modules/reflect-metadata/Reflect.js", "../src/sync/common/decoration/decorators.ts", "../src/sync/common/flexUtils.ts", "../src/sync/common/decoration/flex.ts", "../src/sync/common/import/utils.ts", "../src/sync/common/generate/objectPage.ts", "../src/sync/v4/utils/StableIdHelper.ts", "../src/sync/common/generate/utils.ts", "../src/sync/common/importProject.ts", "../src/sync/v2/import/app/appProvider.ts", "../src/sync/common/appProvider.ts", "../src/sync/v2/import/common/index.ts", "../src/sync/v2/import/controls/table.ts", "../src/sync/v2/export/manifest.ts", "../src/sync/v2/export/controls/index.ts", "../src/sync/v2/application.ts", "../src/sync/v2/export/controls/Card.ts", "../src/sync/v2/export/controls/Field.ts", "../src/sync/v2/export/controls/FilterBar.ts", "../src/sync/v2/export/controls/FormAction.ts", "../src/sync/v2/export/controls/Fragment.ts", "../src/sync/v2/export/view-controller-generator.ts", "../src/sync/v2/export/controls/Table.ts", "../src/sync/v2/export/controls/Action.ts", "../src/sync/v2/export/controls/TableColumn.ts", "../src/sync/v2/export/controls/ToolBar.ts", "../src/sync/v2/export/controls/AnalyticalListPageChart.ts", "../src/sync/v2/export/controls/AnalyticalListPageKPI.ts", "../src/sync/v2/export/controls/ObjectPageHeader.ts", "../src/sync/v2/export/controls/ObjectPageHeaderAction.ts", "../src/sync/v2/export/controls/ObjectPageFooterAction.ts", "../src/sync/v2/export/controls/ObjectPageLayout.ts", "../src/sync/v2/export/controls/ObjectPageCustomSection.ts", "../src/sync/v2/export/controls/ObjectPageSectionsV2.ts", "../src/sync/v2/export/controls/ObjectPageChart.ts", "../src/sync/v2/export/controls/ObjectPageTable.ts", "../src/sync/v2/export/controls/ObjectPageToolBarAction.ts", "../src/sync/v2/types.ts", "../src/sync/v2/import/pages/listReport.ts", "../src/i18n/i18n.ts", "../src/sync/i18n.ts", "../src/sync/v2/import/utils.ts", "../src/sync/v2/export/pages/index.ts", "../src/sync/v2/export/pages/AnalyticalListPage.ts", "../src/sync/v2/export/pages/ListReport.ts", "../src/sync/v2/export/pages/ObjectPage.ts", "../src/sync/v2/export/pages/OverviewPage.ts", "../src/sync/common/decoration/factory.ts", "../src/sync/v2/export/factory.ts", "../src/sync/v2/import/pages/analyticalListPage.ts", "../src/sync/v2/import/pages/objectPage.ts", "../src/sync/v2/import/app/ovpProvider.ts", "../src/sync/v2/import/pages/overviewPage.ts", "../src/sync/v2/export/export.ts", "../src/sync/v4/utils/utils.ts", "../src/sync/v4/generate/listReport.ts", "../src/sync/v4/generate/objectPage.ts", "../src/sync/v4/generate/freestylePage.ts", "../src/sync/v4/generate/fpm-custom-page/generator.ts", "../src/sync/v4/utils/macros.ts", "../src/sync/v4/generate/fpm-custom-page/annotations.ts", "../src/sync/v4/generate/fpm-custom-page/utils.ts", "../src/sync/v4/generate/fpm-custom-page/extensions.ts", "../src/sync/v4/generate/generate.ts", "../src/sync/v4/application.ts", "../src/sync/v4/sync-rules/controllerExtensions.ts", "../src/sync/v4/import/pages/listReport.ts", "../src/sync/v4/import/utils.ts", "../src/sync/v4/export/controls/index.ts", "../src/sync/v4/export/controls/Table.ts", "../src/sync/v4/export/controls/TableColumn.ts", "../src/sync/v4/export/controls/ToolBar.ts", "../src/sync/v4/export/controls/ToolBarAction.ts", "../src/sync/v4/export/controls/ObjectPageToolBarAction.ts", "../src/sync/v4/export/controls/ObjectPageForm.ts", "../src/sync/v4/export/controls/ObjectPageFormAction.ts", "../src/sync/v4/export/controls/FilterBar.ts", "../src/sync/v4/export/controls/Header.ts", "../src/sync/v4/export/controls/HeaderAction.ts", "../src/sync/v4/export/controls/ObjectPageTableColumn.ts", "../src/sync/v4/export/controls/ObjectPageHeader.ts", "../src/sync/v4/export/controls/ObjectPageFooter.ts", "../src/sync/v4/export/controls/ObjectPageHeaderSection.ts", "../src/sync/v4/export/controls/ObjectPageLayout.ts", "../src/sync/v4/export/controls/ObjectPageTable.ts", "../src/sync/v4/export/controls/ObjectPageCustomSection.ts", "../src/sync/v4/export/controls/ObjectPageHeaderAction.ts", "../src/sync/v4/export/controls/ObjectPageFooterAction.ts", "../src/sync/v4/export/pages/index.ts", "../src/sync/v4/export/pages/ListReport.ts", "../src/sync/v4/export/pages/ObjectPage.ts", "../src/sync/v4/export/pages/FreestylePage.ts", "../src/sync/v4/export/factory.ts", "../src/sync/v4/import/pages/objectPage.ts", "../src/sync/v4/import/pages/fpmCustomPage.ts", "../src/sync/v4/import/app/appProvider.ts", "../src/specification/schemaAccess.ts", "../src/sync/v2/generate/utils.ts", "../src/sync/v2/generate/listReport.ts", "../src/sync/v2/generate/analyticalListReport.ts", "../src/sync/v2/generate/overviewPage.ts", "../src/sync/v2/generate/generate.ts", "../src/sync/v2/export/exportPage.ts", "../src/sync/v4/export/exportCustomColumn.ts", "../src/sync/v4/export/utils.ts", "../src/sync/v4/export/manifest.ts", "../src/sync/v4/export/flexibleColumnLayout.ts", "../src/sync/v4/export/export.ts", "../src/sync/v4/export/fpmCustomPage.ts", "../src/project.ts"],
  "sourcesContent": ["export * from './common';\nexport * from './apiTypes';\nexport * as v2 from './v2';\nexport * as v4 from './v4';\n", "import type { FlexibleColumnLayoutType, ManifestSettingsType } from './types';\n\nexport enum PageTypeV2 {\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    OverviewPage = 'OverviewPage',\n    CustomPage = 'CustomPage',\n    AnalyticalListPage = 'AnalyticalListPage'\n}\n\nexport enum PageTypeV4 {\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    CustomPage = 'CustomPage',\n    FPMCustomPage = 'FPMCustomPage',\n    AnalyticalListPage = 'AnalyticalListPage'\n}\n\nexport const PageType = { ...PageTypeV2, ...PageTypeV4 };\nexport type PageType = typeof PageType;\n\nexport const PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP: Map<PageTypeV2, string> = new Map([\n    [PageTypeV2.ListReport, 'sap.suite.ui.generic.template.ListReport.view.ListReport'],\n    [PageTypeV2.AnalyticalListPage, 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'],\n    [PageTypeV2.ObjectPage, 'sap.suite.ui.generic.template.ObjectPage.view.Details']\n]);\n\nexport interface PageConfig {\n    $schema?: string;\n}\n\nexport interface CustomPageConfig extends PageConfig {\n    $filePath?: string;\n}\n\nexport interface PageBase {\n    name?: string;\n    entitySet?: string;\n    contextPath?: string;\n    navigationProperty?: string;\n    config?: PageConfig;\n    navigation?: { [property: string]: string | object };\n    variantManagement?: string;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport enum FioriElementsVersion {\n    v2 = 'v2',\n    v4 = 'v4'\n}\nexport enum OdataVersion {\n    v2 = 'v2',\n    v4 = 'v4'\n}\nexport interface Target {\n    fioriElements: FioriElementsVersion;\n    odata: OdataVersion;\n}\n\nexport interface PagesBase {\n    [key: string]: PageBase;\n}\nexport interface SapUiGenericAppPageSettings {\n    [key: string]: ManifestSettingsType;\n}\n\nexport interface SapUiGenericApp {\n    pages: SapUiGenericAppPage[] | SapUiGenericAppPageMap;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPage {\n    entitySet: string;\n    navigationProperty?: string;\n    component: {\n        name: string;\n        settings?: SapUiGenericAppPageSettings;\n    };\n    pages?: SapUiGenericAppPage[] | { [pageId: string]: SapUiGenericAppPage };\n}\n\nexport interface SapUiGenericAppPageMap {\n    [key: string]: SapUiGenericAppPage;\n}\n\nexport interface SapUiGenericApp {\n    pages: SapUiGenericAppPage[] | SapUiGenericAppPageMap;\n    _version?: string;\n    settings?: object;\n}\n", "import type { EntityType } from '@sap-ux/vocabularies-types';\nimport type { Definition } from 'typescript-json-schema';\nimport type { Manifest } from './webapp/manifest';\n\nexport enum FlexibleColumnLayoutType {\n    OneColumn = 'OneColumn',\n    TwoColumnsBeginExpanded = 'TwoColumnsBeginExpanded',\n    TwoColumnsMidExpanded = 'TwoColumnsMidExpanded',\n    MidColumnFullScreen = 'MidColumnFullScreen',\n    ThreeColumnsMidExpanded = 'ThreeColumnsMidExpanded',\n    ThreeColumnsEndExpanded = 'ThreeColumnsEndExpanded',\n    ThreeColumnsMidExpandedEndHidden = 'ThreeColumnsMidExpandedEndHidden',\n    ThreeColumnsBeginExpandedEndHidden = 'ThreeColumnsBeginExpandedEndHidden',\n    EndColumnFullScreen = 'EndColumnFullScreen'\n}\n\nexport const enum FlexChangeLayer {\n    Vendor = 'VENDOR',\n    Customer = 'CUSTOMER_BASE'\n}\n\nexport type ManifestSettingsType = boolean | number | string | object;\n\n/**\n * Type for all available schema types, e.g. Application, ListReport, ObjectPage, ...\n */\nexport enum SchemaType {\n    Application = 'Application',\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    OverviewPage = 'OverviewPage',\n    AnalyticalListPage = 'AnalyticalListPage',\n    FreestylePage = 'FreestylePage',\n    FPMCustomPage = 'FPMCustomPage',\n    BuildingBlocks = 'BuildingBlocks'\n}\n\nexport enum ExportArtifacts {\n    flex = 'flex',\n    manifest = 'manifest'\n}\n\nexport enum ALPViewType {\n    Primary = 'primary',\n    Secondary = 'secondary'\n}\n\nexport enum SectionType {\n    Section = 'Section',\n    SubSection = 'SubSection',\n    HeaderSection = 'HeaderSection'\n}\n\nexport enum ArtifactType {\n    Manifest = 'Manifest',\n    FlexChange = 'FlexChange',\n    Annotation = 'Annotation',\n    XMLProperty = 'XMLProperty'\n}\n\nexport enum ControlType {\n    Table = 'sap.m.Table',\n    TableColumn = 'sap.m.Column',\n    SmartTable = 'sap.ui.comp.smarttable.SmartTable',\n    SmartFilterBar = 'sap.ui.comp.smartfilterbar.SmartFilterBar',\n    SmartChart = 'sap.ui.comp.smartchart.SmartChart',\n    Group = 'sap.ui.comp.smartform.Group',\n    GroupElement = 'sap.ui.comp.smartform.GroupElement',\n    Button = 'sap.m.Button',\n    ToolbarButton = 'sap.m.OverflowToolbarButton',\n    Avatar = 'sap.f.Avatar',\n    ObjectPageDynamicHeaderTitle = 'sap.uxap.ObjectPageDynamicHeaderTitle',\n    ObjectPageGridProperties = 'sap.ui.layout.GridData',\n    ObjectPageHeader = 'sap.uxap.ObjectPageHeader',\n    ObjectPageLayout = 'sap.uxap.ObjectPageLayout',\n    HeaderAction = 'sap.uxap.ObjectPageHeaderActionButton',\n    DynamicPage = 'sap.f.DynamicPage',\n    Form = 'sap.ui.layout.form',\n    Chart = 'sap.suite.ui.microchart',\n    Section = 'sap.uxap.ObjectPageSection',\n    SubSection = 'sap.uxap.ObjectPageSubSection'\n}\n\nexport interface ChangeContent {\n    property: string;\n    newValue?: ManifestSettingsType;\n    newBinding?: string | object;\n}\n\nexport enum Visualization {\n    LineItem = 'LineItem',\n    Chart = 'Chart'\n}\n\nexport enum DirName {\n    Sapux = 'src',\n    Schemas = '.schemas',\n    Pages = 'pages',\n    Webapp = 'webapp',\n    Temp = '.tmp',\n    Changes = 'changes',\n    LocalService = 'localService',\n    Controller = 'controller',\n    View = 'view',\n    Fragment = 'fragment',\n    Ext = 'ext',\n    VSCode = '.vscode'\n}\nexport enum FileName {\n    App = 'app.json'\n}\nexport const FacetTitlePrefix = 'Facet ID: ';\nexport const ActionTitlePrefix = 'Action ID: ';\n\nexport interface FileData {\n    dataSourceUri: string;\n    fileContent: string;\n}\n\nexport interface ExportResults {\n    flexChanges: string[];\n    manifest: Manifest;\n    fragments: FileData[];\n    views?: FileData[];\n}\n\n/**\n * Taken over from https://github.com/sap-staging/ui5-flexibility-utils/blob/origin/master/src/changeUtils.js\n */\nexport interface ChangeDefinition {\n    controlId: string; // ID of the control containing all prefixes excluding the application ID prefix\n    controlType: string; // This is NOT in the API so far, but we need it\n    type: string; // Change type, i.e. <code>propertyChange</code>\n    content: ChangeContent; // Content of the change needed by the corresponding change handler\n    isCustomer: boolean; // Flag indicating whether the project is related to a customer project\n    sapui5Version: string; // SAPUI5 version for which the change is created\n    creatingTool: string; // Name of the tool calling this function for support reasons\n    id: string; // UID of the change;\n    reference: string; // Reference to the application;\n    appVersion: string; // Version of the application;\n    creation: string; // String with the creation timestamp;\n}\n/**\n * Taken over from https://github.com/sap-staging/ui5-flexibility-utils/blob/origin/master/src/changeUtils.js\n */\nexport interface ChangeDefinitionInCreation {\n    controlId: string; // ID of the control containing all prefixes excluding the application ID prefix\n    controlType: string; // This is NOT in the API so far, but we need it\n    type?: string; // Change type, i.e. <code>propertyChange</code>\n    content: ChangeContent; // Content of the change needed by the corresponding change handler\n    isCustomer?: boolean; // Flag indicating whether the project is related to a customer project\n    sapui5Version?: string; // SAPUI5 version for which the change is created\n    creatingTool?: string; // Name of the tool calling this function (this is needed for support reasons)\n}\n\nexport type CreateFlexChange = (change: ChangeDefinitionInCreation, manifest: Manifest) => string;\nexport type exportFlexValue = (flexChange: ChangeDefinitionInCreation, configObject: object, key: string) => void;\nexport type importFlexValue = (flexChange: ChangeDefinitionInCreation, configObject: object, key: string) => void;\n\nexport type ControlTypeFunction = () => ControlType;\nexport type ControlIdFunction = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType?: ControlTypeFunction,\n    title?: string\n) => string;\n\nexport interface FlexAdapter {\n    controlId: ControlIdFunction;\n    controlType: ControlTypeFunction;\n    createFlexChange: CreateFlexChange;\n    exportFlexValue?: exportFlexValue;\n    importFlexValue?: importFlexValue;\n}\n\nexport type ManifestPath = (pageKeys?: string[], manifest?: Manifest, ...pathParts) => string;\n\nexport type ExportHandlerFunction = (\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey?: string,\n    ...pathParts: string[]\n) => unknown;\n\nexport interface ManifestConverter {\n    path: ManifestPath;\n    key?: string;\n    import?:\n        | ((manifestSection: unknown, sectionId?: string, propertyKey?: string, breadcrumbs?: string[]) => unknown)\n        | boolean;\n    export?: ExportHandlerFunction | boolean;\n    delete?:\n        | ((\n              manifestSection: unknown,\n              configObject: unknown,\n              key: string,\n              manifestKey: string,\n              syncRuleKey?: string,\n              config?: object\n          ) => unknown)\n        | boolean;\n}\n\nexport interface SyncRule {\n    flex?: FlexAdapter;\n    manifest?: ManifestConverter;\n    generate?: (schema: object, definition: object, propertyName: string) => unknown;\n}\n\nexport interface Content {\n    property: string;\n    oldValue?: ManifestSettingsType;\n    newValue: ManifestSettingsType;\n}\nexport interface Selector {\n    id: string;\n    type: string;\n    idIsLocal?: boolean;\n}\n\nexport interface PageLayoutInformation {\n    id: string;\n    pageId: string;\n}\n\nexport interface FakeLRepSettings {\n    isKeyUser: boolean;\n    isAtoAvailable: boolean;\n    isProductiveSystem: boolean;\n}\n\nexport interface ValidityInformation {\n    since: string;\n    deprecated?: Deprecated;\n}\n\nexport interface DeprecatedProperties {\n    [key: string]: ValidityInformation;\n}\n\nexport interface Deprecated {\n    since: string;\n    text?: string;\n}\n\nexport enum FacetBase {\n    LineItem = 'LineItem',\n    CollectionFacet = 'CollectionFacet',\n    Chart = 'Chart',\n    Form = 'Form',\n    Identification = 'Identification',\n    DataPoint = 'DataPoint',\n    Address = 'Address',\n    Contact = 'Contact',\n    PresentationVariant = 'PresentationVariant',\n    Unknown = ''\n}\n\nexport interface FacetConfig {\n    base: FacetBase;\n    lineItem?: string[];\n    Label?: string;\n    ID?: string;\n    entityType?: EntityType;\n    annotationPath?: string;\n    target?: object;\n    facets?: FacetConfigs;\n    namespace?: string;\n}\n\nexport interface SubSectionConfig {\n    base: FacetBase;\n    Label?: string;\n    ID?: string;\n    facets: FacetConfigs;\n    annotationPath?: string;\n    entityType?: EntityType;\n    target?: object;\n    namespace?: string;\n}\n\nexport interface FacetConfigs {\n    [key: string]: FacetConfig | SubSectionConfig;\n}\n\nexport interface File {\n    dataSourceUri: string;\n    fileContent: string;\n}\n\nexport interface Files {\n    [name: string]: object;\n}\n\nexport interface FacetSection {\n    key: string;\n    label?: string;\n    ID?: string;\n    custom?: boolean;\n    entityType?: EntityType;\n    namespace?: string;\n}\n\nexport interface SchemaFilePath {\n    filename: string;\n    path: string;\n}\n\nexport interface ObjectPageSectionData {\n    target: string;\n    key?: string;\n}\n\nexport const BindingPropertyRegexAsString = \"^{[A-Za-z0-9{}&$!@#%? _|,<>'()[\\\\]\\\\/:=.]+}$\";\n\nexport enum ViewTemplateType {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension',\n    ResponsiveTableCellsExtension = 'ResponsiveTableCellsExtension'\n}\n\n//Definitions for elements in app schema\nexport enum DefinitionName {\n    Action = 'Action',\n    Actions = 'Actions',\n    ActionsLR = 'Actions<LineItems>',\n    ALPChart = 'ALPChart',\n    ALPChartView = 'ALPChartView',\n    ALPTable = 'ALPTable',\n    ALPTableView = 'ALPTableView',\n    AnalyticalListPageFilterBar = 'AnalyticalListPageFilterBar',\n    AnnotationPathAsObject = 'AnnotationPathAsObject',\n    ChartToolBarAction = 'ChartToolBarAction',\n    CommonHeaderFacetSettings = 'CommonHeaderFacetSettings',\n    CompactFilters = 'CompactFilters',\n    CustomFooterActionOP = 'CustomFooterActionOP',\n    CustomHeaderAction = 'CustomHeaderAction',\n    CustomHeaderActionOP = 'CustomHeaderActionOP',\n    CustomFormActionOP = 'CustomFormActionOP',\n    CustomTableAction = 'CustomTableAction',\n    CustomTableActionOP = 'CustomTableActionOP',\n    CustomColumn = 'TableCustomColumn',\n    CustomColumnOP = 'TableCustomColumnOP',\n    CustomColumns = 'TableCustomColumns',\n    CustomSections = 'CustomSections',\n    FieldPath = 'FieldPath',\n    Field = 'Field',\n    Fields = 'Fields',\n    Fields4Dialog = 'Fields4Dialog',\n    FilterBar = 'FilterBar',\n    FilterBarVisualFilters = 'FilterBarVisualFilters',\n    Footer = 'Footer',\n    FooterAction = 'FooterAction',\n    FooterActionV4 = 'FooterActionV4',\n    FooterActions = 'FooterActions',\n    FooterActionsLR = 'FooterActions<LineItems>',\n    Form = 'Form',\n    FormAction = 'FormAction',\n    GenericActions = 'GenericActions',\n    GenericColumnsOP = 'GenericColumnsOP',\n    GenericFooter = 'GenericFooter',\n    GenericSections = 'GenericSections',\n    Header = 'Header',\n    HeaderActions = 'HeaderActions',\n    ObjectPageHeaderAction = 'ObjectPageHeaderAction',\n    ObjectPageHeaderActions = 'ObjectPageHeaderActions',\n    HeaderSections = 'HeaderSections',\n    LineItems = 'LineItems',\n    LineItemsOfView = 'LineItemsOfView',\n    ListReportFilterBar = 'ListReportFilterBar',\n    LRTableView = 'LRTableView',\n    LRChartView = 'LRChartView',\n    MultiEditV2 = 'MultiEdit',\n    MultiTableModeV4 = 'MultiTableModeV4',\n    ObjectPageChart = 'ObjectPageChart',\n    ObjectPageCustomSectionFragment = 'ObjectPageCustomSectionFragment',\n    ObjectPageForm = 'ObjectPageForm',\n    ObjectPageFooter = 'ObjectPageFooter',\n    ObjectPageFooterAction = 'ObjectPageFooterAction',\n    ObjectPageFooterActions = 'ObjectPageFooterActions',\n    ObjectPageHeader = 'ObjectPageHeader',\n    ObjectPageHeaderSectionForm = 'ObjectPageHeaderSectionForm',\n    ObjectPageHeaderSectionChart = 'ObjectPageHeaderSectionChart',\n    ObjectPageHeaderSectionDataPoint = 'ObjectPageHeaderSectionDataPoint',\n    ObjectPageHeaderSectionContact = 'ObjectPageHeaderSectionContact',\n    ObjectPageHeaderSectionAddress = 'ObjectPageHeaderSectionAddress',\n    ObjectPageLayout = 'ObjectPageLayout',\n    ObjectPagePresentationVariant = 'ObjectPagePresentationVariant',\n    ObjectPageSectionAddress = 'ObjectPageSectionAddress',\n    ObjectPageSectionChart = 'ObjectPageSectionChart',\n    ObjectPageSectionContact = 'ObjectPageSectionContact',\n    ObjectPageSectionDataPoint = 'ObjectPageSectionDataPoint',\n    ObjectPageSectionForm = 'ObjectPageSectionForm',\n    ObjectPageSectionPresentationVariant = 'ObjectPageSectionPresentationVariant',\n    ObjectPageSectionTableV4 = 'ObjectPageSectionTableV4',\n    ObjectPageSubSections = 'ObjectPageSubSections',\n    ObjectPageTable = 'ObjectPageTable',\n    ObjectPageTableColumn = 'ObjectPageTableColumn',\n    ObjectPageToolBar = 'ObjectPageToolBar',\n    ObjectPageToolBarAction = 'ObjectPageToolBarAction',\n    ObjectPageToolBarActions = 'ObjectPageToolBarActions',\n    Position = 'Position',\n    PositionOP = 'PositionOP',\n    QuickVariant = 'QuickVariant',\n    QuickVariantSelectionOP = 'QuickVariantSelectionOP',\n    QuickVariantSelectionV4OP = 'QuickVariantSelectionV4OP',\n    RelatedFacetKeys = 'RelatedFacetKeys',\n    Sections = 'Sections',\n    SectionActions = 'SectionActions',\n    SelectionFields = 'SelectionFields',\n    Table = 'Table',\n    TableSPV = 'TableSPV',\n    TableColumn = 'TableColumn',\n    TableViewExtension = 'TableViewExtension',\n    ToolBarAction = 'ToolBarAction',\n    ToolBarLR = 'ToolBar<LineItems>',\n    ToolBar = 'ToolBar',\n    ViewTableColumn = 'ViewTableColumn',\n    ViewCustomColumn = 'ViewTableCustomColumn',\n    ViewCustomAction = 'ViewTableCustomAction',\n    ViewChartToolBar = 'ViewChartToolBar',\n    ViewToolBarAction = 'ViewToolBarAction',\n    ViewPosition = 'ViewPosition',\n    ViewCustomActionPosition = 'ViewCustomActionPosition',\n    VisualFilters = 'VisualFilters',\n    VisualFilter = 'VisualFilter',\n    CustomActionPosition = 'CustomActionPosition',\n    CustomActionPositionOP = 'CustomActionPositionOP',\n    CustomHeaderActionPosition = 'CustomHeaderActionPosition',\n    CustomHeaderActionPositionOP = 'CustomHeaderActionPositionOP',\n    CustomFooterActionPositionOP = 'CustomFooterActionPositionOP'\n}\n\nexport enum PropertyName {\n    actions = 'actions',\n    annotationPath = 'annotationPath',\n    chart = 'chart',\n    columns = 'columns',\n    defaultPath = 'defaultPath',\n    defaultTemplateAnnotationPath = 'defaultTemplateAnnotationPath',\n    footer = 'footer',\n    header = 'header',\n    sections = 'sections',\n    table = 'table',\n    views = 'views',\n    visualFilters = 'visualFilters'\n}\n\nexport enum SchemaTag {\n    annotationPath = 'annotationPath',\n    annotationType = 'annotationType',\n    artifactType = 'artifactType',\n    controlType = 'controlType',\n    dataType = 'dataType',\n    fullyQualifiedName = 'fullyQualifiedName',\n    hidden = 'hidden',\n    isViewNode = 'isViewNode',\n    key = 'key',\n    keys = 'keys',\n    target = 'target',\n    propertyIndex = 'propertyIndex'\n}\n\nexport enum SchemaKeyName {\n    id = 'ID',\n    value = 'Value',\n    action = 'Action',\n    target = 'Target',\n    key = 'Key'\n}\n\nexport const METADATAPATH = 'webapp/localService/metadata.xml';\nexport const MANIFESTPATH = 'webapp/manifest.json';\nexport const VOCWITHSLASH = '/@com.sap.vocabularies';\nexport const VOCWITHCOLONS = '::@com.sap.vocabularies';\nexport const UIVOCABULARY = 'com.sap.vocabularies.UI.v1';\nexport const UIVOCABULARYDOT = 'com.sap.vocabularies.UI.v1.';\nexport const UIVOCABULARYALPHADOT = '@com.sap.vocabularies.UI.v1.';\nexport const QUICKVARPATH = '/quickVariantSelection';\nexport const QUICKVARPATHX = '/quickVariantSelectionX';\nexport const DATESETTINGSPATH = '/filterSettings/dateSettings';\nexport const FRAGMENTNAMEPART = '.fragment.';\n\nexport interface MacrosXMLPathInfo {\n    name: string;\n    index: number;\n}\nexport type MacrosXMLPath = Array<MacrosXMLPathInfo>;\n\nexport enum MacrosPropertyType {\n    Control = 'Control',\n    Property = 'Property',\n    Aggregation = 'Aggregation',\n    Event = 'Event'\n}\n\nexport interface SelectionPositionRange {\n    startOffset: number;\n    endOffset: number;\n    startLine: number;\n    endLine: number;\n    startColumn: number;\n    endColumn: number;\n}\n\nexport interface MacrosSchemaMetadata {\n    // Absolute path in XML to target element\n    path?: MacrosXMLPath;\n    // Control full name\n    controlName?: string;\n    // Type of property - SAPUI5 control and it's subtypes.\n    type?: MacrosPropertyType;\n    // Position in file.\n    position?: SelectionPositionRange;\n}\n\nexport interface SchemaDefinition extends Definition {\n    isViewNode?: boolean;\n    propertyIndex?: number;\n    metadata?: MacrosSchemaMetadata;\n    hidden?: boolean;\n    annotationPath?: string;\n}\n", "import type { Target } from './page';\nimport type { Pages as PagesV2, AppSettings as AppSettingsV2 } from '../v2';\nimport type { Pages as PagesV4, AppSettings as AppSettingsV4 } from '../v4';\nimport type { FlexibleColumnLayoutType } from './types';\n\nexport enum DraftDiscardEnabledSettings {\n    restricted = 'restricted'\n}\nexport interface DraftDiscardConfirmationSettings {\n    /**\n     * Allows applications to turn off the discard draft confirmation popup in various scenarios\n     */\n    enabled: DraftDiscardEnabledSettings;\n}\n\nexport enum TableColumnVerticalAlignment {\n    Top = 'Top',\n    Middle = 'Middle',\n    Bottom = 'Bottom'\n}\n\nexport enum StatePreservationMode {\n    persistence = 'persistence',\n    discovery = 'discovery'\n}\n\nexport interface Application {\n    $schema?: string;\n    id?: string;\n    pages?: PagesV2 | PagesV4;\n    home?: string;\n    target?: Target;\n    settings?: AppSettingsV2 | AppSettingsV4;\n}\n\nexport enum FlexibleColumnLayoutAggregations {\n    BeginColumnPages = 'beginColumnPages',\n    MidColumnPages = 'midColumnPages',\n    EndColumnPages = 'endColumnPages'\n}\n\nexport interface FlexibleColumnLayout {\n    defaultTwoColumnLayoutType?: FlexibleColumnLayoutType;\n    defaultThreeColumnLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface CommonAppSettings {\n    /**\n     * To change the application header, in your project artifacts, change the i18n property file\n     * for your app under webapp/i18n/i18n.properties ->appTitle. Then, refer to the title as\n     * {{appTitle}} in the sap.app section of the manifest file.\n     * @i18nClassification TIT: Title of the application\n     */\n    title?: string;\n    /**\n     * To change the application header, in your project artifacts, change the i18n property file\n     * for your app under webapp/i18n/i18n.properties ->appDescription. Then, refer to the description\n     * as {{appDescription}} in the sap.app section of the manifest file.\n     * @i18nClassification TIT: Description of the application\n     */\n    description?: string;\n    /**\n     * To enable key user adaptation for the application, set the flexEnabled property to \"true\".\n     */\n    flexEnabled?: boolean;\n}\n", "import type { SapUiAppV2 } from '../../../v2/webapp/manifest/sapUiPageV2';\nimport type { SapUi5 as SapUi5V2 } from '../../../v2/webapp/manifest/sapUi5';\nimport type { SapUi as SapUiV2 } from '../../../v2/webapp/manifest/sapUi';\nimport type { SapOvp } from './sapOvp';\nimport type { SapUi5V4 } from '../../../v4/webapp/manifest/sapUi5';\nimport type { ManifestSettingsType } from '../../types';\n\nexport enum DataSourceType {\n    OData = 'OData',\n    ODataAnnotation = 'ODataAnnotation'\n}\n\nexport type ODataVersionType = '2.0' | '4.0';\n\nexport interface Inbound {\n    signature?: {\n        parameters: {};\n        additionalParameters: 'allowed';\n    };\n    semanticObject?: string;\n    action?: string;\n    title?: string;\n    subTitle?: string;\n    icon?: '';\n}\n\nexport interface CrossNavigation {\n    inbounds?: {\n        [key: string]: Inbound;\n    };\n}\n\nexport interface SapAppSourceTemplate {\n    id: string;\n    version?: string;\n    toolsId?: string;\n}\n\nexport interface SapApp {\n    id?: string;\n    title?: string;\n    type?: string;\n    description?: string;\n    dataSources?: SapAppDataSources | SapAppDataSourcesWithOptions;\n    offline?: boolean;\n    resources?: string;\n    sourceTemplate?: SapAppSourceTemplate;\n    crossNavigation?: CrossNavigation;\n}\n\nexport interface SapAppDataSources {\n    [key: string]: SapAppDataSource;\n    mainService: SapAppDataSource;\n}\n\nexport interface SapAppDataSource {\n    uri: string;\n    type: DataSourceType;\n    settings: SapAppDataSourceSettings;\n}\n\nexport interface SapAppDataSourceWithOptions extends SapAppDataSource {\n    isLocal: boolean;\n    order: number;\n    isActive: boolean;\n}\n\nexport interface SapAppDataSourcesWithOptions {\n    [key: string]: SapAppDataSourceWithOptions;\n}\n\nexport interface SapAppDataSourceSettings {\n    [key: string]: ManifestSettingsType;\n    annotations?: string[];\n    localUri?: string;\n    odataVersion?: ODataVersionType;\n}\n\nexport enum ManifestSection {\n    ui = 'sap.ui',\n    app = 'sap.app',\n    generic = 'sap.ui.generic.app',\n    ovp = 'sap.ovp',\n    ui5 = 'sap.ui5'\n}\n\nexport const GENERICAPPSETTINGS = `${ManifestSection.generic}/settings`;\n\nexport interface Manifest {\n    _version?: string;\n    'sap.ui'?: SapUiV2;\n    'sap.app'?: SapApp;\n    'sap.ui.generic.app'?: SapUiAppV2;\n    'sap.ovp'?: SapOvp;\n    'sap.ui5'?: SapUi5V2 | SapUi5V4;\n}\n", "import type { FlexibleColumnLayoutAggregations } from '../../Application';\nimport type { FlexibleColumnLayoutType } from '../../types';\n\nexport const FIORI_FCL_ROOT_VIEW_NAME = 'sap.fe.templates.RootContainer.view.Fcl';\n\nexport const FIORI_FCL_ROOT_ID = 'appRootView';\n\nexport enum ViewTypes {\n    XML = 'XML',\n    HTML = 'HTML',\n    JSON = 'JSON'\n    /** Deprecated as of version 1.90\n     * JS\n     * */\n}\n\nexport interface SapUi5RootView {\n    viewName: typeof FIORI_FCL_ROOT_VIEW_NAME | string;\n    type: ViewTypes;\n    id: typeof FIORI_FCL_ROOT_ID | string;\n    async?: boolean;\n}\n\nexport interface SapUi5OdataModel {\n    preload?: boolean;\n    dataSource: string;\n    settings?: {\n        bundleUrl?: string;\n        bundleName?: string;\n    };\n}\n\nexport interface SapUi5ResourceModel {\n    type: string;\n    uri?: string;\n}\n\nexport type SapUi5RoutingRouteTarget = string | string[];\n\nexport interface SapUi5RoutingRoute {\n    name: string;\n    pattern: string;\n    target: SapUi5RoutingRouteTarget;\n    layout?: FlexibleColumnLayoutType;\n}\n\nexport const SAPUI5_VIEW_CLASS = 'sap.ui.core.mvc.View';\nexport const SAPUI5_FRAGMENT_CLASS = 'sap.ui.core.Fragment';\n\nexport interface SapUi5ViewPath {\n    key: string;\n    annotationPath?: string;\n    entitySet?: string;\n    label?: string;\n    template?: string;\n    keepPreviousPersonalization?: boolean;\n    visible?: string;\n}\n\nexport interface SapUi5RoutingTargetSettingsViews {\n    shownCounts?: boolean;\n    paths?: Array<SapUi5ViewPath>;\n}\n\nexport interface SapUi5RoutingTargetNavigation {\n    detail: object;\n}\n\nexport interface SapUi5RoutingTargetSettings {\n    entitySet?: string;\n    contextPath?: string;\n    navigation?: { [key: string]: SapUi5RoutingTargetNavigation };\n    content?: {\n        header?: {\n            facets?: {};\n        };\n        body?: {\n            sections?: {};\n        };\n        footer?: {\n            actions?: {};\n        };\n        controlConfiguration?: {};\n    };\n    variantManagement?: string;\n    controlConfiguration?: object;\n    viewPath?: string;\n    views?: SapUi5RoutingTargetSettingsViews;\n}\n\nexport interface SapUi5RoutingTargetBase {\n    options?: {\n        settings: SapUi5RoutingTargetSettings;\n    };\n    controlAggregation?: FlexibleColumnLayoutAggregations;\n    contextPattern?: string;\n}\n\nexport interface SapUi5RoutingTarget extends SapUi5RoutingTargetBase {\n    type: string;\n    id: string;\n    name: string;\n}\n\nexport interface Dependencies {\n    minUI5Version?: string;\n    libs?: { [key: string]: { lazy?: boolean } };\n    components?: { [key: string]: { lazy?: boolean } };\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { Editor } from 'mem-fs-editor';\nimport type {\n    CustomPage as FPMCustomPage,\n    CustomTableColumn as FPMCustomTableColumn,\n    CustomSection as FPMCustomSection,\n    ObjectPage as FPMObjectPage,\n    CustomAction as FPMCustomAction,\n    CustomView as FPMCustomView,\n    ControllerExtension as FPMControllerExtension\n} from '@sap-ux/fe-fpm-writer';\nimport type { FioriElementsVersion, Manifest, v2, v4, File } from '.';\nimport type { SchemaType, FileData, FlexChangeLayer, ExportResults } from './common/types';\n\n// Export types from fpm-writer\nexport type { ControllerExtensionPageType, TargetControl as CustomActionTargetControl } from '@sap-ux/fe-fpm-writer';\n\nexport type MessageMetadataType = (object | string | number)[];\n\nexport const enum LogSeverity {\n    Error = 'error',\n    Warning = 'warning',\n    Info = 'info'\n}\n\nexport const LogSeverityLabel = {\n    [LogSeverity.Error]: 'Error',\n    [LogSeverity.Warning]: 'Warning',\n    [LogSeverity.Info]: 'Information'\n};\n\nexport type LogMessage = string | object | undefined;\n\nexport interface RangePosition {\n    line: number;\n    character: number;\n}\nexport interface Range {\n    start: RangePosition;\n    end: RangePosition;\n}\n\nexport interface Location {\n    path: string;\n    range?: Range | string[];\n}\n\n/**\n * Interface used to define a logger for the specificaton API\n */\nexport interface ExtensionLogger {\n    info: (message: string, ...meta: MessageMetadataType) => void;\n    warning: (message: string, ...meta: MessageMetadataType) => void;\n    error: (message: string, ...meta: MessageMetadataType) => void;\n}\n\n/**\n * Types for V2 schema generation\n */\nexport type GenerateListReportV2 = {\n    [SchemaType.ListReport]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateObjectPageV2 = {\n    [SchemaType.ObjectPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateOverviewPageV2 = {\n    [SchemaType.OverviewPage]: {\n        genericSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: object[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateSchemaV2Type =\n    | GenerateListReportV2\n    | GenerateObjectPageV2\n    | GenerateOverviewPageV2\n    | GenerateAnalyticalListPageV2;\n\nexport interface GenerateSchemaV2 {\n    [FioriElementsVersion.v2]: GenerateSchemaV2Type;\n}\n\n/**\n * Types for V4 schema generation\n */\nexport type GenerateListReportV4 = {\n    [SchemaType.ListReport]: {\n        genericSchema: object;\n        entitySet?: string;\n        contextPath?: string;\n        annotations: FileData[];\n        logger?: ExtensionLogger;\n        manifest?: object;\n    };\n};\n\nexport type GenerateObjectPageV4 = {\n    [SchemaType.ObjectPage]: {\n        genericSchema: object;\n        entitySet?: string;\n        contextPath?: string;\n        annotations: FileData[];\n        manifest: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: {\n        genericSchema: object;\n        entitySet?: string;\n        contextPath?: string;\n        annotations: FileData[];\n        logger?: ExtensionLogger;\n        manifest?: object;\n    };\n};\n\nexport type GenerateFreestylePageV4 = {\n    [SchemaType.FreestylePage]: {\n        genericSchema: object;\n        annotations: FileData[];\n        manifest: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateFPMPageV4 = {\n    [SchemaType.FPMCustomPage]: {\n        genericSchema: object;\n        views: FileData[];\n        manifest: object;\n        routingId: string;\n        annotations: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateSchemaV4Type =\n    | GenerateListReportV4\n    | GenerateObjectPageV4\n    | GenerateAnalyticalListPageV4\n    | GenerateFreestylePageV4\n    | GenerateFPMPageV4;\n\nexport interface GenerateSchemaV4 {\n    [FioriElementsVersion.v4]: GenerateSchemaV4Type;\n}\n\n/**\n * Union types for schema generation\n */\nexport type GenerateSchemaParameters = SyncBaseParameters & (GenerateSchemaV2 | GenerateSchemaV4);\n\n/**\n * Types for v2 export\n */\nexport type ExportListReportV2Parameters = {\n    appId: string;\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    fragments?: FileData[];\n    views?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ExportListReportV2 = {\n    [SchemaType.ListReport]: ExportListReportV2Parameters;\n};\n\nexport type ExportAnalyticalListPageV2Parameters = ExportListReportV2Parameters;\nexport type ExportAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: ExportAnalyticalListPageV2Parameters;\n};\n\nexport type ExportOverviewPageV2Parameters = {\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n};\nexport type ExportOverviewPageV2 = {\n    [SchemaType.OverviewPage]: ExportOverviewPageV2Parameters;\n};\n\nexport type ExportObjectPageV2Parameters = {\n    appId: string;\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ExportObjectPageV2 = {\n    [SchemaType.ObjectPage]: ExportObjectPageV2Parameters;\n};\n\nexport type ExportAppV2 = {\n    [SchemaType.Application]: {\n        application: v2.ApplicationV2;\n        manifest: object;\n        jsonSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\n/**\n * Types for v4 export\n */\nexport type ExportListReportV4Parameters = {\n    appId: string;\n    page: v4.PageV4;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n    appRootPath?: string;\n};\nexport type ExportListReportV4 = {\n    [SchemaType.ListReport]: ExportListReportV4Parameters;\n};\n\nexport type ExportAnalyticalListPageV4Parameters = ExportListReportV4Parameters;\n\nexport type ExportAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: ExportAnalyticalListPageV4Parameters;\n};\n\nexport type ExportObjectPageV4Parameters = {\n    appId: string;\n    page: v4.Page;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n    appRootPath?: string;\n};\nexport type ExportObjectPageV4 = {\n    [SchemaType.ObjectPage]: ExportObjectPageV4Parameters;\n};\n\nexport type ExportFPMCustomPageV4Parameters = {\n    appId: string;\n    page: v4.Page;\n    manifest: object;\n    jsonSchema: object;\n    fragments: FileData[];\n    views: FileData[];\n    logger?: ExtensionLogger;\n    appRootPath?: string;\n};\nexport type ExportFPMCustomPageV4 = {\n    [SchemaType.FPMCustomPage]: ExportFPMCustomPageV4Parameters;\n};\n\nexport type ExportAppV4 = {\n    [SchemaType.Application]: {\n        application: v4.ApplicationV4;\n        manifest: object;\n        jsonSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type ExportParametersV4Type =\n    | ExportListReportV4\n    | ExportObjectPageV4\n    | ExportAppV4\n    | ExportAnalyticalListPageV4\n    | ExportFPMCustomPageV4;\n\nexport interface ExportParametersV4 {\n    [FioriElementsVersion.v4]: ExportParametersV4Type;\n}\n\nexport interface UI5Version {\n    ui5Version?: string;\n    layer?: FlexChangeLayer;\n}\n\nexport type ExportParametersV2Type =\n    | ExportListReportV2\n    | ExportObjectPageV2\n    | ExportOverviewPageV2\n    | ExportAppV2\n    | ExportAnalyticalListPageV2;\n\nexport interface ExportParametersV2 {\n    [FioriElementsVersion.v2]: ExportParametersV2Type;\n}\n\n/**\n * Union types for export\n */\nexport type ExportConfigParameters = UI5Version & SyncBaseParameters & (ExportParametersV2 | ExportParametersV4);\n\n/**\n * Types for v2 import\n */\nexport type ImportListReportV2Parameters = {\n    manifest: object;\n    flex: string[];\n    jsonSchema: object;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ImportListReportV2 = {\n    [SchemaType.ListReport]: ImportListReportV2Parameters;\n};\n\nexport type ImportObjectPageV2Parameters = {\n    manifest: object;\n    flex: string[];\n    jsonSchema: object;\n    entitySet: string;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ImportObjectPageV2 = {\n    [SchemaType.ObjectPage]: ImportObjectPageV2Parameters;\n};\n\nexport type ImportOverviewPageV2Parameters = {\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n};\nexport type ImportOverviewPageV2 = {\n    [SchemaType.OverviewPage]: ImportOverviewPageV2Parameters;\n};\n\nexport type ImportALPV2Parameters = ImportListReportV2Parameters;\nexport type ImportAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: ImportALPV2Parameters;\n};\n\n/**\n * Types for v4 import\n */\nexport type ImportListReportV4Parameters = {\n    manifest: object;\n    jsonSchema: Definition;\n    logger?: ExtensionLogger;\n};\nexport type ImportListReportV4 = {\n    [SchemaType.ListReport]: ImportListReportV4Parameters;\n};\n\nexport type ImportObjectPageV4Parameters = {\n    manifest: object;\n    jsonSchema: Definition;\n    routingId: string;\n    logger?: ExtensionLogger;\n};\nexport type ImportObjectPageV4 = {\n    [SchemaType.ObjectPage]: ImportObjectPageV4Parameters;\n};\n\nexport type ImportAnalyticalListPageV4Parameters = ImportListReportV4Parameters;\nexport type ImportAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: ImportAnalyticalListPageV4Parameters;\n};\n\nexport type ImportFPMCustomPageV4Parameters = {\n    manifest: Manifest;\n    jsonSchema: Definition;\n    routingId: string;\n    fragments: FileData[];\n    views: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ImportFPMCustomPageV4 = {\n    [SchemaType.FPMCustomPage]: ImportFPMCustomPageV4Parameters;\n};\n\nexport type ImportParametersV4Type =\n    | ImportListReportV4\n    | ImportObjectPageV4\n    | ImportAnalyticalListPageV4\n    | ImportFPMCustomPageV4;\n\nexport interface ImportParametersV4 {\n    [FioriElementsVersion.v4]: ImportParametersV4Type;\n}\n\nexport type ImportParametersV2Type =\n    | ImportListReportV2\n    | ImportObjectPageV2\n    | ImportOverviewPageV2\n    | ImportAnalyticalListPageV2;\nexport interface ImportParametersV2 {\n    [FioriElementsVersion.v2]: ImportParametersV2Type;\n}\n\nexport type ImportResultsV2 =\n    | v2.ListReportConfigV2\n    | v2.ObjectPageConfigV2\n    | v2.OverviewPageConfigV2\n    | v2.AnalyticalListPageConfigV2;\nexport type ImportResultsV4 = v4.ListReportConfigV4 | v4.ObjectPageConfigV4;\n\nexport type ImportConfigParameters = SyncBaseParameters & (ImportParametersV2 | ImportParametersV4);\n\nexport interface Schemas {\n    [type: string]: object;\n}\n\nexport interface ExtensionFiles {\n    views: FileData[];\n    fragments: FileData[];\n}\n\nexport type ImportAllConfigsParameters = {\n    manifest: Manifest;\n    appSchemas: Schemas;\n    templateType: TemplateType;\n    serviceAVT: ConvertedMetadata;\n    logger?: ExtensionLogger;\n    flexChanges?: string[];\n    fragments?: FileData[];\n    views?: FileData[];\n};\n\nexport type ImportResults = ImportResultsV2 | ImportResultsV4;\n\n/**\n * Types for project import\n */\nexport interface ImportProjectParameters extends SyncBaseParameters {\n    manifest: Manifest;\n    annotations: FileData[];\n    flex?: string[];\n    fragments?: FileData[];\n    views?: FileData[];\n    logger?: ExtensionLogger;\n}\n\nexport enum TemplateType {\n    ListReportObjectPageV2 = 'ListReportObjectPageV2',\n    ListReportObjectPageV4 = 'ListReportObjectPageV4',\n    OverviewPageV2 = 'OverviewPageV2',\n    AnalyticalListPageV2 = 'AnalyticalListPageV2',\n    AnalyticalListPageV4 = 'AnalyticalListPageV4',\n    FreestylePageV4 = 'FreestylePageV4'\n}\n\nexport interface GenerateAppSchemaParameters extends SyncBaseParameters {\n    templateType: TemplateType;\n    manifest: Manifest;\n    serviceAVT: ConvertedMetadata;\n    fioriElementsVersion: FioriElementsVersion;\n    entitySet?: EntitySet;\n    fragments?: FileData[];\n    views?: FileData[];\n    logger?: ExtensionLogger;\n    entityType?: EntityType;\n}\n\nexport enum CustomExtensionType {\n    CustomPage = 'CustomPage',\n    CustomColumn = 'CustomColumn',\n    CustomSection = 'CustomSection',\n    ObjectPage = 'ObjectPage',\n    CustomAction = 'CustomAction',\n    CustomView = 'CustomView',\n    ControllerExtension = 'ControllerExtension'\n}\n\nexport interface GenerateCustomExtensionParams {\n    customExtension: CustomExtensionType;\n    basePath: string;\n    data: CustomExtensionData;\n    fsEditor?: Editor;\n}\n\nexport type CustomExtensionData =\n    | FPMCustomPage\n    | FPMCustomTableColumn\n    | FPMCustomSection\n    | FPMObjectPage\n    | FPMCustomAction\n    | FPMCustomView\n    | FPMControllerExtension;\n\n/**\n * API Version\n */\nexport interface ApiVersion {\n    version?: string;\n    fpmWriter?: string;\n}\n\n/**\n * API Feature toggles\n */\nexport enum Features {\n    BuildingBlocks = 'BuildingBlocks'\n}\n// Value from enum or any string to allow freedom from outside\nexport type FeatureToggle = Features | string;\n\nexport interface SyncBaseParameters {\n    featureToggles?: FeatureToggle[];\n}\n\n/**\n * API interface\n */\nexport interface Specification {\n    getGenericSchema: (version: FioriElementsVersion, schemaType: SchemaType) => Promise<JSON>;\n    generateSchema: (params: GenerateSchemaParameters) => object;\n    exportConfig: (params: ExportConfigParameters) => ExportResults;\n    importConfig: (params: ImportConfigParameters) => ImportResults;\n    importProject: (params: ImportProjectParameters) => Promise<File[]>;\n    getApiVersion: () => ApiVersion;\n    importProjectSchema: (params: ImportProjectParameters) => Promise<File[]>;\n    generateCustomExtension: (params: GenerateCustomExtensionParams) => Editor;\n}\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './overviewPage';\nexport * from './application';\nexport * from './ApplicationV2';\n", "/**\n * Represents the card default grid size in columns and rows\n */\nexport type DefaultSpanDef =\n    | {\n          /**\n           * Represents the card width calculated based on window width.\n           */\n          cols: number;\n          /**\n           * Represents the number of line items to display for table and list cards.\n           */\n          rows: number;\n          /**\n           * Set showOnlyHeader to true to render only the card header.\n           */\n          showOnlyHeader?: boolean;\n          /**\n           * To show more lines of text in the title you can configure this property (maximum allowed: 3 lines).\n           */\n          minimumTitleRow?: number;\n          /**\n           * To show more lines of text in the sub-title you can configure this property (maximum allowed: 2 lines).\n           */\n          minimumSubTitleRow?: number;\n      }\n    | 'auto';\n\nexport interface TabSetting {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the drop down value to be shown\n     */\n    value?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport interface CommonCardSettings {\n    /**\n     * Represents the dominant entity set that will be displayed in the given card.\n     */\n    entitySet?: string;\n    /**\n     * The language-dependent title of the card, used in the card header.\n     * @i18nClassification TIT: Title of the card, used in the card header\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the card, used in the card header.\n     * @i18nClassification TIT: Subtitle of the card, used in the card header\n     */\n    subTitle?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * The category of the card, as used in the card header.\n     */\n    category?: string;\n    /**\n     * To load cards with specific requirements, define a default size as part of the card definition in the descriptor file.\n     */\n    defaultSpan?: DefaultSpanDef;\n    /**\n     * Define an authorization check at card level.\n     */\n    requireAppAuthorization?: string;\n    /**\n     * Represents the card with view switch control.\n     */\n    tabs?: [TabSetting, ...TabSetting[]];\n    /**\n     * add $Select parameter in data fetch URL\n     */\n    addODataSelect?: boolean;\n}\n\nexport enum ChartCardType {\n    cardBubble = 'cardBubble',\n    cardchartsline = 'cardchartsline',\n    cardchartsdonut = 'cardchartsdonut'\n}\n\nexport enum CardTemplateType {\n    analytical = 'sap.ovp.cards.charts.analytical',\n    analyticalv4 = 'sap.ovp.cards.v4.charts.analytical',\n    list = 'sap.ovp.cards.list',\n    listv4 = 'sap.ovp.cards.v4.list',\n    linklist = 'sap.ovp.cards.linklist',\n    linklistv4 = 'sap.ovp.cards.v4.linklist',\n    table = 'sap.ovp.cards.table',\n    tablev4 = 'sap.ovp.cards.v4.table',\n    stack = 'sap.ovp.cards.stack'\n}\n\nexport const cardTemplateTypeMap = {\n    'sap.ovp.cards.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.v4.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.list': 'ListCard',\n    'sap.ovp.cards.v4.list': 'ListCard',\n    'sap.ovp.cards.linklist': 'LinklistCard',\n    'sap.ovp.cards.v4.linklist': 'LinklistCard',\n    'sap.ovp.cards.table': 'TableCard',\n    'sap.ovp.cards.v4.table': 'TableCard',\n    'sap.ovp.cards.stack': 'StackCard'\n};\n\nexport enum CardSettingsType {\n    analyticalCardSettings = 'analyticalCardSettings',\n    analyticalCardSettingsv4 = 'analyticalCardSettingsv4',\n    listCardSettings = 'listCardSettings',\n    listCardSettingsv4 = 'listCardSettingsv4',\n    stackCardSettings = 'stackCardSettings',\n    linkListCardSettings = 'linkListCardSettings',\n    tableCardSettings = 'tableCardSettings',\n    tableCardSettingsv4 = 'tableCardSettingsv4'\n}\n\nexport enum MeasureAggregateValues {\n    average = 'average',\n    max = 'max',\n    min = 'min',\n    sum = 'sum',\n    count = '$count'\n}\n\nexport interface MeasureAggregateSettings {\n    Axis1?: MeasureAggregateValues;\n    Axis2?: MeasureAggregateValues;\n    Axis3?: MeasureAggregateValues;\n}\n\n/**\n * Custom Card\n * @isViewNode true\n */\nexport interface CustomCard {\n    /**\n     * Represents the model for the card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this card.\n     * @TJS-pattern ^(?!(sap.ovp.cards.charts.analytical|sap.ovp.cards.v4.charts.analytical|sap.ovp.cards.linklist|sap.ovp.cards.v4.linklist|sap.ovp.cards.list|sap.ovp.cards.v4.list|sap.ovp.cards.stack|sap.ovp.cards.table|sap.ovp.cards.v4.table)$).*$\n     */\n    template: string; // due the extension concept for cards, this can be any string\n    /**\n     * Represents the properties that are passed to the custom card.\n     */\n    settings?: CustomCardSettings;\n}\n/**\n * List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface ListCard {\n    /**\n     * Represents the model for the List Card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this List Card.\n     */\n    template: CardTemplateType.list | CardTemplateType.listv4;\n    /**\n     * Represents the properties that are passed to the list card.\n     */\n    listCardSettings: ListCardSettings;\n}\n\n/**\n * Stack Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface StackCard {\n    /**\n     * Represents the model for the StackCard.\n     */\n    model: string;\n    /**\n     * Represents the Stack Card component path to use for this card.\n     */\n    template: CardTemplateType.stack;\n    /**\n     * Represents the properties that are passed to the stack card.\n     */\n    stackCardSettings: StackCardSettings;\n}\n\n/**\n * Link List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface LinklistCard {\n    /**\n     * Represents the model for the Link list Card.\n     */\n    model?: string;\n    /**\n     * Represents the Link list Card component path to use for this card.\n     */\n    template: CardTemplateType.linklist | CardTemplateType.linklistv4;\n    /**\n     * Represents the properties that are passed to the link list card.\n     */\n    linkListCardSettings: LinkListCardSettings;\n}\n\n/**\n * Table Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface TableCard {\n    /**\n     * Represents the model for the TableCard.\n     */\n    model: string;\n    /**\n     * Represents the Table Card component path to use for this card.\n     */\n    template: CardTemplateType.table | CardTemplateType.tablev4;\n    /**\n     * Represents the properties that are passed to the table card.\n     */\n    tableCardSettings: TableCardSettings;\n    /**\n     * If you set disableTableCardFlexibility to true, then at runtime, DataField records are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     * If you set disableTableCardFlexibility to false, then at runtime, table columns are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     */\n    disableTableCardFlexibility?: boolean;\n}\n\n/**\n * Analytical Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface AnalyticalCard {\n    /**\n     * Represents the model for the Analytical Card\n     */\n    model: string;\n    /**\n     * Represents the Analytical Card component path to use for this card.\n     */\n    template: CardTemplateType.analytical | CardTemplateType.analyticalv4;\n    /**\n     * Represents the properties that are passed to the analytical card.\n     */\n    analyticalCardSettings: AnalyticalCardSettings | AnalyticalCardSettingsv4;\n}\n\nexport type CustomCardNavigationType = 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n/**\n * @displayName settings\n */\nexport interface CustomCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Represents the static content that will be displayed in this card.\n     */\n    staticContent?: {\n        [k: string]: any;\n    }[];\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: 'extended' | 'condensed';\n    /**\n     * Represents the sort key for the entity set.\n     */\n    sortBy?: string;\n    /**\n     * Represents the sort order for the entity set.\n     */\n    sortOrder?: 'ascending' | 'descending';\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the KPI annotation path.\n     */\n    kpiAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path.\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the flag to indicate priority of number formatting over sap text.\n     */\n    ignoreSapText?: boolean;\n    /**\n     * Represents the Object Stream properties - properties that are passed to the Object Stream cards.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n    /**\n     * Represents the flag to indicate the use of object number/smart field.\n     */\n    enableLocaleCurrencyFormatting?: boolean;\n    /**\n     * Represents the configuration to alter the navigation mode in OVP Analytical Cards.\n     */\n    navigation?: CustomCardNavigationType;\n    /**\n     * Represents a switch to Show or Hide Filters in Cards Headers in OVP application.\n     */\n    showFilterInHeader?: boolean;\n    /**\n     * Represents a switch to Show or Hide Sorting in Cards Headers in OVP application.\n     */\n    showSortingInHeader?: boolean;\n    /**\n     * Flag for enabling images in a condensed list card.\n     */\n    imageSupported?: boolean;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n    /**\n     * This property is responsible for showing and hiding text labels on the geo spots.\n     */\n    showLabelText?: boolean;\n    /**\n     * This property is responsible for passing custom parameters present in the entity set to the navigating application.\n     */\n    customParams?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettings extends CommonCardSettings {\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettingsv4 extends AnalyticalCardSettings {\n    /**\n     *\n     */\n    measureAggregate?: MeasureAggregateSettings;\n}\n\nexport enum ListFlavorType {\n    standard = 'standard',\n    bar = 'bar',\n    carousel = 'carousel'\n}\n\nexport enum ListTypeType {\n    extended = 'extended',\n    condensed = 'condensed'\n}\n\nexport enum SortOrderType {\n    ascending = 'ascending',\n    descending = 'descending'\n}\n\n/**\n * @displayName settings\n */\nexport interface ListCardSettings extends CommonCardSettings {\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\n/**\n * @displayName settings\n */\nexport interface StackCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * The navigation property used to display information from a secondary entity set.\n     */\n    objectStreamCardsNavigationProperty?: string;\n    /**\n     * Configures additional settings for the cards displayed in the object stream.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n}\n\n/**\n * @displayName settings\n */\nexport interface TableCardSettings extends CommonCardSettings {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\nexport enum LinkListFlavorType {\n    standard = 'standard',\n    carousel = 'carousel'\n}\n\n/**\n * @displayName settings\n */\nexport interface LinkListCardSettings extends CommonCardSettings {\n    /**\n     * The targetUri is a URI defining the link to a quick view, related application or external resource.\n     */\n    targetUri?: string;\n    /**\n     * listFlavor represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: LinkListFlavorType;\n    /**\n     * sortBy defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * sortOrder defines the sort order. Valid values are 'ascending' or 'descending'\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * headerAnnotationPath represents the path to a HeaderInfo annotation.\n     */\n    headerAnnotationPath?: string;\n    /**\n     * staticContent represents the static content of a static link list card.\n     */\n    staticContent?: StaticContent[];\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n}\n\nexport interface StaticContent {\n    /**\n     * The language-dependent title of the StaticContent.\n     * @i18nClassification TIT: Title of the StaticContent\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the StaticContent.\n     * @i18nClassification TIT: Subtitle of the StaticContent\n     */\n    subTitle?: string;\n    /**\n     * The uri for the image of the StaticContent.\n     */\n    imageUri?: string;\n    /**\n     * The uri for the target of the StaticContent.\n     */\n    targetUri?: string;\n    /**\n     * The alternative text for the image of the StaticContent.\n     * @i18nClassification ALT: The alternative text for the image of the StaticContent\n     */\n    imageAltText?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    semanticObject?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    action?: string;\n    /**\n     * Open static content in a new window.\n     */\n    openInNewWindow?: boolean;\n}\n/**\n * Plot area is a parent property which defines multiple other properties for smoothness and marker size.\n */\nexport interface PlotAreaDef {\n    /**\n     * isSmoothed represents whether smoother curves are required or not.\n     */\n    isSmoothed?: boolean;\n    /**\n     * markerSize represents the size of the markers in scatter plots.\n     */\n    markerSize?: number;\n    /**\n     * dataLabel is a parent property that defines other properties for type.\n     */\n    dataLabel?: {\n        /**\n         * The data label type defines whether to display percentage values or actual counts in the donut chart.\n         */\n        type?: 'value' | 'percentage';\n    };\n}\n", "export const enum DateRangeType {\n    DATERANGE = 'DATERANGE',\n    DATE = 'DATE',\n    FROM = 'FROM',\n    TO = 'TO',\n    DAYS = 'DAYS',\n    LASTDAYS = 'LASTDAYS',\n    LASTWEEKS = 'LASTWEEKS',\n    WEEK = 'WEEK',\n    LASTMONTHS = 'LASTMONTHS',\n    MONTH = 'MONTH',\n    QUARTER = 'QUARTER',\n    LASTQUARTERS = 'LASTQUARTERS',\n    LASTYEARS = 'LASTYEARS',\n    LASTYEAR = 'LASTYEAR',\n    YEAR = 'YEAR',\n    NEXTDAYS = 'NEXTDAYS',\n    NEXTWEEKS = 'NEXTWEEKS',\n    NEXTMONTHS = 'NEXTMONTHS',\n    NEXTQUARTERS = 'NEXTQUARTERS',\n    NEXTYEARS = 'NEXTYEARS',\n    NEXT = 'NEXT',\n    SPECIFICMONTH = 'SPECIFICMONTH',\n    YESTERDAY = 'YESTERDAY',\n    YEARTODATE = 'YEARTODATE',\n    TODAY = 'TODAY',\n    TOMORROW = 'TOMORROW',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    NEXTWEEK = 'NEXTWEEK',\n    NEXT2WEEKS = 'NEXT2WEEKS',\n    NEXT3WEEKS = 'NEXT3WEEKS',\n    NEXT4WEEKS = 'NEXT4WEEKS',\n    NEXT5WEEKS = 'NEXT5WEEKS',\n    THISMONTH = 'THISMONTH',\n    LASTMONTH = 'LASTMONTH',\n    NEXTMONTH = 'NEXTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    NEXTQUARTER = 'NEXTQUARTER',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    TODAYFROMTO = 'TODAYFROMTO'\n}\n\nexport const enum DefaultDateRangeValueType {\n    YESTERDAY = 'YESTERDAY',\n    TODAY = 'TODAY',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    THISMONTH = 'THISMONTH',\n    TOMORROW = 'TOMORROW',\n    LASTMONTH = 'LASTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    THISYEAR = 'THISYEAR',\n    LASTYEAR = 'LASTYEAR',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    YEARTODATE = 'YEARTODATE',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    DATETOYEAR = 'DATETOYEAR'\n}\n\n/**\n * Filter Field\n * @isViewNode true\n */\nexport type SelectionField = {} | SelectionFieldDateSettings;\n\n/**\n * Filter Field for Date Settings\n * @isViewNode true\n */\nexport interface SelectionFieldDateSettings {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\nexport type FilterTypeCategory = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range type, or 'category' to filter by a whole subset.\n     */\n    path: 'category';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterTypeKey = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range, or 'category' to filter by a whole subset.\n     */\n    path: 'key';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterType = FilterTypeKey | FilterTypeCategory;\n\nexport interface DefaultDateRange {\n    /**\n     * The operation property is the value that will be set for semantic date range.\n     */\n    operation: DefaultDateRangeValueType;\n}\n\nexport interface DateRange {\n    /**\n     * If set to true all date fields with filter restriction interval will be treated as DateTimeRange filters.\n     */\n    useDateRange?: boolean;\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n}\n\nexport interface CommonFilterBar {\n    /**\n     * Controls whether smart variant management is active. Default is true.\n     */\n    smartVariantManagement?: boolean;\n    /**\n     * If liveMode is set, the search will be automatically triggered when a filter value is set.\n     */\n\n    liveMode?: boolean;\n    /**\n     * If you set the flag to true, then standard variant management is not available in the app. The app name is displayed instead.\n     * If you set the flag to false or if the flag is not at all contained in the manifest of the app, the standard variant management is available and can be enabled or disabled.\n     */\n    variantManagementHidden?: boolean;\n    /**\n     * You can choose an app-specific title by setting the corresponding value for the subTitleIfVariantMgmtHidden property.\n     * @i18nClassification TIT: Subtitle if variant management is hidden\n     */\n    subTitleIfVariantMgmtHidden?: string;\n    /**\n     * Use to set date settings for fields in smart filter bar\n     */\n    dateSettings?: DateRange;\n    /**\n     * Handles visibility of the Clear button on the FilterBar.\n     */\n    showClearOnFB?: boolean;\n    /**\n     * Handles visibility of the Filter button on the FilterBar.\n     */\n    showFilterConfiguration?: boolean;\n    /**\n     * Handles visibility of the Restore button on the FilterBar.\n     */\n    showRestoreOnFB?: boolean;\n    /**\n     * @isViewNode true\n     * Selection Fields\n     */\n    selectionFields?: SelectionFields;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface ListReportFilterBar extends CommonFilterBar {\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    annotationPath?: string;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface AnalyticalListPageFilterBar extends CommonFilterBar {\n    /**\n     * Go button is displayed for compact filters when this is set to true\n     */\n    showGoButtonOnFilterBar?: boolean;\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n", "import type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ToolBar } from './ToolBar';\nimport type { Action } from './Action';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\nimport type { TextAlign } from 'sap/ui/core/library';\n\n/**\n * Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * The width property defines the width of the column.\n     */\n    width?: string;\n    /**\n     * The hAlign property defines the horizontal alignment of the column content.\n     */\n    hAlign?: TextAlign;\n}\n\n/**\n * Column Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends Action, TableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * In case the fragment needs to be re-used for multiple tabs, the id property must be set to make the ids unique.\n     * @artifactType XMLProperty\n     */\n    id?: string;\n    /**\n     * The label of the custom column, preferably as an i18n key.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType XMLProperty\n     */\n    text?: string;\n    /**\n     * The column key\n     * @artifactType XMLProperty\n     */\n    columnKey: string;\n    /**\n     * The index of the column in the overall collection; if undefined, the custom column will be added at the end of the table.\n     * @minimum 0\n     * @hidden true\n     * @artifactType XMLProperty\n     */\n    columnIndex?: number;\n    /**\n     * If the content of your custom column refers to a property (such as{Price}), you need to include a corresponding 'leadingProperty' entry in the column definition.\n     * @artifactType XMLProperty\n     */\n    leadingProperty?: string;\n    /**\n     * The UI5 control used for your extension\n     * @artifactType Manifest\n     */\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    /**\n     * The relative path to your fragment with path segments separated by '.'. The first element is the app ID.\n     * @artifactType Manifest\n     */\n    fragmentName: string;\n    /**\n     * In case of a responsive table, you additionally need to specify a fragment for the table cells.\n     * @artifactType Manifest\n     */\n    cellsFragmentName?: string;\n    /**\n     * If you use QuickVariantSelectionX, you need to define the extensions per tab. 'tabKey' is the key provided when defining the QuickVariantSelectionX.\n     * @artifactType Manifest\n     */\n    tabKey?: string;\n    /**\n     * Type of custom column view extension.\n     * @artifactType Manifest\n     */\n    extensionType: TableColumnExtensionTypeV2;\n}\n\nexport enum customColumnViewTypes {\n    XML = 'XML'\n}\n\nexport enum TableTypeV2 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable',\n    TreeTable = 'TreeTable'\n}\n\nexport enum TableColumnExtensionTypeV2 {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension'\n}\n\nexport type AnyTableType =\n    | TableTypeV2.AnalyticalTable\n    | TableTypeV2.ResponsiveTable\n    | TableTypeV2.GridTable\n    | TableTypeV2.TreeTable;\nexport type AnyTable = AnalyticalTable | ResponsiveTable | GridTable | TreeTable;\n\n/**\n * Custom Columns\n * @isViewNode true\n */\nexport type TableCustomColumns = Array<TableCustomColumn>;\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableCustomColumns | TableColumnAction;\n}\n\nexport interface QuickVariant {\n    /**\n     * A key entry that is used for initializing the corresponding SegmentedButton item. This entry is mandatory.\n     */\n    key: string;\n    /**\n     * Use annotationPath to define a specific variant that points to a SelectionVariant or SelectionPresentationVariant annotation.\n     */\n    annotationPath: string;\n}\n\nexport interface QuickVariantX extends QuickVariant {\n    /**\n     * Represents the entity set that will be displayed in this variant\n     */\n    entitySet: string;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: AnyTableType;\n    /**\n     * To enable navigation for charts, you have to set the property to \"true\" and maintain an internal navigation target in the manifest.\n     */\n    showItemNavigationOnChart?: boolean;\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\nexport interface QuickVariantSelection {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface QuickVariantSelectionX extends QuickVariantSelection {\n    /**\n     * When set to true, this enables automatic binding of the table with either the tableBindingPath (if it exists) or the entitySet property.\n     */\n    enableAutoBinding?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariantX;\n    };\n}\n\nexport interface CreateWithFilters {\n    /**\n     * For the new create action to use the filter settings as input, set strategy to \"extension\" and implement the extension function as mentioned in help.sap.com for SAP S/4 HANA, section \u201CPrefilling Fields When Creating a New Entity Using an Extension Point\u201C.\n     */\n    strategy: Strategy;\n}\n\nexport enum Strategy {\n    extension = 'extension'\n}\n\nexport interface MultiEdit {\n    /**\n     * When multiEdit is enabled, by default the dialog displays editable fields corresponding to columns that are currently displayed in the table.\n     */\n    enabled?: boolean;\n    /**\n     * Use annotationPath to define a mass edit dialog that points to a FieldGroup annotation with a qualifier.\n     */\n    annotationPath?: string;\n    /**\n     * You can choose to hide certain fields from being displayed in key user adaptation and restrict them from being added to the Mass Edit dialog.\n     */\n    ignoredFields?: IgnoredFieldsType[];\n}\n\nexport const enum IgnoredFieldsType {\n    GENERICPROPERTY = 'GENERICPROPERTY'\n}\n\nexport enum DefaultContentView {\n    charttable = 'charttable',\n    chart = 'chart',\n    table = 'table'\n}\n\nexport enum DefaultFilterMode {\n    visual = 'visual',\n    compact = 'compact'\n}\n\nexport enum LoadDataOnAppLaunchSettings {\n    always = 'always',\n    never = 'never',\n    ifAnyFilterExist = 'ifAnyFilterExist'\n}\n\nexport interface DataLoadSettings {\n    /**\n     * Change the default behavior for autoloading of data.\n     * For multi-view scenarios, you can also change the setting enableAutobinding to False under quickVariantSelectionX instead of using the loadDataOnAppLaunch setting.\n     */\n    loadDataOnAppLaunch: LoadDataOnAppLaunchSettings;\n}\n\nexport interface Fields4Dialog {\n    fields: string[];\n}\n\nexport interface CommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4Dialog;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * The showTablePersonalisation attribute can be set to false to hide the table personalization button.\n     */\n    showTablePersonalisation?: boolean;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Set to false if the table does not occupy the entire space available in the container.\n     */\n    fitContainer?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelection;\n    /**\n     * Switch on the multiple view feature (Multiple table mode with charts) and link to the variants you have added to your annotations.\n     */\n    quickVariantSelectionX?: QuickVariantSelectionX;\n    /**\n     * For analytical tables, grid tables and tree tables you can define a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * If you have enabled harmonized variant management, by default, you cannot set a filter in the table personalization settings.\n     * To enable filtering, set the enableTableFilterInPageVariant property to true.\n     */\n    enableTableFilterInPageVariant?: boolean;\n    /**\n     * Change the default behavior for autoloading of data.\n     */\n    dataLoadSettings?: DataLoadSettings;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     * @isViewNode true\n     */\n    columns?: COLS;\n}\n\nexport interface ResponsiveTableCommonSettings extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when they are clicked rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows are rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n    /**\n     * Allows you to edit a single object or multiple objects using a dialog in the list report page.\n     */\n    multiEdit?: MultiEdit;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithMultiSelect extends ResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithInlineDelete extends ResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTable\n    extends ResponsiveTableCommonSettings,\n        ResponsiveTableWithMultiSelect,\n        ResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TreeTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface AnalyticalTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    //TODO keyPerformanceIndicators\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TableALPCommonSettings extends CommonTableSettings {\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * This setting allows developer to determine chart / table interaction. 'true' would mean chart act as filter for table, 'false' would mean that matching table rows are highlighted but table is not filtered.\n     */\n    autoHide?: boolean;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPResponsiveTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPGridTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPAnalyticalTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n}\n\nexport interface TableALP extends ALPResponsiveTable, ALPGridTable, ALPAnalyticalTable {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable & TableTypeV2.GridTable & TableTypeV2.AnalyticalTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface GridTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "export enum ChartType {\n    bar = 'bar',\n    column = 'column',\n    line = 'line',\n    combination = 'combination',\n    pie = 'pie',\n    donut = 'donut',\n    scatter = 'scatter',\n    bubble = 'bubble',\n    heatmap = 'heatmap',\n    bullet = 'bullet',\n    verticalBullet = 'vertical_bullet',\n    stackedBar = 'stacked_bar',\n    stackedColumn = 'stacked_column',\n    stackedCombination = 'stacked_combination',\n    horizontalStackedCombination = 'horizontal_stacked_combination',\n    dualBar = 'dual_bar',\n    dualColumn = 'dual_column',\n    dualLine = 'dual_line',\n    dualStackedBar = 'dual_stacked_bar',\n    dualStackedColumn = 'dual_stacked_column',\n    dualCombination = 'dual_combination',\n    dualStackedCombination = 'dual_stacked_combination',\n    dualHorizontalCombination = 'dual_horizontal_combination',\n    dualHorizontalStackedCombination = 'dual_horizontal_stacked_combination',\n    hundredStackedBar = '100_stacked_bar',\n    hundredStackedColumn = '100_stacked_column',\n    hundredDualStackedBar = '100_dual_stacked_bar',\n    hundredDualStackedColumn = '100_dual_stacked_column',\n    waterfall = 'waterfall',\n    horizontalWaterfall = 'horizontal_waterfall'\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ChartSettings {\n    /**\n     * Controls the visibility of the legend button.\n     */\n    showLegendButton?: boolean;\n    /**\n     * Controls the visibility of the chart download button.\n     */\n    showDownloadButton?: boolean;\n    /**\n     * Controls the visibility of the chart type button.\n     */\n    showChartTypeSelectionButton?: boolean;\n    /**\n     * Comma-separated value fields do not showup in the list of available chart types.\n     */\n    ignoredChartTypes?: ChartType[];\n    /**\n     * Controls the visibility of the data label.\n     */\n    showDataLabel?: boolean;\n}\n", "import type {\n    ObjectPageResponsiveTableWithMultiSelect,\n    ObjectPageResponsiveTableWithInlineDelete,\n    ObjectPageAnalyticalTable,\n    ObjectPageGridTable,\n    ObjectPageTreeTable,\n    ObjectPageChart,\n    ObjectPageForm\n} from './index';\nimport type { ViewTypes, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '../../common/webapp/manifest/sapUi5';\n\n/**\n * Section\n * @isViewNode true\n */\nexport interface ObjectPageSectionV2 {\n    /**\n     * Whether the section should be visible on the screen.\n     */\n    visible?: boolean;\n}\n\n/**\n * Form\n * @isViewNode true\n */\nexport interface ObjectPageSectionFormV2 extends ObjectPageSectionV2 {\n    form?: ObjectPageForm;\n}\n\nexport type AnyObjectPageTableType =\n    | ObjectPageResponsiveTableWithMultiSelect\n    | ObjectPageResponsiveTableWithInlineDelete\n    | ObjectPageAnalyticalTable\n    | ObjectPageGridTable\n    | ObjectPageTreeTable;\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface ObjectPageSectionTableV2 extends ObjectPageSectionV2 {\n    table?: AnyObjectPageTableType;\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ObjectPageSectionChartV2 extends ObjectPageSectionV2 {\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageSubSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSubSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type AnySubSectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSubSectionContactV2\n    | ObjectPageSubSectionAddressV2;\n\nexport interface GenericSubSections {\n    [key: string]: AnySubSectionType;\n}\n\n/**\n * Subsection\n * @isViewNode true\n */\nexport interface ObjectPageSubSectionV2 extends ObjectPageSectionV2 {\n    subsections?: GenericSubSections;\n}\n\nexport type AnySectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSectionContactV2\n    | ObjectPageSectionAddressV2\n    | ObjectPageSectionV2\n    | ObjectPageSubSectionV2;\n\nexport interface GenericSections {\n    [key: string]: AnySectionType;\n}\n\nexport type CustomSectionTypeV2 = ObjectPageCustomSectionView | ObjectPageCustomSectionFragment;\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    custom?: CustomSectionTypeV2[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    /**\n     * The label of the custom section, preferably as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * View\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionView extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n    type: ViewTypes;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    type: ExtensionFragmentTypes;\n}\n\nexport enum SectionPosition {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet',\n    ReplaceFacet = 'ReplaceFacet'\n}\n\nexport enum ExtensionFragmentTypes {\n    XML = 'XML'\n}\n", "import type { GenericColumns, TableTypeV2, QuickVariant } from './Table';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nexport interface QuickVariantSelectionOP {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface Fields4DialogOP {\n    fields: string[];\n}\n\nexport enum CreateMode {\n    inline = 'inline'\n}\n\nexport interface ObjectPageCommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4DialogOP;\n    /**\n     *  With editable you can control if a table can be edited. It should be set to false for smart tables with non-editable content.\n     */\n    editable?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have been added to your annotations before.\n     */\n    quickVariantSelection?: QuickVariantSelectionOP;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Use createMode 'inline' to enable inline creation of table entries for draft enabled applications.\n     */\n    createMode?: CreateMode;\n    /**\n     * If createMode is set to inline, you can use this setting to disable the default sort order.\n     */\n    disableDefaultInlineCreateSort?: boolean;\n    /**\n     * To enable variant management for a specific table on an object page.\n     */\n    variantManagement?: boolean;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ObjectPageToolBar;\n    /**\n     * Columns\n     */\n    columns?: COLS;\n}\n\n/**\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableCommonSettings extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when clicked, rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows shall be rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithMultiSelect extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithInlineDelete extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTable\n    extends ObjectPageResponsiveTableCommonSettings,\n        ObjectPageResponsiveTableWithMultiSelect,\n        ObjectPageResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageGridTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageTreeTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout, FlexibleColumnLayoutType } from '../../../common';\n\nexport interface SapUiAppV2 {\n    pages: SapUiAppPagesV2;\n    _version?: string;\n    settings?: SapUiAppSettingsV2;\n}\n\nexport interface SapUiAppPagesV2 {\n    [key: string]: SapUiAppPageV2;\n}\n\nexport const FE_TEMPLATE_V2 = 'sap.suite.ui.generic.template';\nexport const FE_TEMPLATE_V2_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage';\nexport const FE_TEMPLATE_V2_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport';\nexport const FE_TEMPLATE_V2_ALP = 'sap.suite.ui.generic.template.AnalyticalListPage';\n\nexport interface SapUiAppPageV2 {\n    entitySet?: string;\n    navigationProperty?: string;\n    component?: {\n        name: string;\n        list?: boolean;\n        settings?: SapUiGenericAppPageSettings;\n        sections?: {\n            sectionIds?: SapUiGenericAppPageSettings;\n        };\n    };\n    pages?: SapUiAppPagesV2;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface SapUiAppSettingsV2 {\n    flexibleColumnLayout?: FlexibleColumnLayout;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    SAPUI5_FRAGMENT_CLASS,\n    SAPUI5_VIEW_CLASS,\n    ViewTypes,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { ManifestSection } from '../../..';\n\nexport interface SapUi5 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV2;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5Extends;\n}\n\nexport interface SapUi5RoutingV2 {\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV2;\n}\n\nexport interface SapUi5RoutingTargetsV2 {\n    [key: string]: SapUi5RoutingTarget | SapUi5RoutingTargetCustomPageV2;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV2 extends SapUi5RoutingTargetBase {\n    viewId: string;\n    viewName: string;\n    viewLevel?: number;\n    title?: string;\n}\n\n// SAPUI5 EXTENDS\nexport const SAPUI5_VIEW_EXTENSION = 'sap.ui.viewExtensions';\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\n\nexport interface SapUi5Extends {\n    extensions?: SapUi5Extensions;\n}\n\nexport interface SapUi5Extensions {\n    [SAPUI5_VIEW_EXTENSION]?: SapUi5ViewExtensions;\n    // Added it here, but sync logic is not supported yet\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensions;\n}\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage.view.Details';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport.view.ListReport';\nexport const SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE =\n    'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage';\n\n// VIEW EXTENDS\nexport interface SapUi5PageViewExtensions {\n    [key: string]: SapUi5ViewExtensionView | SapUi5ViewExtensionFragment;\n}\n\nexport interface SapUi5ViewExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageViewExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageViewExtensions;\n}\n\nexport interface SapUi5ViewExtensionBase {\n    type: ViewTypes;\n}\n\nexport interface SapUi5ViewExtensionView extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n}\n\nexport interface SapUi5ViewExtensionFragment extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n\n// CONTROLLER EXTENDS\nexport interface SapUi5ControllerExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageControllerExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageControllerExtensions;\n}\n\nexport interface SapUi5PageControllerExtensions {\n    [key: string]: SapUi5ControllerExtension;\n}\n\nexport interface SapUi5ControllerExtension {\n    controllerName: string;\n    [ManifestSection.generic]: { [key: string]: SapUi5ControllerExtensionSettings };\n}\n\n// Currently sync does not support controller extensions\nexport interface SapUi5ControllerExtensionSettings {\n    EntitySet: string;\n    Actions?: unknown;\n    Header?: unknown;\n    Sections?: unknown;\n}\n", "import type {\n    DateRangeType,\n    FilterType,\n    DefaultDateRange,\n    DateRange,\n    ListCard,\n    AnalyticalCard,\n    StackCard,\n    LinklistCard,\n    TableCard,\n    CustomCard\n} from './controls';\n\n/**\n * @isViewNode false\n */\nexport interface SelectedValues {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\nexport interface DateRangeOVP extends DateRange {\n    /**\n     * For a fields' list you can define the set of standard date range values separately.\n     */\n    fields?: {\n        [field: string]: SelectedValues;\n    };\n}\n\nexport type FilterSettingsType = {\n    /**\n     * You can define date ranges, such as lastYear or nextQuarter on the Smart Filter Bar\n     */\n    dateSettings?: DateRangeOVP;\n};\n\nexport enum ContainerLayoutType {\n    fixed = 'fixed',\n    resizable = 'resizable'\n}\n\nexport type CardType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\nexport type ChartSettingsType = {\n    /**\n     * Set the showDataLabel property to true to make data labels visible in analytical cards.\n     */\n    showDataLabel?: boolean;\n};\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './application';\nexport * from './ApplicationV4';\n", "export enum ActionPlacement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor action.\n     * @artifactType Manifest\n     */\n    placement: ActionPlacement;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface CustomAction {\n    /**\n     * The text that is displayed on the button (typically a binding to an i18n entry).\n     * @i18nClassification COL: Custom action text\n     * @artifactType Manifest\n     */\n    text: string;\n\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPosition;\n\n    /**\n     * Relevant for extension actions; allows the definition of a target action handler.\n     * @artifactType Manifest\n     */\n    press: string;\n\n    /**\n     * Whether the action button should be visible on the screen.\n     * @artifactType Manifest\n     */\n    visible?: boolean;\n\n    /**\n     * Whether the action button should be enabled. Default value is `true`.\n     * @artifactType Manifest\n     */\n    enabled?: boolean;\n}\n\nexport interface CustomActionPositionOP extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface CustomActionOP extends CustomAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPositionOP;\n}\n", "import type {\n    TableColumn,\n    TableColumnAction,\n    TableCustomColumn,\n    ViewTableColumn,\n    ViewTableColumnAction,\n    ViewTableCustomColumn\n} from '../webapp/manifest/ManifestSettings';\nimport type { ToolBar, ViewChartToolBar } from './ToolBar';\n\nexport enum SelectionMode {\n    Multi = 'Multi',\n    None = 'None',\n    Single = 'Single',\n    Auto = 'Auto'\n}\n\nexport enum TableTypeV4 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable'\n    /* Not supported yet:\n    TreeTable = \"TreeTable\"*/\n}\n\nexport enum TableCreationModeType {\n    NewPage = 'NewPage',\n    Inline = 'Inline',\n    CreationRow = 'CreationRow'\n}\n\nexport enum InitialLoadType {\n    Disabled = 'Disabled',\n    Enabled = 'Enabled',\n    Auto = 'Auto'\n}\n\nexport enum DefaultPathType {\n    Primary = 'primary',\n    Secondary = 'secondary',\n    Both = 'both'\n}\n\nexport interface TableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface ViewTableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface PersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface ViewPersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface AnnotationPathAsObject {\n    annotationPath: string;\n}\n\n//Not used by specification anymore, but there are some tests using it in tools-suite that needs to be adapted\nexport interface AnnotationPathWithKey {\n    key: string;\n    annotationPath: string;\n    entitySet?: string;\n}\n\nexport interface QuickVariantSelectionV4 {\n    /**\n     * List of annotation paths referring to SelectionVariant annotations\n     */\n    paths: AnnotationPathAsObject[];\n    /**\n     * You can hide the table and display only the titles of the tabs. To do so, add the hideTableTitle option and set it to true.\n     */\n    hideTableTitle?: boolean;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableColumnAction | TableCustomColumn;\n}\n\nexport interface ViewColumns {\n    [key: string]: ViewTableColumn | ViewTableColumnAction | ViewTableCustomColumn;\n}\n\n// Note: TableSettings are reused by OP: LR only properties must not be added here.\nexport interface TableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV4;\n    /**\n     * Applications can influence whether the table rows are selectable or not, and whether it allows for single selection or multiple selection. It can take the following values:\n     * - \"Auto\": This is the default value. In this mode, Fiori Elements first checks if there are any custom actions or IBN buttons in the table toolbar that require a context. If no such buttons are found, then no table selection is allowed in display mode. In edit mode too a selection is not allowed unless there is a Delete button in the table toolbar in which case multiple row selection will be allowed.\n     * - \"Multi\": This will allow end users to select multiple table records (in both display and edit mode)\n     * - \"Single\" This will allow end user to select only a single table record (in both display and edit mode)\n     * - \"None\": This will not allow the end user to select any table record in display mode. This will also be the case in edit mode unless the table has a delete button enabled, in which multiple selection is allowed in delete mode.\n     */\n    selectionMode?: SelectionMode;\n    /**\n     * The selectAll configuration overrides the selectionLimit and allows the user to select all the items. When set to true, the select all feature is enabled: a checkbox in the table header is displayed which selects all items when clicked.\n     */\n    selectAll?: boolean;\n    /**\n     * With the selectionLimit you can define how many items can be selected at a time,\n     */\n    selectionLimit?: number;\n    /**\n     * The exporting of the table to an Excel file is enabled in List Report tables by default. In Object Page, the export to Excel is available by default if the copy/paste feature is also available; otherwise it is disabled.\n     * To disable the export in List Report or to enable it in Object Page, use the \"enableExport\" property and set it to false or true.\n     */\n    enableExport?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature (single table mode). It links to SelectionVariant (filters) or SelectionPresentationVariant (filters and sorters) you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelectionV4;\n    /**\n     * You can set the content density to condensed for ui.table on the list report and object page applications.\n     */\n    condensedTableLayout?: boolean;\n}\n\nexport type ViewTypeV4 = LRTableView | LRChartView | TableViewExtension | boolean;\n\n/**\n * Views\n * @isViewNode true\n */\nexport interface MultiTableModeV4 {\n    /**\n     * List of annotation paths\n     */\n    [key: string]: ViewTypeV4;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface ALPChartView {\n    /**\n     * The primary annotation path can be either UI.Chart, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n}\n\nexport interface CommonViewSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * To use charts in multiple table mode, define a UI.Chart annotation, including a qualifier.\n     * Reference the UI.Chart annotation in your SelectionPresentationVariant or PresentationVariant for your view.\n     */\n    annotationPath: string;\n    /**\n     * Each chart can be based on a different entitySet.\n     */\n    entitySet?: string;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface LRChartView extends CommonViewSettings {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface ALPTableView extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    columns?: ViewColumns;\n}\n\n/**\n * Table View Extension\n * @isViewNode true\n */\nexport interface TableViewExtension {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * View title (localization supported).\n     * @i18nClassification TIT: Custom view title\n     */\n    label?: string;\n    /**\n     * The name contains sap.app.id as a prefix, followed by the path in the app/webapp folder and the name of the XML view.\n     */\n    template: string;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface LRTableView extends TableSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * The annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Each table can be based on a different entitySet.\n     */\n    entitySet?: string;\n    /**\n     *  The tab keeps the default LineItem ID (without the key), so the variant is applied to it.\n     */\n    keepPreviousPersonalization?: boolean;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     */\n    columns?: ViewColumns;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface Table extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath?: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: TableCreationMode;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: PersonalizationType;\n    views?: MultiTableModeV4;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    columns?: GenericColumns;\n}\n", "import type { Availability } from '..';\n\nexport enum LayoutType {\n    Compact = 'Compact',\n    CompactVisual = 'CompactVisual'\n}\n\nexport enum InitialLayoutType {\n    Compact = 'Compact',\n    Visual = 'Visual'\n}\n\n/**\n * Visual Filter\n * @isViewNode true\n */\nexport interface VisualFilter {\n    /**\n     * Defines where the selection field should be shown.\n     * Default: it will be shown by default.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the selection field is neither available in the table nor in adaptation.\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * The valuelist annotation corresponding to the visual filter representation.\n     * @artifactType Manifest\n     * @hidden true\n     */\n    visualFilterValueList?: string;\n}\n\nexport type SelectionField = {};\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\n/**\n * Compact Filters\n * @isViewNode true\n */\nexport interface CompactFilters {\n    [key: string]: SelectionField;\n}\n\n/**\n * Visual Filters\n * @isViewNode true\n */\nexport interface VisualFilters {\n    [key: string]: VisualFilter;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface FilterBar {\n    /**\n     * To disable the filter bar, set hideFilterBar to true\n     * @artifactType Manifest\n     */\n    hideFilterBar?: boolean;\n\n    /**\n     * @isViewNode true\n     */\n    selectionFields?: SelectionFields | CompactFilters;\n\n    /**\n     * @isViewNode true\n     */\n    visualFilters?: VisualFilters;\n\n    /**\n     * Specifies the default filter mode on initial load. Possible values: \"Visual\" and \"Compact\"\n     * @artifactType Manifest\n     */\n    initialLayout?: InitialLayoutType;\n\n    /**\n     * Possible Values: \"Compact\" (if only compact filter is present) and \"CompactVisual\" if both compact and visual filters are present\n     * @artifactType Manifest\n     */\n    layout?: LayoutType;\n}\n", "import type { ActionAfterExecutionConfiguration } from '../webapp/manifest/ManifestSettings';\nimport type { CustomAction, CustomActionPosition } from './CustomAction';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface ActionAfterExecutionConfigurationToolBarLR extends ActionAfterExecutionConfiguration {}\n\nexport enum SelectType {\n    single = 'single',\n    multi = 'multi'\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ViewToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\nexport type ChartToolBarAction = {};\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface ViewActions {\n    [key: string]: ViewToolBarAction | ChartToolBarAction | ViewTableCustomAction;\n}\n\n/**\n * Table Toolbar\n * @isViewNode true\n */\nexport interface ToolBar {\n    actions: Actions;\n}\n\n/**\n * Chart Toolbar\n * @isViewNode true\n */\nexport interface ViewChartToolBar {\n    actions: ViewActions;\n}\n\nexport interface CustomTableAction extends CustomAction {\n    /**\n     * Indicates whether the action requires a selection of items.\n     * @artifactType XMLProperty\n     */\n    requiresSelection?: boolean;\n}\n\nexport interface ViewCustomActionPosition extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface ViewTableCustomAction extends CustomTableAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: ViewCustomActionPosition;\n}\n", "export const enum DesigntimeValues {\n    'not-adaptable-visibility' = 'not-adaptable-visibility'\n}\n\nexport interface FlexSettings {\n    /**\n     * You can restrict the adaptability of header facets via the setting 'flexSettings'/'designtime'. 'not-adaptable-visibility' means that 'remove' and 'add' are not possible, but 'move' is enabled.\n     */\n    designtime?: DesigntimeValues;\n}\n\nexport interface CommonHeaderFacetSettings {\n    /**\n     * Header facets marked as stashed are initially not visible on the UI. Key users can add these header facets via key user adaptation.\n     */\n    stashed?: boolean;\n    flexSettings?: FlexSettings;\n}\n\nexport interface ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: object;\n}\n\nexport interface ObjectPageHeaderSectionContact extends CommonHeaderFacetSettings {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageHeaderSectionAddress extends CommonHeaderFacetSettings {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type ObjectPageHeaderSectionChart = CommonHeaderFacetSettings;\nexport type ObjectPageHeaderSectionDataPoint = CommonHeaderFacetSettings;\n\n/**\n * Header Sections\n * @isViewNode true\n */\nexport interface HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "export enum SectionLayoutType {\n    Tabs = 'Tabs',\n    Page = 'Page'\n}\n\n/**\n * Page Layout\n * @isViewNode true\n */\nexport interface ObjectPageLayout {\n    /**\n     * sectionLayout defines the layout of the sections. The default is \"Page\" (all sections in one page), possible values are \"Page\" and \"Tabs\" (every section in its own tab).\n     */\n    sectionLayout?: SectionLayoutType;\n}\n", "import type { ObjectPageSectionTableV4 } from './ObjectPageTable';\nimport type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { ObjectPageForm } from './ObjectPageForm';\n\nexport interface ObjectPageSectionForm {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: ObjectPageForm;\n}\n\nexport interface ObjectPageSectionDataPoint {\n    /**\n     * Data Point\n     *  @isViewNode true\n     */\n    dataPoint?: object;\n}\n\nexport interface ObjectPageSectionContact {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddress {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageChart {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ObjectPageToolBar;\n}\n\nexport interface ObjectPageSectionChart {\n    /**\n     * Chart\n     * @isViewNode true\n     */\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionPresentationVariant {\n    /**\n     * Presentation Variant\n     */\n    [key: string]: ObjectPageSectionTableV4 | ObjectPageSectionChart;\n}\n\nexport interface GenericSections {\n    [key: string]:\n        | ObjectPageSectionTableV4\n        | ObjectPageSectionForm\n        | ObjectPageSectionDataPoint\n        | ObjectPageSectionContact\n        | ObjectPageSectionAddress\n        | ObjectPageSectionPresentationVariant;\n}\n\n/**\n * Subsections\n * @isViewNode true\n */\nexport interface ObjectPageSubSections {\n    subsections: GenericSections;\n}\n\nexport enum SectionPosition {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport enum CustomSectionViewTypesV4 {\n    XML = 'XML'\n}\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    /**\n     * Custom Sections\n     * @isViewNode true\n     */\n    custom?: ObjectPageCustomSectionFragment[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    id: string;\n    type: CustomSectionViewTypesV4;\n    /**\n     * The label of the custom section, preferrable as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\n\nexport interface SapUiAppV4 {\n    pages: SapUiAppPageV4[] | SapUiGenericAppPageMapV4;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPageMapV4 {\n    [key: string]: SapUiAppPageV4;\n}\n\nexport interface SapUiNavDetailsV4 {\n    detail?: {\n        route?: string;\n    };\n}\n\nexport type SapUi5MultiViewPath = {\n    key: string;\n    annotationPath: string;\n};\n\nexport type SapUi5MultiViewPaths = SapUi5MultiViewPath[];\n\nexport type SapUi5ALPPaths = [\n    {\n        primary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        secondary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        defaultPath: string;\n    }\n];\n\nexport type SapUi5Views = {\n    paths: SapUi5MultiViewPaths | SapUi5ALPPaths;\n    showCounts?: boolean;\n};\n\nexport type SapUiPageSettingsV4 = SapUiGenericAppPageSettings & {\n    entitySet?: string;\n    navigation?: {\n        [key: string]: SapUiNavDetailsV4;\n    };\n    controlConfiguration?: SapUiGenericAppPageSettings;\n    content?: SapUi5RoutingTargetContent;\n    views?: SapUi5Views;\n    defaultTemplateAnnotationPath?: string;\n};\n\nexport interface SapUiAppPageV4 {\n    type: string;\n    id: string;\n    name: string;\n    options: {\n        settings?: SapUiPageSettingsV4;\n    };\n}\n\nexport const FE_TEMPLATE_V4 = 'sap.fe.templates';\nexport const FE_TEMPLATE_V4_CUSTOM_PAGE = 'sap.fe.core.fpm';\nexport const FE_TEMPLATE_V4_OBJECT_PAGE = 'sap.fe.templates.ObjectPage';\nexport const FE_TEMPLATE_V4_LIST_REPORT = 'sap.fe.templates.ListReport';\nexport const FE_TEMPLATE_V4_ALP = 'sap.fe.templates.AnalyticalListPage';\nexport interface SapUiAppPagesV4 {\n    [key: string]: SapUiAppPageV4;\n}\nexport interface SapUi5RoutingTargetContent {\n    header?: object;\n    body?: SapUi5RoutingTargetContentBody;\n    footer?: object;\n}\n\nexport interface SapUi5RoutingTargetContentBody {\n    sections?: SapUi5RoutingTargetContentSections;\n}\n\nexport interface SapUi5RoutingTargetContentSections {\n    [key: string]: SapUi5RoutingTargetContentSection;\n}\n\nexport const SAPUI5_FRAGMENT_TYPE_V4 = 'XMLFragment';\nexport interface SapUi5RoutingTargetContentSection {\n    // Currently only xml fragment is supported\n    type: typeof SAPUI5_FRAGMENT_TYPE_V4;\n    name?: string;\n    title: string;\n    position: SapUi5RoutingTargetContentPosition;\n    template?: string;\n}\n\nexport enum SectionPositionV4 {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet'\n}\n\nexport interface SapUi5RoutingTargetContentPosition {\n    placement: SectionPositionV4;\n    anchor: string;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    ViewTypes,\n    SapUi5RoutingTargetSettings,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout } from '../../../common';\n\nexport interface FlexibleColumnLayoutV4 extends FlexibleColumnLayout {\n    /**\n     * To limit Flexible Column Layout to two columns. The third level will be displayed in full screen and not in a third column.\n     */\n    limitFCLToTwoColumns?: boolean;\n}\n\nexport interface SapUi5V4 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV4;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5ExtendsV4;\n}\n\nexport interface SapUi5RoutingV4 {\n    config?: SapUi5RoutingConfig;\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV4;\n}\n\nexport type RoutingTargetOptions =\n    | SapUi5RoutingTarget\n    | SapUi5RoutingTargetCustomPageV4\n    | SapUi5RoutingTargetCustomPageV4New;\n\nexport interface SapUi5RoutingTargetsV4 {\n    [key: string]: RoutingTargetOptions;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4New extends SapUi5RoutingTarget {\n    options?: {\n        settings: SapUi5RoutingTargetSettings & SapUi5CommonCustomPageV4;\n    };\n}\n\nexport interface SapUi5CommonCustomPageV4 extends SapUi5RoutingTargetBase {\n    viewName: string;\n    controlConfiguration?: SapUiGenericAppPageSettings;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4 extends SapUi5CommonCustomPageV4 {\n    viewId: string;\n    viewLevel?: number;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n    title?: string;\n}\n\nexport const FIORI_FCL_ROUTER_CLASS = 'sap.f.routing.Router';\nexport type RouterClass = typeof FIORI_FCL_ROUTER_CLASS | string;\nexport interface SapUi5RoutingConfig {\n    routerClass?: RouterClass;\n    flexibleColumnLayout?: FlexibleColumnLayoutV4;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n}\n\nexport interface SapUi5DependenciesV4 {\n    minUI5Version?: string;\n    incompatibleLimitation?: boolean;\n    libs?: SapUi5DependenciesLibV4;\n}\n\nexport const SAPUI5_DEPENDENCY_LIB_SAP_F = 'sap.f';\nexport interface SapUi5DependenciesLibV4 {\n    [SAPUI5_DEPENDENCY_LIB_SAP_F]?: SapUi5DependencyLibV4;\n    [key: string]: SapUi5DependencyLibV4;\n}\n\nexport interface SapUi5DependencyLibV4 {\n    minVersion?: string;\n    lazy?: boolean;\n}\n\nexport interface SapUi5ExtendsV4 {\n    extensions?: SapUi5ExtensionsV4;\n}\n\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.fe.templates.ObjectPage.ObjectPageController';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.fe.templates.ListReport.ListReportController';\n\nexport interface SapUi5ExtensionsV4 {\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensionsV4;\n}\n\nexport interface SapUi5ControllerExtensionsV4 {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5ControllerExtensionV4;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5ControllerExtensionV4;\n    [key: string]: SapUi5ControllerExtensionV4;\n}\n\nexport interface SapUi5ControllerExtensionV4 {\n    controllerName?: string;\n    controllerNames?: string[];\n}\n", "// Copies of sap.fe type definitions\nexport enum Placement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface Position {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport interface ViewPosition {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport type Positionable = {\n    /**\n     *   Defines the position of the column relative to other columns.\n     */\n    position?: Position;\n};\n\nexport interface ActionAfterExecutionConfiguration {\n    /**\n     * By default, a navigation is automatically triggered after an action execution. If applications want to disable the navigation, they can do so using the manifest setting \u201CnavigateToInstance\u201D.\n     */\n    navigateToInstance?: boolean;\n    /**\n     * The \"enableAutoScroll\" allows you to scroll to the newly created or changed item after execution of an action\n     */\n    enableAutoScroll?: boolean;\n}\n\nexport enum Availability {\n    'Default' = 'Default',\n    'Adaptation' = 'Adaptation',\n    'Hidden' = 'Hidden'\n}\n\nexport enum HorizontalAlign {\n    'Begin' = 'Begin',\n    'Center' = 'Center',\n    'End' = 'End'\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ViewTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ObjectPageTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends TableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface ViewTableColumnAction extends ViewTableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport type ColumnPropertiesType = string[];\n\n/**\n * Inline Action for Object Page\n * @isViewNode true\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ObjectPageTableColumnAction extends ObjectPageTableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: Position;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not be shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface ViewTableCustomColumn {\n    /**\n     *   Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: ViewPosition;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not be shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n", "import type { PageConfig } from '../../common';\nimport type {\n    ObjectPageHeader,\n    ObjectPageLayout,\n    GenericSections,\n    CustomSections,\n    ObjectPageFooter\n} from '../controls';\n\nexport enum VariantManagementTypeObjectPage {\n    None = 'None',\n    Control = 'Control'\n}\n\nexport interface ObjectPageConfigV4 extends PageConfig {\n    header?: ObjectPageHeader;\n    layout?: ObjectPageLayout;\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeObjectPage;\n\n    sections?: GenericSections | CustomSections;\n\n    footer?: ObjectPageFooter;\n}\n", "import type { PageConfig } from '../../common';\nimport type { ALPChartView, ALPTableView, DefaultPathType, FilterBar, Header, Table } from '../controls';\n\nexport enum VariantManagementTypeListReport {\n    None = 'None',\n    Control = 'Control',\n    Page = 'Page'\n}\n\nexport interface ListReportConfigV4 extends PageConfig {\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeListReport;\n    /**\n     * Header\n     */\n    header?: Header;\n    /**\n     * Filter Bar\n     */\n    filterBar?: FilterBar;\n\n    /**\n     * Chart\n     */\n    chart?: ALPChartView;\n\n    /**\n     * Table\n     */\n    table?: Table | ALPTableView;\n\n    /**\n     * defaultTemplateAnnotationPath must be a reference to a SelectionPresentationVariant.\n     * You use the SelectionPresentationVariant to configure the default visualizations and default filter values of the main content area.\n     */\n    defaultTemplateAnnotationPath?: string;\n\n    /**\n     * defaultPath can be \"primary\", \"secondary\", or \"both\". If it is \"primary\", SAP Fiori elements loads the app in chart-only view. If it is \"secondary\", SAP Fiori elements loads the app in table-only view. If it is \"both\", SAP Fiori elements loads the app in hybrid view.\n     */\n    defaultPath?: DefaultPathType;\n}\n", null, "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './overviewPage';\nexport * from './application';\nexport * from './ApplicationV2';\n", "/**\n * Represents the card default grid size in columns and rows\n */\nexport type DefaultSpanDef =\n    | {\n          /**\n           * Represents the card width calculated based on window width.\n           */\n          cols: number;\n          /**\n           * Represents the number of line items to display for table and list cards.\n           */\n          rows: number;\n          /**\n           * Set showOnlyHeader to true to render only the card header.\n           */\n          showOnlyHeader?: boolean;\n          /**\n           * To show more lines of text in the title you can configure this property (maximum allowed: 3 lines).\n           */\n          minimumTitleRow?: number;\n          /**\n           * To show more lines of text in the sub-title you can configure this property (maximum allowed: 2 lines).\n           */\n          minimumSubTitleRow?: number;\n      }\n    | 'auto';\n\nexport interface TabSetting {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the drop down value to be shown\n     */\n    value?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport interface CommonCardSettings {\n    /**\n     * Represents the dominant entity set that will be displayed in the given card.\n     */\n    entitySet?: string;\n    /**\n     * The language-dependent title of the card, used in the card header.\n     * @i18nClassification TIT: Title of the card, used in the card header\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the card, used in the card header.\n     * @i18nClassification TIT: Subtitle of the card, used in the card header\n     */\n    subTitle?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * The category of the card, as used in the card header.\n     */\n    category?: string;\n    /**\n     * To load cards with specific requirements, define a default size as part of the card definition in the descriptor file.\n     */\n    defaultSpan?: DefaultSpanDef;\n    /**\n     * Define an authorization check at card level.\n     */\n    requireAppAuthorization?: string;\n    /**\n     * Represents the card with view switch control.\n     */\n    tabs?: [TabSetting, ...TabSetting[]];\n    /**\n     * add $Select parameter in data fetch URL\n     */\n    addODataSelect?: boolean;\n}\n\nexport enum ChartCardType {\n    cardBubble = 'cardBubble',\n    cardchartsline = 'cardchartsline',\n    cardchartsdonut = 'cardchartsdonut'\n}\n\nexport enum CardTemplateType {\n    analytical = 'sap.ovp.cards.charts.analytical',\n    analyticalv4 = 'sap.ovp.cards.v4.charts.analytical',\n    list = 'sap.ovp.cards.list',\n    listv4 = 'sap.ovp.cards.v4.list',\n    linklist = 'sap.ovp.cards.linklist',\n    linklistv4 = 'sap.ovp.cards.v4.linklist',\n    table = 'sap.ovp.cards.table',\n    tablev4 = 'sap.ovp.cards.v4.table',\n    stack = 'sap.ovp.cards.stack'\n}\n\nexport const cardTemplateTypeMap = {\n    'sap.ovp.cards.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.v4.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.list': 'ListCard',\n    'sap.ovp.cards.v4.list': 'ListCard',\n    'sap.ovp.cards.linklist': 'LinklistCard',\n    'sap.ovp.cards.v4.linklist': 'LinklistCard',\n    'sap.ovp.cards.table': 'TableCard',\n    'sap.ovp.cards.v4.table': 'TableCard',\n    'sap.ovp.cards.stack': 'StackCard'\n};\n\nexport enum CardSettingsType {\n    analyticalCardSettings = 'analyticalCardSettings',\n    analyticalCardSettingsv4 = 'analyticalCardSettingsv4',\n    listCardSettings = 'listCardSettings',\n    listCardSettingsv4 = 'listCardSettingsv4',\n    stackCardSettings = 'stackCardSettings',\n    linkListCardSettings = 'linkListCardSettings',\n    tableCardSettings = 'tableCardSettings',\n    tableCardSettingsv4 = 'tableCardSettingsv4'\n}\n\nexport enum MeasureAggregateValues {\n    average = 'average',\n    max = 'max',\n    min = 'min',\n    sum = 'sum',\n    count = '$count'\n}\n\nexport interface MeasureAggregateSettings {\n    Axis1?: MeasureAggregateValues;\n    Axis2?: MeasureAggregateValues;\n    Axis3?: MeasureAggregateValues;\n}\n\n/**\n * Custom Card\n * @isViewNode true\n */\nexport interface CustomCard {\n    /**\n     * Represents the model for the card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this card.\n     * @TJS-pattern ^(?!(sap.ovp.cards.charts.analytical|sap.ovp.cards.v4.charts.analytical|sap.ovp.cards.linklist|sap.ovp.cards.v4.linklist|sap.ovp.cards.list|sap.ovp.cards.v4.list|sap.ovp.cards.stack|sap.ovp.cards.table|sap.ovp.cards.v4.table)$).*$\n     */\n    template: string; // due the extension concept for cards, this can be any string\n    /**\n     * Represents the properties that are passed to the custom card.\n     */\n    settings?: CustomCardSettings;\n}\n/**\n * List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface ListCard {\n    /**\n     * Represents the model for the List Card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this List Card.\n     */\n    template: CardTemplateType.list | CardTemplateType.listv4;\n    /**\n     * Represents the properties that are passed to the list card.\n     */\n    listCardSettings: ListCardSettings;\n}\n\n/**\n * Stack Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface StackCard {\n    /**\n     * Represents the model for the StackCard.\n     */\n    model: string;\n    /**\n     * Represents the Stack Card component path to use for this card.\n     */\n    template: CardTemplateType.stack;\n    /**\n     * Represents the properties that are passed to the stack card.\n     */\n    stackCardSettings: StackCardSettings;\n}\n\n/**\n * Link List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface LinklistCard {\n    /**\n     * Represents the model for the Link list Card.\n     */\n    model?: string;\n    /**\n     * Represents the Link list Card component path to use for this card.\n     */\n    template: CardTemplateType.linklist | CardTemplateType.linklistv4;\n    /**\n     * Represents the properties that are passed to the link list card.\n     */\n    linkListCardSettings: LinkListCardSettings;\n}\n\n/**\n * Table Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface TableCard {\n    /**\n     * Represents the model for the TableCard.\n     */\n    model: string;\n    /**\n     * Represents the Table Card component path to use for this card.\n     */\n    template: CardTemplateType.table | CardTemplateType.tablev4;\n    /**\n     * Represents the properties that are passed to the table card.\n     */\n    tableCardSettings: TableCardSettings;\n    /**\n     * If you set disableTableCardFlexibility to true, then at runtime, DataField records are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     * If you set disableTableCardFlexibility to false, then at runtime, table columns are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     */\n    disableTableCardFlexibility?: boolean;\n}\n\n/**\n * Analytical Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface AnalyticalCard {\n    /**\n     * Represents the model for the Analytical Card\n     */\n    model: string;\n    /**\n     * Represents the Analytical Card component path to use for this card.\n     */\n    template: CardTemplateType.analytical | CardTemplateType.analyticalv4;\n    /**\n     * Represents the properties that are passed to the analytical card.\n     */\n    analyticalCardSettings: AnalyticalCardSettings | AnalyticalCardSettingsv4;\n}\n\nexport type CustomCardNavigationType = 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n/**\n * @displayName settings\n */\nexport interface CustomCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Represents the static content that will be displayed in this card.\n     */\n    staticContent?: {\n        [k: string]: any;\n    }[];\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: 'extended' | 'condensed';\n    /**\n     * Represents the sort key for the entity set.\n     */\n    sortBy?: string;\n    /**\n     * Represents the sort order for the entity set.\n     */\n    sortOrder?: 'ascending' | 'descending';\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the KPI annotation path.\n     */\n    kpiAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path.\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the flag to indicate priority of number formatting over sap text.\n     */\n    ignoreSapText?: boolean;\n    /**\n     * Represents the Object Stream properties - properties that are passed to the Object Stream cards.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n    /**\n     * Represents the flag to indicate the use of object number/smart field.\n     */\n    enableLocaleCurrencyFormatting?: boolean;\n    /**\n     * Represents the configuration to alter the navigation mode in OVP Analytical Cards.\n     */\n    navigation?: CustomCardNavigationType;\n    /**\n     * Represents a switch to Show or Hide Filters in Cards Headers in OVP application.\n     */\n    showFilterInHeader?: boolean;\n    /**\n     * Represents a switch to Show or Hide Sorting in Cards Headers in OVP application.\n     */\n    showSortingInHeader?: boolean;\n    /**\n     * Flag for enabling images in a condensed list card.\n     */\n    imageSupported?: boolean;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n    /**\n     * This property is responsible for showing and hiding text labels on the geo spots.\n     */\n    showLabelText?: boolean;\n    /**\n     * This property is responsible for passing custom parameters present in the entity set to the navigating application.\n     */\n    customParams?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettings extends CommonCardSettings {\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettingsv4 extends AnalyticalCardSettings {\n    /**\n     *\n     */\n    measureAggregate?: MeasureAggregateSettings;\n}\n\nexport enum ListFlavorType {\n    standard = 'standard',\n    bar = 'bar',\n    carousel = 'carousel'\n}\n\nexport enum ListTypeType {\n    extended = 'extended',\n    condensed = 'condensed'\n}\n\nexport enum SortOrderType {\n    ascending = 'ascending',\n    descending = 'descending'\n}\n\n/**\n * @displayName settings\n */\nexport interface ListCardSettings extends CommonCardSettings {\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\n/**\n * @displayName settings\n */\nexport interface StackCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * The navigation property used to display information from a secondary entity set.\n     */\n    objectStreamCardsNavigationProperty?: string;\n    /**\n     * Configures additional settings for the cards displayed in the object stream.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n}\n\n/**\n * @displayName settings\n */\nexport interface TableCardSettings extends CommonCardSettings {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\nexport enum LinkListFlavorType {\n    standard = 'standard',\n    carousel = 'carousel'\n}\n\n/**\n * @displayName settings\n */\nexport interface LinkListCardSettings extends CommonCardSettings {\n    /**\n     * The targetUri is a URI defining the link to a quick view, related application or external resource.\n     */\n    targetUri?: string;\n    /**\n     * listFlavor represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: LinkListFlavorType;\n    /**\n     * sortBy defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * sortOrder defines the sort order. Valid values are 'ascending' or 'descending'\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * headerAnnotationPath represents the path to a HeaderInfo annotation.\n     */\n    headerAnnotationPath?: string;\n    /**\n     * staticContent represents the static content of a static link list card.\n     */\n    staticContent?: StaticContent[];\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n}\n\nexport interface StaticContent {\n    /**\n     * The language-dependent title of the StaticContent.\n     * @i18nClassification TIT: Title of the StaticContent\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the StaticContent.\n     * @i18nClassification TIT: Subtitle of the StaticContent\n     */\n    subTitle?: string;\n    /**\n     * The uri for the image of the StaticContent.\n     */\n    imageUri?: string;\n    /**\n     * The uri for the target of the StaticContent.\n     */\n    targetUri?: string;\n    /**\n     * The alternative text for the image of the StaticContent.\n     * @i18nClassification ALT: The alternative text for the image of the StaticContent\n     */\n    imageAltText?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    semanticObject?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    action?: string;\n    /**\n     * Open static content in a new window.\n     */\n    openInNewWindow?: boolean;\n}\n/**\n * Plot area is a parent property which defines multiple other properties for smoothness and marker size.\n */\nexport interface PlotAreaDef {\n    /**\n     * isSmoothed represents whether smoother curves are required or not.\n     */\n    isSmoothed?: boolean;\n    /**\n     * markerSize represents the size of the markers in scatter plots.\n     */\n    markerSize?: number;\n    /**\n     * dataLabel is a parent property that defines other properties for type.\n     */\n    dataLabel?: {\n        /**\n         * The data label type defines whether to display percentage values or actual counts in the donut chart.\n         */\n        type?: 'value' | 'percentage';\n    };\n}\n", "export const enum DateRangeType {\n    DATERANGE = 'DATERANGE',\n    DATE = 'DATE',\n    FROM = 'FROM',\n    TO = 'TO',\n    DAYS = 'DAYS',\n    LASTDAYS = 'LASTDAYS',\n    LASTWEEKS = 'LASTWEEKS',\n    WEEK = 'WEEK',\n    LASTMONTHS = 'LASTMONTHS',\n    MONTH = 'MONTH',\n    QUARTER = 'QUARTER',\n    LASTQUARTERS = 'LASTQUARTERS',\n    LASTYEARS = 'LASTYEARS',\n    LASTYEAR = 'LASTYEAR',\n    YEAR = 'YEAR',\n    NEXTDAYS = 'NEXTDAYS',\n    NEXTWEEKS = 'NEXTWEEKS',\n    NEXTMONTHS = 'NEXTMONTHS',\n    NEXTQUARTERS = 'NEXTQUARTERS',\n    NEXTYEARS = 'NEXTYEARS',\n    NEXT = 'NEXT',\n    SPECIFICMONTH = 'SPECIFICMONTH',\n    YESTERDAY = 'YESTERDAY',\n    YEARTODATE = 'YEARTODATE',\n    TODAY = 'TODAY',\n    TOMORROW = 'TOMORROW',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    NEXTWEEK = 'NEXTWEEK',\n    NEXT2WEEKS = 'NEXT2WEEKS',\n    NEXT3WEEKS = 'NEXT3WEEKS',\n    NEXT4WEEKS = 'NEXT4WEEKS',\n    NEXT5WEEKS = 'NEXT5WEEKS',\n    THISMONTH = 'THISMONTH',\n    LASTMONTH = 'LASTMONTH',\n    NEXTMONTH = 'NEXTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    NEXTQUARTER = 'NEXTQUARTER',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    TODAYFROMTO = 'TODAYFROMTO'\n}\n\nexport const enum DefaultDateRangeValueType {\n    YESTERDAY = 'YESTERDAY',\n    TODAY = 'TODAY',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    THISMONTH = 'THISMONTH',\n    TOMORROW = 'TOMORROW',\n    LASTMONTH = 'LASTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    THISYEAR = 'THISYEAR',\n    LASTYEAR = 'LASTYEAR',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    YEARTODATE = 'YEARTODATE',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    DATETOYEAR = 'DATETOYEAR'\n}\n\n/**\n * Filter Field\n * @isViewNode true\n */\nexport type SelectionField = {} | SelectionFieldDateSettings;\n\n/**\n * Filter Field for Date Settings\n * @isViewNode true\n */\nexport interface SelectionFieldDateSettings {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\nexport type FilterTypeCategory = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range type, or 'category' to filter by a whole subset.\n     */\n    path: 'category';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterTypeKey = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range, or 'category' to filter by a whole subset.\n     */\n    path: 'key';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterType = FilterTypeKey | FilterTypeCategory;\n\nexport interface DefaultDateRange {\n    /**\n     * The operation property is the value that will be set for semantic date range.\n     */\n    operation: DefaultDateRangeValueType;\n}\n\nexport interface DateRange {\n    /**\n     * If set to true all date fields with filter restriction interval will be treated as DateTimeRange filters.\n     */\n    useDateRange?: boolean;\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n}\n\nexport interface CommonFilterBar {\n    /**\n     * Controls whether smart variant management is active. Default is true.\n     */\n    smartVariantManagement?: boolean;\n    /**\n     * If liveMode is set, the search will be automatically triggered when a filter value is set.\n     */\n\n    liveMode?: boolean;\n    /**\n     * If you set the flag to true, then standard variant management is not available in the app. The app name is displayed instead.\n     * If you set the flag to false or if the flag is not at all contained in the manifest of the app, the standard variant management is available and can be enabled or disabled.\n     */\n    variantManagementHidden?: boolean;\n    /**\n     * You can choose an app-specific title by setting the corresponding value for the subTitleIfVariantMgmtHidden property.\n     * @i18nClassification TIT: Subtitle if variant management is hidden\n     */\n    subTitleIfVariantMgmtHidden?: string;\n    /**\n     * Use to set date settings for fields in smart filter bar\n     */\n    dateSettings?: DateRange;\n    /**\n     * Handles visibility of the Clear button on the FilterBar.\n     */\n    showClearOnFB?: boolean;\n    /**\n     * Handles visibility of the Filter button on the FilterBar.\n     */\n    showFilterConfiguration?: boolean;\n    /**\n     * Handles visibility of the Restore button on the FilterBar.\n     */\n    showRestoreOnFB?: boolean;\n    /**\n     * @isViewNode true\n     * Selection Fields\n     */\n    selectionFields?: SelectionFields;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface ListReportFilterBar extends CommonFilterBar {\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    annotationPath?: string;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface AnalyticalListPageFilterBar extends CommonFilterBar {\n    /**\n     * Go button is displayed for compact filters when this is set to true\n     */\n    showGoButtonOnFilterBar?: boolean;\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n", "import type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ToolBar } from './ToolBar';\nimport type { Action } from './Action';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\nimport type { TextAlign } from 'sap/ui/core/library';\n\n/**\n * Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * The width property defines the width of the column.\n     */\n    width?: string;\n    /**\n     * The hAlign property defines the horizontal alignment of the column content.\n     */\n    hAlign?: TextAlign;\n}\n\n/**\n * Column Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends Action, TableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * In case the fragment needs to be re-used for multiple tabs, the id property must be set to make the ids unique.\n     * @artifactType XMLProperty\n     */\n    id?: string;\n    /**\n     * The label of the custom column, preferably as an i18n key.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType XMLProperty\n     */\n    text?: string;\n    /**\n     * The column key\n     * @artifactType XMLProperty\n     */\n    columnKey: string;\n    /**\n     * The index of the column in the overall collection; if undefined, the custom column will be added at the end of the table.\n     * @minimum 0\n     * @hidden true\n     * @artifactType XMLProperty\n     */\n    columnIndex?: number;\n    /**\n     * If the content of your custom column refers to a property (such as{Price}), you need to include a corresponding 'leadingProperty' entry in the column definition.\n     * @artifactType XMLProperty\n     */\n    leadingProperty?: string;\n    /**\n     * The UI5 control used for your extension\n     * @artifactType Manifest\n     */\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    /**\n     * The relative path to your fragment with path segments separated by '.'. The first element is the app ID.\n     * @artifactType Manifest\n     */\n    fragmentName: string;\n    /**\n     * In case of a responsive table, you additionally need to specify a fragment for the table cells.\n     * @artifactType Manifest\n     */\n    cellsFragmentName?: string;\n    /**\n     * If you use QuickVariantSelectionX, you need to define the extensions per tab. 'tabKey' is the key provided when defining the QuickVariantSelectionX.\n     * @artifactType Manifest\n     */\n    tabKey?: string;\n    /**\n     * Type of custom column view extension.\n     * @artifactType Manifest\n     */\n    extensionType: TableColumnExtensionTypeV2;\n}\n\nexport enum customColumnViewTypes {\n    XML = 'XML'\n}\n\nexport enum TableTypeV2 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable',\n    TreeTable = 'TreeTable'\n}\n\nexport enum TableColumnExtensionTypeV2 {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension'\n}\n\nexport type AnyTableType =\n    | TableTypeV2.AnalyticalTable\n    | TableTypeV2.ResponsiveTable\n    | TableTypeV2.GridTable\n    | TableTypeV2.TreeTable;\nexport type AnyTable = AnalyticalTable | ResponsiveTable | GridTable | TreeTable;\n\n/**\n * Custom Columns\n * @isViewNode true\n */\nexport type TableCustomColumns = Array<TableCustomColumn>;\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableCustomColumns | TableColumnAction;\n}\n\nexport interface QuickVariant {\n    /**\n     * A key entry that is used for initializing the corresponding SegmentedButton item. This entry is mandatory.\n     */\n    key: string;\n    /**\n     * Use annotationPath to define a specific variant that points to a SelectionVariant or SelectionPresentationVariant annotation.\n     */\n    annotationPath: string;\n}\n\nexport interface QuickVariantX extends QuickVariant {\n    /**\n     * Represents the entity set that will be displayed in this variant\n     */\n    entitySet: string;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: AnyTableType;\n    /**\n     * To enable navigation for charts, you have to set the property to \"true\" and maintain an internal navigation target in the manifest.\n     */\n    showItemNavigationOnChart?: boolean;\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\nexport interface QuickVariantSelection {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface QuickVariantSelectionX extends QuickVariantSelection {\n    /**\n     * When set to true, this enables automatic binding of the table with either the tableBindingPath (if it exists) or the entitySet property.\n     */\n    enableAutoBinding?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariantX;\n    };\n}\n\nexport interface CreateWithFilters {\n    /**\n     * For the new create action to use the filter settings as input, set strategy to \"extension\" and implement the extension function as mentioned in help.sap.com for SAP S/4 HANA, section \u201CPrefilling Fields When Creating a New Entity Using an Extension Point\u201C.\n     */\n    strategy: Strategy;\n}\n\nexport enum Strategy {\n    extension = 'extension'\n}\n\nexport interface MultiEdit {\n    /**\n     * When multiEdit is enabled, by default the dialog displays editable fields corresponding to columns that are currently displayed in the table.\n     */\n    enabled?: boolean;\n    /**\n     * Use annotationPath to define a mass edit dialog that points to a FieldGroup annotation with a qualifier.\n     */\n    annotationPath?: string;\n    /**\n     * You can choose to hide certain fields from being displayed in key user adaptation and restrict them from being added to the Mass Edit dialog.\n     */\n    ignoredFields?: IgnoredFieldsType[];\n}\n\nexport const enum IgnoredFieldsType {\n    GENERICPROPERTY = 'GENERICPROPERTY'\n}\n\nexport enum DefaultContentView {\n    charttable = 'charttable',\n    chart = 'chart',\n    table = 'table'\n}\n\nexport enum DefaultFilterMode {\n    visual = 'visual',\n    compact = 'compact'\n}\n\nexport enum LoadDataOnAppLaunchSettings {\n    always = 'always',\n    never = 'never',\n    ifAnyFilterExist = 'ifAnyFilterExist'\n}\n\nexport interface DataLoadSettings {\n    /**\n     * Change the default behavior for autoloading of data.\n     * For multi-view scenarios, you can also change the setting enableAutobinding to False under quickVariantSelectionX instead of using the loadDataOnAppLaunch setting.\n     */\n    loadDataOnAppLaunch: LoadDataOnAppLaunchSettings;\n}\n\nexport interface Fields4Dialog {\n    fields: string[];\n}\n\nexport interface CommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4Dialog;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * The showTablePersonalisation attribute can be set to false to hide the table personalization button.\n     */\n    showTablePersonalisation?: boolean;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Set to false if the table does not occupy the entire space available in the container.\n     */\n    fitContainer?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelection;\n    /**\n     * Switch on the multiple view feature (Multiple table mode with charts) and link to the variants you have added to your annotations.\n     */\n    quickVariantSelectionX?: QuickVariantSelectionX;\n    /**\n     * For analytical tables, grid tables and tree tables you can define a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * If you have enabled harmonized variant management, by default, you cannot set a filter in the table personalization settings.\n     * To enable filtering, set the enableTableFilterInPageVariant property to true.\n     */\n    enableTableFilterInPageVariant?: boolean;\n    /**\n     * Change the default behavior for autoloading of data.\n     */\n    dataLoadSettings?: DataLoadSettings;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     * @isViewNode true\n     */\n    columns?: COLS;\n}\n\nexport interface ResponsiveTableCommonSettings extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when they are clicked rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows are rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n    /**\n     * Allows you to edit a single object or multiple objects using a dialog in the list report page.\n     */\n    multiEdit?: MultiEdit;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithMultiSelect extends ResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithInlineDelete extends ResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTable\n    extends ResponsiveTableCommonSettings,\n        ResponsiveTableWithMultiSelect,\n        ResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TreeTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface AnalyticalTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    //TODO keyPerformanceIndicators\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TableALPCommonSettings extends CommonTableSettings {\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * This setting allows developer to determine chart / table interaction. 'true' would mean chart act as filter for table, 'false' would mean that matching table rows are highlighted but table is not filtered.\n     */\n    autoHide?: boolean;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPResponsiveTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPGridTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPAnalyticalTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n}\n\nexport interface TableALP extends ALPResponsiveTable, ALPGridTable, ALPAnalyticalTable {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable & TableTypeV2.GridTable & TableTypeV2.AnalyticalTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface GridTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "export enum ChartType {\n    bar = 'bar',\n    column = 'column',\n    line = 'line',\n    combination = 'combination',\n    pie = 'pie',\n    donut = 'donut',\n    scatter = 'scatter',\n    bubble = 'bubble',\n    heatmap = 'heatmap',\n    bullet = 'bullet',\n    verticalBullet = 'vertical_bullet',\n    stackedBar = 'stacked_bar',\n    stackedColumn = 'stacked_column',\n    stackedCombination = 'stacked_combination',\n    horizontalStackedCombination = 'horizontal_stacked_combination',\n    dualBar = 'dual_bar',\n    dualColumn = 'dual_column',\n    dualLine = 'dual_line',\n    dualStackedBar = 'dual_stacked_bar',\n    dualStackedColumn = 'dual_stacked_column',\n    dualCombination = 'dual_combination',\n    dualStackedCombination = 'dual_stacked_combination',\n    dualHorizontalCombination = 'dual_horizontal_combination',\n    dualHorizontalStackedCombination = 'dual_horizontal_stacked_combination',\n    hundredStackedBar = '100_stacked_bar',\n    hundredStackedColumn = '100_stacked_column',\n    hundredDualStackedBar = '100_dual_stacked_bar',\n    hundredDualStackedColumn = '100_dual_stacked_column',\n    waterfall = 'waterfall',\n    horizontalWaterfall = 'horizontal_waterfall'\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ChartSettings {\n    /**\n     * Controls the visibility of the legend button.\n     */\n    showLegendButton?: boolean;\n    /**\n     * Controls the visibility of the chart download button.\n     */\n    showDownloadButton?: boolean;\n    /**\n     * Controls the visibility of the chart type button.\n     */\n    showChartTypeSelectionButton?: boolean;\n    /**\n     * Comma-separated value fields do not showup in the list of available chart types.\n     */\n    ignoredChartTypes?: ChartType[];\n    /**\n     * Controls the visibility of the data label.\n     */\n    showDataLabel?: boolean;\n}\n", "import type {\n    ObjectPageResponsiveTableWithMultiSelect,\n    ObjectPageResponsiveTableWithInlineDelete,\n    ObjectPageAnalyticalTable,\n    ObjectPageGridTable,\n    ObjectPageTreeTable,\n    ObjectPageChart,\n    ObjectPageForm\n} from './index';\nimport type { ViewTypes, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '../../common/webapp/manifest/sapUi5';\n\n/**\n * Section\n * @isViewNode true\n */\nexport interface ObjectPageSectionV2 {\n    /**\n     * Whether the section should be visible on the screen.\n     */\n    visible?: boolean;\n}\n\n/**\n * Form\n * @isViewNode true\n */\nexport interface ObjectPageSectionFormV2 extends ObjectPageSectionV2 {\n    form?: ObjectPageForm;\n}\n\nexport type AnyObjectPageTableType =\n    | ObjectPageResponsiveTableWithMultiSelect\n    | ObjectPageResponsiveTableWithInlineDelete\n    | ObjectPageAnalyticalTable\n    | ObjectPageGridTable\n    | ObjectPageTreeTable;\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface ObjectPageSectionTableV2 extends ObjectPageSectionV2 {\n    table?: AnyObjectPageTableType;\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ObjectPageSectionChartV2 extends ObjectPageSectionV2 {\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageSubSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSubSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type AnySubSectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSubSectionContactV2\n    | ObjectPageSubSectionAddressV2;\n\nexport interface GenericSubSections {\n    [key: string]: AnySubSectionType;\n}\n\n/**\n * Subsection\n * @isViewNode true\n */\nexport interface ObjectPageSubSectionV2 extends ObjectPageSectionV2 {\n    subsections?: GenericSubSections;\n}\n\nexport type AnySectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSectionContactV2\n    | ObjectPageSectionAddressV2\n    | ObjectPageSectionV2\n    | ObjectPageSubSectionV2;\n\nexport interface GenericSections {\n    [key: string]: AnySectionType;\n}\n\nexport type CustomSectionTypeV2 = ObjectPageCustomSectionView | ObjectPageCustomSectionFragment;\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    custom?: CustomSectionTypeV2[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    /**\n     * The label of the custom section, preferably as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * View\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionView extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n    type: ViewTypes;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    type: ExtensionFragmentTypes;\n}\n\nexport enum SectionPosition {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet',\n    ReplaceFacet = 'ReplaceFacet'\n}\n\nexport enum ExtensionFragmentTypes {\n    XML = 'XML'\n}\n", "import type { GenericColumns, TableTypeV2, QuickVariant } from './Table';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nexport interface QuickVariantSelectionOP {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface Fields4DialogOP {\n    fields: string[];\n}\n\nexport enum CreateMode {\n    inline = 'inline'\n}\n\nexport interface ObjectPageCommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4DialogOP;\n    /**\n     *  With editable you can control if a table can be edited. It should be set to false for smart tables with non-editable content.\n     */\n    editable?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have been added to your annotations before.\n     */\n    quickVariantSelection?: QuickVariantSelectionOP;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Use createMode 'inline' to enable inline creation of table entries for draft enabled applications.\n     */\n    createMode?: CreateMode;\n    /**\n     * If createMode is set to inline, you can use this setting to disable the default sort order.\n     */\n    disableDefaultInlineCreateSort?: boolean;\n    /**\n     * To enable variant management for a specific table on an object page.\n     */\n    variantManagement?: boolean;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ObjectPageToolBar;\n    /**\n     * Columns\n     */\n    columns?: COLS;\n}\n\n/**\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableCommonSettings extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when clicked, rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows shall be rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithMultiSelect extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithInlineDelete extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTable\n    extends ObjectPageResponsiveTableCommonSettings,\n        ObjectPageResponsiveTableWithMultiSelect,\n        ObjectPageResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageGridTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageTreeTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout, FlexibleColumnLayoutType } from '../../../common';\n\nexport interface SapUiAppV2 {\n    pages: SapUiAppPagesV2;\n    _version?: string;\n    settings?: SapUiAppSettingsV2;\n}\n\nexport interface SapUiAppPagesV2 {\n    [key: string]: SapUiAppPageV2;\n}\n\nexport const FE_TEMPLATE_V2 = 'sap.suite.ui.generic.template';\nexport const FE_TEMPLATE_V2_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage';\nexport const FE_TEMPLATE_V2_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport';\nexport const FE_TEMPLATE_V2_ALP = 'sap.suite.ui.generic.template.AnalyticalListPage';\n\nexport interface SapUiAppPageV2 {\n    entitySet?: string;\n    navigationProperty?: string;\n    component?: {\n        name: string;\n        list?: boolean;\n        settings?: SapUiGenericAppPageSettings;\n        sections?: {\n            sectionIds?: SapUiGenericAppPageSettings;\n        };\n    };\n    pages?: SapUiAppPagesV2;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface SapUiAppSettingsV2 {\n    flexibleColumnLayout?: FlexibleColumnLayout;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    SAPUI5_FRAGMENT_CLASS,\n    SAPUI5_VIEW_CLASS,\n    ViewTypes,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { ManifestSection } from '../../..';\n\nexport interface SapUi5 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV2;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5Extends;\n}\n\nexport interface SapUi5RoutingV2 {\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV2;\n}\n\nexport interface SapUi5RoutingTargetsV2 {\n    [key: string]: SapUi5RoutingTarget | SapUi5RoutingTargetCustomPageV2;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV2 extends SapUi5RoutingTargetBase {\n    viewId: string;\n    viewName: string;\n    viewLevel?: number;\n    title?: string;\n}\n\n// SAPUI5 EXTENDS\nexport const SAPUI5_VIEW_EXTENSION = 'sap.ui.viewExtensions';\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\n\nexport interface SapUi5Extends {\n    extensions?: SapUi5Extensions;\n}\n\nexport interface SapUi5Extensions {\n    [SAPUI5_VIEW_EXTENSION]?: SapUi5ViewExtensions;\n    // Added it here, but sync logic is not supported yet\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensions;\n}\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage.view.Details';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport.view.ListReport';\nexport const SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE =\n    'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage';\n\n// VIEW EXTENDS\nexport interface SapUi5PageViewExtensions {\n    [key: string]: SapUi5ViewExtensionView | SapUi5ViewExtensionFragment;\n}\n\nexport interface SapUi5ViewExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageViewExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageViewExtensions;\n}\n\nexport interface SapUi5ViewExtensionBase {\n    type: ViewTypes;\n}\n\nexport interface SapUi5ViewExtensionView extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n}\n\nexport interface SapUi5ViewExtensionFragment extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n\n// CONTROLLER EXTENDS\nexport interface SapUi5ControllerExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageControllerExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageControllerExtensions;\n}\n\nexport interface SapUi5PageControllerExtensions {\n    [key: string]: SapUi5ControllerExtension;\n}\n\nexport interface SapUi5ControllerExtension {\n    controllerName: string;\n    [ManifestSection.generic]: { [key: string]: SapUi5ControllerExtensionSettings };\n}\n\n// Currently sync does not support controller extensions\nexport interface SapUi5ControllerExtensionSettings {\n    EntitySet: string;\n    Actions?: unknown;\n    Header?: unknown;\n    Sections?: unknown;\n}\n", "import type {\n    DateRangeType,\n    FilterType,\n    DefaultDateRange,\n    DateRange,\n    ListCard,\n    AnalyticalCard,\n    StackCard,\n    LinklistCard,\n    TableCard,\n    CustomCard\n} from './controls';\n\n/**\n * @isViewNode false\n */\nexport interface SelectedValues {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\nexport interface DateRangeOVP extends DateRange {\n    /**\n     * For a fields' list you can define the set of standard date range values separately.\n     */\n    fields?: {\n        [field: string]: SelectedValues;\n    };\n}\n\nexport type FilterSettingsType = {\n    /**\n     * You can define date ranges, such as lastYear or nextQuarter on the Smart Filter Bar\n     */\n    dateSettings?: DateRangeOVP;\n};\n\nexport enum ContainerLayoutType {\n    fixed = 'fixed',\n    resizable = 'resizable'\n}\n\nexport type CardType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\nexport type ChartSettingsType = {\n    /**\n     * Set the showDataLabel property to true to make data labels visible in analytical cards.\n     */\n    showDataLabel?: boolean;\n};\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './application';\nexport * from './ApplicationV4';\n", "export enum ActionPlacement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor action.\n     * @artifactType Manifest\n     */\n    placement: ActionPlacement;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface CustomAction {\n    /**\n     * The text that is displayed on the button (typically a binding to an i18n entry).\n     * @i18nClassification COL: Custom action text\n     * @artifactType Manifest\n     */\n    text: string;\n\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPosition;\n\n    /**\n     * Relevant for extension actions; allows the definition of a target action handler.\n     * @artifactType Manifest\n     */\n    press: string;\n\n    /**\n     * Whether the action button should be visible on the screen.\n     * @artifactType Manifest\n     */\n    visible?: boolean;\n\n    /**\n     * Whether the action button should be enabled. Default value is `true`.\n     * @artifactType Manifest\n     */\n    enabled?: boolean;\n}\n\nexport interface CustomActionPositionOP extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface CustomActionOP extends CustomAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPositionOP;\n}\n", "import type {\n    TableColumn,\n    TableColumnAction,\n    TableCustomColumn,\n    ViewTableColumn,\n    ViewTableColumnAction,\n    ViewTableCustomColumn\n} from '../webapp/manifest/ManifestSettings';\nimport type { ToolBar, ViewChartToolBar } from './ToolBar';\n\nexport enum SelectionMode {\n    Multi = 'Multi',\n    None = 'None',\n    Single = 'Single',\n    Auto = 'Auto'\n}\n\nexport enum TableTypeV4 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable'\n    /* Not supported yet:\n    TreeTable = \"TreeTable\"*/\n}\n\nexport enum TableCreationModeType {\n    NewPage = 'NewPage',\n    Inline = 'Inline',\n    CreationRow = 'CreationRow'\n}\n\nexport enum InitialLoadType {\n    Disabled = 'Disabled',\n    Enabled = 'Enabled',\n    Auto = 'Auto'\n}\n\nexport enum DefaultPathType {\n    Primary = 'primary',\n    Secondary = 'secondary',\n    Both = 'both'\n}\n\nexport interface TableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface ViewTableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface PersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface ViewPersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface AnnotationPathAsObject {\n    annotationPath: string;\n}\n\n//Not used by specification anymore, but there are some tests using it in tools-suite that needs to be adapted\nexport interface AnnotationPathWithKey {\n    key: string;\n    annotationPath: string;\n    entitySet?: string;\n}\n\nexport interface QuickVariantSelectionV4 {\n    /**\n     * List of annotation paths referring to SelectionVariant annotations\n     */\n    paths: AnnotationPathAsObject[];\n    /**\n     * You can hide the table and display only the titles of the tabs. To do so, add the hideTableTitle option and set it to true.\n     */\n    hideTableTitle?: boolean;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableColumnAction | TableCustomColumn;\n}\n\nexport interface ViewColumns {\n    [key: string]: ViewTableColumn | ViewTableColumnAction | ViewTableCustomColumn;\n}\n\n// Note: TableSettings are reused by OP: LR only properties must not be added here.\nexport interface TableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV4;\n    /**\n     * Applications can influence whether the table rows are selectable or not, and whether it allows for single selection or multiple selection. It can take the following values:\n     * - \"Auto\": This is the default value. In this mode, Fiori Elements first checks if there are any custom actions or IBN buttons in the table toolbar that require a context. If no such buttons are found, then no table selection is allowed in display mode. In edit mode too a selection is not allowed unless there is a Delete button in the table toolbar in which case multiple row selection will be allowed.\n     * - \"Multi\": This will allow end users to select multiple table records (in both display and edit mode)\n     * - \"Single\" This will allow end user to select only a single table record (in both display and edit mode)\n     * - \"None\": This will not allow the end user to select any table record in display mode. This will also be the case in edit mode unless the table has a delete button enabled, in which multiple selection is allowed in delete mode.\n     */\n    selectionMode?: SelectionMode;\n    /**\n     * The selectAll configuration overrides the selectionLimit and allows the user to select all the items. When set to true, the select all feature is enabled: a checkbox in the table header is displayed which selects all items when clicked.\n     */\n    selectAll?: boolean;\n    /**\n     * With the selectionLimit you can define how many items can be selected at a time,\n     */\n    selectionLimit?: number;\n    /**\n     * The exporting of the table to an Excel file is enabled in List Report tables by default. In Object Page, the export to Excel is available by default if the copy/paste feature is also available; otherwise it is disabled.\n     * To disable the export in List Report or to enable it in Object Page, use the \"enableExport\" property and set it to false or true.\n     */\n    enableExport?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature (single table mode). It links to SelectionVariant (filters) or SelectionPresentationVariant (filters and sorters) you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelectionV4;\n    /**\n     * You can set the content density to condensed for ui.table on the list report and object page applications.\n     */\n    condensedTableLayout?: boolean;\n}\n\nexport type ViewTypeV4 = LRTableView | LRChartView | TableViewExtension | boolean;\n\n/**\n * Views\n * @isViewNode true\n */\nexport interface MultiTableModeV4 {\n    /**\n     * List of annotation paths\n     */\n    [key: string]: ViewTypeV4;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface ALPChartView {\n    /**\n     * The primary annotation path can be either UI.Chart, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n}\n\nexport interface CommonViewSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * To use charts in multiple table mode, define a UI.Chart annotation, including a qualifier.\n     * Reference the UI.Chart annotation in your SelectionPresentationVariant or PresentationVariant for your view.\n     */\n    annotationPath: string;\n    /**\n     * Each chart can be based on a different entitySet.\n     */\n    entitySet?: string;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface LRChartView extends CommonViewSettings {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface ALPTableView extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    columns?: ViewColumns;\n}\n\n/**\n * Table View Extension\n * @isViewNode true\n */\nexport interface TableViewExtension {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * View title (localization supported).\n     * @i18nClassification TIT: Custom view title\n     */\n    label?: string;\n    /**\n     * The name contains sap.app.id as a prefix, followed by the path in the app/webapp folder and the name of the XML view.\n     */\n    template: string;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface LRTableView extends TableSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * The annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Each table can be based on a different entitySet.\n     */\n    entitySet?: string;\n    /**\n     *  The tab keeps the default LineItem ID (without the key), so the variant is applied to it.\n     */\n    keepPreviousPersonalization?: boolean;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     */\n    columns?: ViewColumns;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface Table extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath?: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: TableCreationMode;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: PersonalizationType;\n    views?: MultiTableModeV4;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    columns?: GenericColumns;\n}\n", "import type { Availability } from '..';\n\nexport enum LayoutType {\n    Compact = 'Compact',\n    CompactVisual = 'CompactVisual'\n}\n\nexport enum InitialLayoutType {\n    Compact = 'Compact',\n    Visual = 'Visual'\n}\n\n/**\n * Visual Filter\n * @isViewNode true\n */\nexport interface VisualFilter {\n    /**\n     * Defines where the selection field should be shown.\n     * Default: it will be shown by default.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the selection field is neither available in the table nor in adaptation.\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * The valuelist annotation corresponding to the visual filter representation.\n     * @artifactType Manifest\n     * @hidden true\n     */\n    visualFilterValueList?: string;\n}\n\nexport type SelectionField = {};\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\n/**\n * Compact Filters\n * @isViewNode true\n */\nexport interface CompactFilters {\n    [key: string]: SelectionField;\n}\n\n/**\n * Visual Filters\n * @isViewNode true\n */\nexport interface VisualFilters {\n    [key: string]: VisualFilter;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface FilterBar {\n    /**\n     * To disable the filter bar, set hideFilterBar to true\n     * @artifactType Manifest\n     */\n    hideFilterBar?: boolean;\n\n    /**\n     * @isViewNode true\n     */\n    selectionFields?: SelectionFields | CompactFilters;\n\n    /**\n     * @isViewNode true\n     */\n    visualFilters?: VisualFilters;\n\n    /**\n     * Specifies the default filter mode on initial load. Possible values: \"Visual\" and \"Compact\"\n     * @artifactType Manifest\n     */\n    initialLayout?: InitialLayoutType;\n\n    /**\n     * Possible Values: \"Compact\" (if only compact filter is present) and \"CompactVisual\" if both compact and visual filters are present\n     * @artifactType Manifest\n     */\n    layout?: LayoutType;\n}\n", "import type { ActionAfterExecutionConfiguration } from '../webapp/manifest/ManifestSettings';\nimport type { CustomAction, CustomActionPosition } from './CustomAction';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface ActionAfterExecutionConfigurationToolBarLR extends ActionAfterExecutionConfiguration {}\n\nexport enum SelectType {\n    single = 'single',\n    multi = 'multi'\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ViewToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\nexport type ChartToolBarAction = {};\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface ViewActions {\n    [key: string]: ViewToolBarAction | ChartToolBarAction | ViewTableCustomAction;\n}\n\n/**\n * Table Toolbar\n * @isViewNode true\n */\nexport interface ToolBar {\n    actions: Actions;\n}\n\n/**\n * Chart Toolbar\n * @isViewNode true\n */\nexport interface ViewChartToolBar {\n    actions: ViewActions;\n}\n\nexport interface CustomTableAction extends CustomAction {\n    /**\n     * Indicates whether the action requires a selection of items.\n     * @artifactType XMLProperty\n     */\n    requiresSelection?: boolean;\n}\n\nexport interface ViewCustomActionPosition extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface ViewTableCustomAction extends CustomTableAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: ViewCustomActionPosition;\n}\n", "export const enum DesigntimeValues {\n    'not-adaptable-visibility' = 'not-adaptable-visibility'\n}\n\nexport interface FlexSettings {\n    /**\n     * You can restrict the adaptability of header facets via the setting 'flexSettings'/'designtime'. 'not-adaptable-visibility' means that 'remove' and 'add' are not possible, but 'move' is enabled.\n     */\n    designtime?: DesigntimeValues;\n}\n\nexport interface CommonHeaderFacetSettings {\n    /**\n     * Header facets marked as stashed are initially not visible on the UI. Key users can add these header facets via key user adaptation.\n     */\n    stashed?: boolean;\n    flexSettings?: FlexSettings;\n}\n\nexport interface ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: object;\n}\n\nexport interface ObjectPageHeaderSectionContact extends CommonHeaderFacetSettings {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageHeaderSectionAddress extends CommonHeaderFacetSettings {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type ObjectPageHeaderSectionChart = CommonHeaderFacetSettings;\nexport type ObjectPageHeaderSectionDataPoint = CommonHeaderFacetSettings;\n\n/**\n * Header Sections\n * @isViewNode true\n */\nexport interface HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "export enum SectionLayoutType {\n    Tabs = 'Tabs',\n    Page = 'Page'\n}\n\n/**\n * Page Layout\n * @isViewNode true\n */\nexport interface ObjectPageLayout {\n    /**\n     * sectionLayout defines the layout of the sections. The default is \"Page\" (all sections in one page), possible values are \"Page\" and \"Tabs\" (every section in its own tab).\n     */\n    sectionLayout?: SectionLayoutType;\n}\n", "import type { ObjectPageSectionTableV4 } from './ObjectPageTable';\nimport type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { ObjectPageForm } from './ObjectPageForm';\n\nexport interface ObjectPageSectionForm {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: ObjectPageForm;\n}\n\nexport interface ObjectPageSectionDataPoint {\n    /**\n     * Data Point\n     *  @isViewNode true\n     */\n    dataPoint?: object;\n}\n\nexport interface ObjectPageSectionContact {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddress {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageChart {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ObjectPageToolBar;\n}\n\nexport interface ObjectPageSectionChart {\n    /**\n     * Chart\n     * @isViewNode true\n     */\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionPresentationVariant {\n    /**\n     * Presentation Variant\n     */\n    [key: string]: ObjectPageSectionTableV4 | ObjectPageSectionChart;\n}\n\nexport interface GenericSections {\n    [key: string]:\n        | ObjectPageSectionTableV4\n        | ObjectPageSectionForm\n        | ObjectPageSectionDataPoint\n        | ObjectPageSectionContact\n        | ObjectPageSectionAddress\n        | ObjectPageSectionPresentationVariant;\n}\n\n/**\n * Subsections\n * @isViewNode true\n */\nexport interface ObjectPageSubSections {\n    subsections: GenericSections;\n}\n\nexport enum SectionPosition {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport enum CustomSectionViewTypesV4 {\n    XML = 'XML'\n}\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    /**\n     * Custom Sections\n     * @isViewNode true\n     */\n    custom?: ObjectPageCustomSectionFragment[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    id: string;\n    type: CustomSectionViewTypesV4;\n    /**\n     * The label of the custom section, preferrable as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\n\nexport interface SapUiAppV4 {\n    pages: SapUiAppPageV4[] | SapUiGenericAppPageMapV4;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPageMapV4 {\n    [key: string]: SapUiAppPageV4;\n}\n\nexport interface SapUiNavDetailsV4 {\n    detail?: {\n        route?: string;\n    };\n}\n\nexport type SapUi5MultiViewPath = {\n    key: string;\n    annotationPath: string;\n};\n\nexport type SapUi5MultiViewPaths = SapUi5MultiViewPath[];\n\nexport type SapUi5ALPPaths = [\n    {\n        primary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        secondary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        defaultPath: string;\n    }\n];\n\nexport type SapUi5Views = {\n    paths: SapUi5MultiViewPaths | SapUi5ALPPaths;\n    showCounts?: boolean;\n};\n\nexport type SapUiPageSettingsV4 = SapUiGenericAppPageSettings & {\n    entitySet?: string;\n    navigation?: {\n        [key: string]: SapUiNavDetailsV4;\n    };\n    controlConfiguration?: SapUiGenericAppPageSettings;\n    content?: SapUi5RoutingTargetContent;\n    views?: SapUi5Views;\n    defaultTemplateAnnotationPath?: string;\n};\n\nexport interface SapUiAppPageV4 {\n    type: string;\n    id: string;\n    name: string;\n    options: {\n        settings?: SapUiPageSettingsV4;\n    };\n}\n\nexport const FE_TEMPLATE_V4 = 'sap.fe.templates';\nexport const FE_TEMPLATE_V4_CUSTOM_PAGE = 'sap.fe.core.fpm';\nexport const FE_TEMPLATE_V4_OBJECT_PAGE = 'sap.fe.templates.ObjectPage';\nexport const FE_TEMPLATE_V4_LIST_REPORT = 'sap.fe.templates.ListReport';\nexport const FE_TEMPLATE_V4_ALP = 'sap.fe.templates.AnalyticalListPage';\nexport interface SapUiAppPagesV4 {\n    [key: string]: SapUiAppPageV4;\n}\nexport interface SapUi5RoutingTargetContent {\n    header?: object;\n    body?: SapUi5RoutingTargetContentBody;\n    footer?: object;\n}\n\nexport interface SapUi5RoutingTargetContentBody {\n    sections?: SapUi5RoutingTargetContentSections;\n}\n\nexport interface SapUi5RoutingTargetContentSections {\n    [key: string]: SapUi5RoutingTargetContentSection;\n}\n\nexport const SAPUI5_FRAGMENT_TYPE_V4 = 'XMLFragment';\nexport interface SapUi5RoutingTargetContentSection {\n    // Currently only xml fragment is supported\n    type: typeof SAPUI5_FRAGMENT_TYPE_V4;\n    name?: string;\n    title: string;\n    position: SapUi5RoutingTargetContentPosition;\n    template?: string;\n}\n\nexport enum SectionPositionV4 {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet'\n}\n\nexport interface SapUi5RoutingTargetContentPosition {\n    placement: SectionPositionV4;\n    anchor: string;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    ViewTypes,\n    SapUi5RoutingTargetSettings,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout } from '../../../common';\n\nexport interface FlexibleColumnLayoutV4 extends FlexibleColumnLayout {\n    /**\n     * To limit Flexible Column Layout to two columns. The third level will be displayed in full screen and not in a third column.\n     */\n    limitFCLToTwoColumns?: boolean;\n}\n\nexport interface SapUi5V4 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV4;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5ExtendsV4;\n}\n\nexport interface SapUi5RoutingV4 {\n    config?: SapUi5RoutingConfig;\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV4;\n}\n\nexport type RoutingTargetOptions =\n    | SapUi5RoutingTarget\n    | SapUi5RoutingTargetCustomPageV4\n    | SapUi5RoutingTargetCustomPageV4New;\n\nexport interface SapUi5RoutingTargetsV4 {\n    [key: string]: RoutingTargetOptions;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4New extends SapUi5RoutingTarget {\n    options?: {\n        settings: SapUi5RoutingTargetSettings & SapUi5CommonCustomPageV4;\n    };\n}\n\nexport interface SapUi5CommonCustomPageV4 extends SapUi5RoutingTargetBase {\n    viewName: string;\n    controlConfiguration?: SapUiGenericAppPageSettings;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4 extends SapUi5CommonCustomPageV4 {\n    viewId: string;\n    viewLevel?: number;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n    title?: string;\n}\n\nexport const FIORI_FCL_ROUTER_CLASS = 'sap.f.routing.Router';\nexport type RouterClass = typeof FIORI_FCL_ROUTER_CLASS | string;\nexport interface SapUi5RoutingConfig {\n    routerClass?: RouterClass;\n    flexibleColumnLayout?: FlexibleColumnLayoutV4;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n}\n\nexport interface SapUi5DependenciesV4 {\n    minUI5Version?: string;\n    incompatibleLimitation?: boolean;\n    libs?: SapUi5DependenciesLibV4;\n}\n\nexport const SAPUI5_DEPENDENCY_LIB_SAP_F = 'sap.f';\nexport interface SapUi5DependenciesLibV4 {\n    [SAPUI5_DEPENDENCY_LIB_SAP_F]?: SapUi5DependencyLibV4;\n    [key: string]: SapUi5DependencyLibV4;\n}\n\nexport interface SapUi5DependencyLibV4 {\n    minVersion?: string;\n    lazy?: boolean;\n}\n\nexport interface SapUi5ExtendsV4 {\n    extensions?: SapUi5ExtensionsV4;\n}\n\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.fe.templates.ObjectPage.ObjectPageController';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.fe.templates.ListReport.ListReportController';\n\nexport interface SapUi5ExtensionsV4 {\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensionsV4;\n}\n\nexport interface SapUi5ControllerExtensionsV4 {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5ControllerExtensionV4;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5ControllerExtensionV4;\n    [key: string]: SapUi5ControllerExtensionV4;\n}\n\nexport interface SapUi5ControllerExtensionV4 {\n    controllerName?: string;\n    controllerNames?: string[];\n}\n", "// Copies of sap.fe type definitions\nexport enum Placement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface Position {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport interface ViewPosition {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport type Positionable = {\n    /**\n     *   Defines the position of the column relative to other columns.\n     */\n    position?: Position;\n};\n\nexport interface ActionAfterExecutionConfiguration {\n    /**\n     * By default, a navigation is automatically triggered after an action execution. If applications want to disable the navigation, they can do so using the manifest setting \u201CnavigateToInstance\u201D.\n     */\n    navigateToInstance?: boolean;\n    /**\n     * The \"enableAutoScroll\" allows you to scroll to the newly created or changed item after execution of an action\n     */\n    enableAutoScroll?: boolean;\n}\n\nexport enum Availability {\n    'Default' = 'Default',\n    'Adaptation' = 'Adaptation',\n    'Hidden' = 'Hidden'\n}\n\nexport enum HorizontalAlign {\n    'Begin' = 'Begin',\n    'Center' = 'Center',\n    'End' = 'End'\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ViewTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ObjectPageTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not be shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends TableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface ViewTableColumnAction extends ViewTableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport type ColumnPropertiesType = string[];\n\n/**\n * Inline Action for Object Page\n * @isViewNode true\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ObjectPageTableColumnAction extends ObjectPageTableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: Position;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not be shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface ViewTableCustomColumn {\n    /**\n     *   Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: ViewPosition;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not be shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n", "import type { PageConfig } from '../../common';\nimport type {\n    ObjectPageHeader,\n    ObjectPageLayout,\n    GenericSections,\n    CustomSections,\n    ObjectPageFooter\n} from '../controls';\n\nexport enum VariantManagementTypeObjectPage {\n    None = 'None',\n    Control = 'Control'\n}\n\nexport interface ObjectPageConfigV4 extends PageConfig {\n    header?: ObjectPageHeader;\n    layout?: ObjectPageLayout;\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeObjectPage;\n\n    sections?: GenericSections | CustomSections;\n\n    footer?: ObjectPageFooter;\n}\n", "import type { PageConfig } from '../../common';\nimport type { ALPChartView, ALPTableView, DefaultPathType, FilterBar, Header, Table } from '../controls';\n\nexport enum VariantManagementTypeListReport {\n    None = 'None',\n    Control = 'Control',\n    Page = 'Page'\n}\n\nexport interface ListReportConfigV4 extends PageConfig {\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeListReport;\n    /**\n     * Header\n     */\n    header?: Header;\n    /**\n     * Filter Bar\n     */\n    filterBar?: FilterBar;\n\n    /**\n     * Chart\n     */\n    chart?: ALPChartView;\n\n    /**\n     * Table\n     */\n    table?: Table | ALPTableView;\n\n    /**\n     * defaultTemplateAnnotationPath must be a reference to a SelectionPresentationVariant.\n     * You use the SelectionPresentationVariant to configure the default visualizations and default filter values of the main content area.\n     */\n    defaultTemplateAnnotationPath?: string;\n\n    /**\n     * defaultPath can be \"primary\", \"secondary\", or \"both\". If it is \"primary\", SAP Fiori elements loads the app in chart-only view. If it is \"secondary\", SAP Fiori elements loads the app in table-only view. If it is \"both\", SAP Fiori elements loads the app in hybrid view.\n     */\n    defaultPath?: DefaultPathType;\n}\n", null, "'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n", null, null, null, null, ";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n", "module.exports = {\r\n\r\n  isArray: function(value) {\r\n    if (Array.isArray) {\r\n      return Array.isArray(value);\r\n    }\r\n    // fallback for older browsers like  IE 8\r\n    return Object.prototype.toString.call( value ) === '[object Array]';\r\n  }\r\n\r\n};\r\n", "var isArray = require('./array-helper').isArray;\r\n\r\nmodule.exports = {\r\n\r\n  copyOptions: function (options) {\r\n    var key, copy = {};\r\n    for (key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        copy[key] = options[key];\r\n      }\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  ensureFlagExists: function (item, options) {\r\n    if (!(item in options) || typeof options[item] !== 'boolean') {\r\n      options[item] = false;\r\n    }\r\n  },\r\n\r\n  ensureSpacesExists: function (options) {\r\n    if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\r\n      options.spaces = 0;\r\n    }\r\n  },\r\n\r\n  ensureAlwaysArrayExists: function (options) {\r\n    if (!('alwaysArray' in options) || (typeof options.alwaysArray !== 'boolean' && !isArray(options.alwaysArray))) {\r\n      options.alwaysArray = false;\r\n    }\r\n  },\r\n\r\n  ensureKeyExists: function (key, options) {\r\n    if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\r\n      options[key + 'Key'] = options.compact ? '_' + key : key;\r\n    }\r\n  },\r\n\r\n  checkFnExists: function (key, options) {\r\n    return key + 'Fn' in options;\r\n  }\r\n\r\n};\r\n", "var sax = require('sax');\r\nvar expat /*= require('node-expat');*/ = { on: function () { }, parse: function () { } };\r\nvar helper = require('./options-helper');\r\nvar isArray = require('./array-helper').isArray;\r\n\r\nvar options;\r\nvar pureJsParser = true;\r\nvar currentElement;\r\n\r\nfunction validateOptions(userOptions) {\r\n  options = helper.copyOptions(userOptions);\r\n  helper.ensureFlagExists('ignoreDeclaration', options);\r\n  helper.ensureFlagExists('ignoreInstruction', options);\r\n  helper.ensureFlagExists('ignoreAttributes', options);\r\n  helper.ensureFlagExists('ignoreText', options);\r\n  helper.ensureFlagExists('ignoreComment', options);\r\n  helper.ensureFlagExists('ignoreCdata', options);\r\n  helper.ensureFlagExists('ignoreDoctype', options);\r\n  helper.ensureFlagExists('compact', options);\r\n  helper.ensureFlagExists('alwaysChildren', options);\r\n  helper.ensureFlagExists('addParent', options);\r\n  helper.ensureFlagExists('trim', options);\r\n  helper.ensureFlagExists('nativeType', options);\r\n  helper.ensureFlagExists('nativeTypeAttributes', options);\r\n  helper.ensureFlagExists('sanitize', options);\r\n  helper.ensureFlagExists('instructionHasAttributes', options);\r\n  helper.ensureFlagExists('captureSpacesBetweenElements', options);\r\n  helper.ensureAlwaysArrayExists(options);\r\n  helper.ensureKeyExists('declaration', options);\r\n  helper.ensureKeyExists('instruction', options);\r\n  helper.ensureKeyExists('attributes', options);\r\n  helper.ensureKeyExists('text', options);\r\n  helper.ensureKeyExists('comment', options);\r\n  helper.ensureKeyExists('cdata', options);\r\n  helper.ensureKeyExists('doctype', options);\r\n  helper.ensureKeyExists('type', options);\r\n  helper.ensureKeyExists('name', options);\r\n  helper.ensureKeyExists('elements', options);\r\n  helper.ensureKeyExists('parent', options);\r\n  helper.checkFnExists('doctype', options);\r\n  helper.checkFnExists('instruction', options);\r\n  helper.checkFnExists('cdata', options);\r\n  helper.checkFnExists('comment', options);\r\n  helper.checkFnExists('text', options);\r\n  helper.checkFnExists('instructionName', options);\r\n  helper.checkFnExists('elementName', options);\r\n  helper.checkFnExists('attributeName', options);\r\n  helper.checkFnExists('attributeValue', options);\r\n  helper.checkFnExists('attributes', options);\r\n  return options;\r\n}\r\n\r\nfunction nativeType(value) {\r\n  var nValue = Number(value);\r\n  if (!isNaN(nValue)) {\r\n    return nValue;\r\n  }\r\n  var bValue = value.toLowerCase();\r\n  if (bValue === 'true') {\r\n    return true;\r\n  } else if (bValue === 'false') {\r\n    return false;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction addField(type, value) {\r\n  var key;\r\n  if (options.compact) {\r\n    if (\r\n      !currentElement[options[type + 'Key']] &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(options[type + 'Key']) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[options[type + 'Key']] = [];\r\n    }\r\n    if (currentElement[options[type + 'Key']] && !isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']] = [currentElement[options[type + 'Key']]];\r\n    }\r\n    if (type + 'Fn' in options && typeof value === 'string') {\r\n      value = options[type + 'Fn'](value, currentElement);\r\n    }\r\n    if (type === 'instruction' && ('instructionFn' in options || 'instructionNameFn' in options)) {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          if ('instructionFn' in options) {\r\n            value[key] = options.instructionFn(value[key], key, currentElement);\r\n          } else {\r\n            var temp = value[key];\r\n            delete value[key];\r\n            value[options.instructionNameFn(key, temp, currentElement)] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']].push(value);\r\n    } else {\r\n      currentElement[options[type + 'Key']] = value;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    var element = {};\r\n    element[options.typeKey] = type;\r\n    if (type === 'instruction') {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          break;\r\n        }\r\n      }\r\n      element[options.nameKey] = 'instructionNameFn' in options ? options.instructionNameFn(key, value, currentElement) : key;\r\n      if (options.instructionHasAttributes) {\r\n        element[options.attributesKey] = value[key][options.attributesKey];\r\n        if ('instructionFn' in options) {\r\n          element[options.attributesKey] = options.instructionFn(element[options.attributesKey], key, currentElement);\r\n        }\r\n      } else {\r\n        if ('instructionFn' in options) {\r\n          value[key] = options.instructionFn(value[key], key, currentElement);\r\n        }\r\n        element[options.instructionKey] = value[key];\r\n      }\r\n    } else {\r\n      if (type + 'Fn' in options) {\r\n        value = options[type + 'Fn'](value, currentElement);\r\n      }\r\n      element[options[type + 'Key']] = value;\r\n    }\r\n    if (options.addParent) {\r\n      element[options.parentKey] = currentElement;\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n}\r\n\r\nfunction manipulateAttributes(attributes) {\r\n  if ('attributesFn' in options && attributes) {\r\n    attributes = options.attributesFn(attributes, currentElement);\r\n  }\r\n  if ((options.trim || 'attributeValueFn' in options || 'attributeNameFn' in options || options.nativeTypeAttributes) && attributes) {\r\n    var key;\r\n    for (key in attributes) {\r\n      if (attributes.hasOwnProperty(key)) {\r\n        if (options.trim) attributes[key] = attributes[key].trim();\r\n        if (options.nativeTypeAttributes) {\r\n          attributes[key] = nativeType(attributes[key]);\r\n        }\r\n        if ('attributeValueFn' in options) attributes[key] = options.attributeValueFn(attributes[key], key, currentElement);\r\n        if ('attributeNameFn' in options) {\r\n          var temp = attributes[key];\r\n          delete attributes[key];\r\n          attributes[options.attributeNameFn(key, attributes[key], currentElement)] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return attributes;\r\n}\r\n\r\nfunction onInstruction(instruction) {\r\n  var attributes = {};\r\n  if (instruction.body && (instruction.name.toLowerCase() === 'xml' || options.instructionHasAttributes)) {\r\n    var attrsRegExp = /([\\w:-]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|(\\w+))\\s*/g;\r\n    var match;\r\n    while ((match = attrsRegExp.exec(instruction.body)) !== null) {\r\n      attributes[match[1]] = match[2] || match[3] || match[4];\r\n    }\r\n    attributes = manipulateAttributes(attributes);\r\n  }\r\n  if (instruction.name.toLowerCase() === 'xml') {\r\n    if (options.ignoreDeclaration) {\r\n      return;\r\n    }\r\n    currentElement[options.declarationKey] = {};\r\n    if (Object.keys(attributes).length) {\r\n      currentElement[options.declarationKey][options.attributesKey] = attributes;\r\n    }\r\n    if (options.addParent) {\r\n      currentElement[options.declarationKey][options.parentKey] = currentElement;\r\n    }\r\n  } else {\r\n    if (options.ignoreInstruction) {\r\n      return;\r\n    }\r\n    if (options.trim) {\r\n      instruction.body = instruction.body.trim();\r\n    }\r\n    var value = {};\r\n    if (options.instructionHasAttributes && Object.keys(attributes).length) {\r\n      value[instruction.name] = {};\r\n      value[instruction.name][options.attributesKey] = attributes;\r\n    } else {\r\n      value[instruction.name] = instruction.body;\r\n    }\r\n    addField('instruction', value);\r\n  }\r\n}\r\n\r\nfunction onStartElement(name, attributes) {\r\n  var element;\r\n  if (typeof name === 'object') {\r\n    attributes = name.attributes;\r\n    name = name.name;\r\n  }\r\n  attributes = manipulateAttributes(attributes);\r\n  if ('elementNameFn' in options) {\r\n    name = options.elementNameFn(name, currentElement);\r\n  }\r\n  if (options.compact) {\r\n    element = {};\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = {};\r\n      var key;\r\n      for (key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n          element[options.attributesKey][key] = attributes[key];\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      !(name in currentElement) &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(name) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[name] = [];\r\n    }\r\n    if (currentElement[name] && !isArray(currentElement[name])) {\r\n      currentElement[name] = [currentElement[name]];\r\n    }\r\n    if (isArray(currentElement[name])) {\r\n      currentElement[name].push(element);\r\n    } else {\r\n      currentElement[name] = element;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    element = {};\r\n    element[options.typeKey] = 'element';\r\n    element[options.nameKey] = name;\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = attributes;\r\n    }\r\n    if (options.alwaysChildren) {\r\n      element[options.elementsKey] = [];\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n  element[options.parentKey] = currentElement; // will be deleted in onEndElement() if !options.addParent\r\n  currentElement = element;\r\n}\r\n\r\nfunction onText(text) {\r\n  if (options.ignoreText) {\r\n    return;\r\n  }\r\n  if (!text.trim() && !options.captureSpacesBetweenElements) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    text = text.trim();\r\n  }\r\n  if (options.nativeType) {\r\n    text = nativeType(text);\r\n  }\r\n  if (options.sanitize) {\r\n    text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  }\r\n  addField('text', text);\r\n}\r\n\r\nfunction onComment(comment) {\r\n  if (options.ignoreComment) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    comment = comment.trim();\r\n  }\r\n  addField('comment', comment);\r\n}\r\n\r\nfunction onEndElement(name) {\r\n  var parentElement = currentElement[options.parentKey];\r\n  if (!options.addParent) {\r\n    delete currentElement[options.parentKey];\r\n  }\r\n  currentElement = parentElement;\r\n}\r\n\r\nfunction onCdata(cdata) {\r\n  if (options.ignoreCdata) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    cdata = cdata.trim();\r\n  }\r\n  addField('cdata', cdata);\r\n}\r\n\r\nfunction onDoctype(doctype) {\r\n  if (options.ignoreDoctype) {\r\n    return;\r\n  }\r\n  doctype = doctype.replace(/^ /, '');\r\n  if (options.trim) {\r\n    doctype = doctype.trim();\r\n  }\r\n  addField('doctype', doctype);\r\n}\r\n\r\nfunction onError(error) {\r\n  error.note = error; //console.error(error);\r\n}\r\n\r\nmodule.exports = function (xml, userOptions) {\r\n\r\n  var parser = pureJsParser ? sax.parser(true, {}) : parser = new expat.Parser('UTF-8');\r\n  var result = {};\r\n  currentElement = result;\r\n\r\n  options = validateOptions(userOptions);\r\n\r\n  if (pureJsParser) {\r\n    parser.opt = {strictEntities: true};\r\n    parser.onopentag = onStartElement;\r\n    parser.ontext = onText;\r\n    parser.oncomment = onComment;\r\n    parser.onclosetag = onEndElement;\r\n    parser.onerror = onError;\r\n    parser.oncdata = onCdata;\r\n    parser.ondoctype = onDoctype;\r\n    parser.onprocessinginstruction = onInstruction;\r\n  } else {\r\n    parser.on('startElement', onStartElement);\r\n    parser.on('text', onText);\r\n    parser.on('comment', onComment);\r\n    parser.on('endElement', onEndElement);\r\n    parser.on('error', onError);\r\n    //parser.on('startCdata', onStartCdata);\r\n    //parser.on('endCdata', onEndCdata);\r\n    //parser.on('entityDecl', onEntityDecl);\r\n  }\r\n\r\n  if (pureJsParser) {\r\n    parser.write(xml).close();\r\n  } else {\r\n    if (!parser.parse(xml)) {\r\n      throw new Error('XML parsing error: ' + parser.getError());\r\n    }\r\n  }\r\n\r\n  if (result[options.elementsKey]) {\r\n    var temp = result[options.elementsKey];\r\n    delete result[options.elementsKey];\r\n    result[options.elementsKey] = temp;\r\n    delete result.text;\r\n  }\r\n\r\n  return result;\r\n\r\n};\r\n", "var helper = require('./options-helper');\r\nvar xml2js = require('./xml2js');\r\n\r\nfunction validateOptions (userOptions) {\r\n  var options = helper.copyOptions(userOptions);\r\n  helper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nmodule.exports = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\r\n", "var helper = require('./options-helper');\nvar isArray = require('./array-helper').isArray;\n\nvar currentElement, currentElementName;\n\nfunction validateOptions(userOptions) {\n  var options = helper.copyOptions(userOptions);\n  helper.ensureFlagExists('ignoreDeclaration', options);\n  helper.ensureFlagExists('ignoreInstruction', options);\n  helper.ensureFlagExists('ignoreAttributes', options);\n  helper.ensureFlagExists('ignoreText', options);\n  helper.ensureFlagExists('ignoreComment', options);\n  helper.ensureFlagExists('ignoreCdata', options);\n  helper.ensureFlagExists('ignoreDoctype', options);\n  helper.ensureFlagExists('compact', options);\n  helper.ensureFlagExists('indentText', options);\n  helper.ensureFlagExists('indentCdata', options);\n  helper.ensureFlagExists('indentAttributes', options);\n  helper.ensureFlagExists('indentInstruction', options);\n  helper.ensureFlagExists('fullTagEmptyElement', options);\n  helper.ensureFlagExists('noQuotesForNativeAttributes', options);\n  helper.ensureSpacesExists(options);\n  if (typeof options.spaces === 'number') {\n    options.spaces = Array(options.spaces + 1).join(' ');\n  }\n  helper.ensureKeyExists('declaration', options);\n  helper.ensureKeyExists('instruction', options);\n  helper.ensureKeyExists('attributes', options);\n  helper.ensureKeyExists('text', options);\n  helper.ensureKeyExists('comment', options);\n  helper.ensureKeyExists('cdata', options);\n  helper.ensureKeyExists('doctype', options);\n  helper.ensureKeyExists('type', options);\n  helper.ensureKeyExists('name', options);\n  helper.ensureKeyExists('elements', options);\n  helper.checkFnExists('doctype', options);\n  helper.checkFnExists('instruction', options);\n  helper.checkFnExists('cdata', options);\n  helper.checkFnExists('comment', options);\n  helper.checkFnExists('text', options);\n  helper.checkFnExists('instructionName', options);\n  helper.checkFnExists('elementName', options);\n  helper.checkFnExists('attributeName', options);\n  helper.checkFnExists('attributeValue', options);\n  helper.checkFnExists('attributes', options);\n  helper.checkFnExists('fullTagEmptyElement', options);\n  return options;\n}\n\nfunction writeIndentation(options, depth, firstLine) {\n  return (!firstLine && options.spaces ? '\\n' : '') + Array(depth + 1).join(options.spaces);\n}\n\nfunction writeAttributes(attributes, options, depth) {\n  if (options.ignoreAttributes) {\n    return '';\n  }\n  if ('attributesFn' in options) {\n    attributes = options.attributesFn(attributes, currentElementName, currentElement);\n  }\n  var key, attr, attrName, quote, result = [];\n  for (key in attributes) {\n    if (attributes.hasOwnProperty(key) && attributes[key] !== null && attributes[key] !== undefined) {\n      quote = options.noQuotesForNativeAttributes && typeof attributes[key] !== 'string' ? '' : '\"';\n      attr = '' + attributes[key]; // ensure number and boolean are converted to String\n      attr = attr.replace(/\"/g, '&quot;');\n      attrName = 'attributeNameFn' in options ? options.attributeNameFn(key, attr, currentElementName, currentElement) : key;\n      result.push((options.spaces && options.indentAttributes? writeIndentation(options, depth+1, false) : ' '));\n      result.push(attrName + '=' + quote + ('attributeValueFn' in options ? options.attributeValueFn(attr, key, currentElementName, currentElement) : attr) + quote);\n    }\n  }\n  if (attributes && Object.keys(attributes).length && options.spaces && options.indentAttributes) {\n    result.push(writeIndentation(options, depth, false));\n  }\n  return result.join('');\n}\n\nfunction writeDeclaration(declaration, options, depth) {\n  currentElement = declaration;\n  currentElementName = 'xml';\n  return options.ignoreDeclaration ? '' :  '<?' + 'xml' + writeAttributes(declaration[options.attributesKey], options, depth) + '?>';\n}\n\nfunction writeInstruction(instruction, options, depth) {\n  if (options.ignoreInstruction) {\n    return '';\n  }\n  var key;\n  for (key in instruction) {\n    if (instruction.hasOwnProperty(key)) {\n      break;\n    }\n  }\n  var instructionName = 'instructionNameFn' in options ? options.instructionNameFn(key, instruction[key], currentElementName, currentElement) : key;\n  if (typeof instruction[key] === 'object') {\n    currentElement = instruction;\n    currentElementName = instructionName;\n    return '<?' + instructionName + writeAttributes(instruction[key][options.attributesKey], options, depth) + '?>';\n  } else {\n    var instructionValue = instruction[key] ? instruction[key] : '';\n    if ('instructionFn' in options) instructionValue = options.instructionFn(instructionValue, key, currentElementName, currentElement);\n    return '<?' + instructionName + (instructionValue ? ' ' + instructionValue : '') + '?>';\n  }\n}\n\nfunction writeComment(comment, options) {\n  return options.ignoreComment ? '' : '<!--' + ('commentFn' in options ? options.commentFn(comment, currentElementName, currentElement) : comment) + '-->';\n}\n\nfunction writeCdata(cdata, options) {\n  return options.ignoreCdata ? '' : '<![CDATA[' + ('cdataFn' in options ? options.cdataFn(cdata, currentElementName, currentElement) : cdata.replace(']]>', ']]]]><![CDATA[>')) + ']]>';\n}\n\nfunction writeDoctype(doctype, options) {\n  return options.ignoreDoctype ? '' : '<!DOCTYPE ' + ('doctypeFn' in options ? options.doctypeFn(doctype, currentElementName, currentElement) : doctype) + '>';\n}\n\nfunction writeText(text, options) {\n  if (options.ignoreText) return '';\n  text = '' + text; // ensure Number and Boolean are converted to String\n  text = text.replace(/&amp;/g, '&'); // desanitize to avoid double sanitization\n  text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return 'textFn' in options ? options.textFn(text, currentElementName, currentElement) : text;\n}\n\nfunction hasContent(element, options) {\n  var i;\n  if (element.elements && element.elements.length) {\n    for (i = 0; i < element.elements.length; ++i) {\n      switch (element.elements[i][options.typeKey]) {\n      case 'text':\n        if (options.indentText) {\n          return true;\n        }\n        break; // skip to next key\n      case 'cdata':\n        if (options.indentCdata) {\n          return true;\n        }\n        break; // skip to next key\n      case 'instruction':\n        if (options.indentInstruction) {\n          return true;\n        }\n        break; // skip to next key\n      case 'doctype':\n      case 'comment':\n      case 'element':\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElement(element, options, depth) {\n  currentElement = element;\n  currentElementName = element.name;\n  var xml = [], elementName = 'elementNameFn' in options ? options.elementNameFn(element.name, element) : element.name;\n  xml.push('<' + elementName);\n  if (element[options.attributesKey]) {\n    xml.push(writeAttributes(element[options.attributesKey], options, depth));\n  }\n  var withClosingTag = element[options.elementsKey] && element[options.elementsKey].length || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n  if (!withClosingTag) {\n    if ('fullTagEmptyElementFn' in options) {\n      withClosingTag = options.fullTagEmptyElementFn(element.name, element);\n    } else {\n      withClosingTag = options.fullTagEmptyElement;\n    }\n  }\n  if (withClosingTag) {\n    xml.push('>');\n    if (element[options.elementsKey] && element[options.elementsKey].length) {\n      xml.push(writeElements(element[options.elementsKey], options, depth + 1));\n      currentElement = element;\n      currentElementName = element.name;\n    }\n    xml.push(options.spaces && hasContent(element, options) ? '\\n' + Array(depth + 1).join(options.spaces) : '');\n    xml.push('</' + elementName + '>');\n  } else {\n    xml.push('/>');\n  }\n  return xml.join('');\n}\n\nfunction writeElements(elements, options, depth, firstLine) {\n  return elements.reduce(function (xml, element) {\n    var indent = writeIndentation(options, depth, firstLine && !xml);\n    switch (element.type) {\n    case 'element': return xml + indent + writeElement(element, options, depth);\n    case 'comment': return xml + indent + writeComment(element[options.commentKey], options);\n    case 'doctype': return xml + indent + writeDoctype(element[options.doctypeKey], options);\n    case 'cdata': return xml + (options.indentCdata ? indent : '') + writeCdata(element[options.cdataKey], options);\n    case 'text': return xml + (options.indentText ? indent : '') + writeText(element[options.textKey], options);\n    case 'instruction':\n      var instruction = {};\n      instruction[element[options.nameKey]] = element[options.attributesKey] ? element : element[options.instructionKey];\n      return xml + (options.indentInstruction ? indent : '') + writeInstruction(instruction, options, depth);\n    }\n  }, '');\n}\n\nfunction hasContentCompact(element, options, anyContent) {\n  var key;\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      switch (key) {\n      case options.parentKey:\n      case options.attributesKey:\n        break; // skip to next key\n      case options.textKey:\n        if (options.indentText || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.cdataKey:\n        if (options.indentCdata || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.instructionKey:\n        if (options.indentInstruction || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.doctypeKey:\n      case options.commentKey:\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElementCompact(element, name, options, depth, indent) {\n  currentElement = element;\n  currentElementName = name;\n  var elementName = 'elementNameFn' in options ? options.elementNameFn(name, element) : name;\n  if (typeof element === 'undefined' || element === null || element === '') {\n    return 'fullTagEmptyElementFn' in options && options.fullTagEmptyElementFn(name, element) || options.fullTagEmptyElement ? '<' + elementName + '></' + elementName + '>' : '<' + elementName + '/>';\n  }\n  var xml = [];\n  if (name) {\n    xml.push('<' + elementName);\n    if (typeof element !== 'object') {\n      xml.push('>' + writeText(element,options) + '</' + elementName + '>');\n      return xml.join('');\n    }\n    if (element[options.attributesKey]) {\n      xml.push(writeAttributes(element[options.attributesKey], options, depth));\n    }\n    var withClosingTag = hasContentCompact(element, options, true) || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n    if (!withClosingTag) {\n      if ('fullTagEmptyElementFn' in options) {\n        withClosingTag = options.fullTagEmptyElementFn(name, element);\n      } else {\n        withClosingTag = options.fullTagEmptyElement;\n      }\n    }\n    if (withClosingTag) {\n      xml.push('>');\n    } else {\n      xml.push('/>');\n      return xml.join('');\n    }\n  }\n  xml.push(writeElementsCompact(element, options, depth + 1, false));\n  currentElement = element;\n  currentElementName = name;\n  if (name) {\n    xml.push((indent ? writeIndentation(options, depth, false) : '') + '</' + elementName + '>');\n  }\n  return xml.join('');\n}\n\nfunction writeElementsCompact(element, options, depth, firstLine) {\n  var i, key, nodes, xml = [];\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      nodes = isArray(element[key]) ? element[key] : [element[key]];\n      for (i = 0; i < nodes.length; ++i) {\n        switch (key) {\n        case options.declarationKey: xml.push(writeDeclaration(nodes[i], options, depth)); break;\n        case options.instructionKey: xml.push((options.indentInstruction ? writeIndentation(options, depth, firstLine) : '') + writeInstruction(nodes[i], options, depth)); break;\n        case options.attributesKey: case options.parentKey: break; // skip\n        case options.textKey: xml.push((options.indentText ? writeIndentation(options, depth, firstLine) : '') + writeText(nodes[i], options)); break;\n        case options.cdataKey: xml.push((options.indentCdata ? writeIndentation(options, depth, firstLine) : '') + writeCdata(nodes[i], options)); break;\n        case options.doctypeKey: xml.push(writeIndentation(options, depth, firstLine) + writeDoctype(nodes[i], options)); break;\n        case options.commentKey: xml.push(writeIndentation(options, depth, firstLine) + writeComment(nodes[i], options)); break;\n        default: xml.push(writeIndentation(options, depth, firstLine) + writeElementCompact(nodes[i], key, options, depth, hasContentCompact(nodes[i], options)));\n        }\n        firstLine = firstLine && !xml.length;\n      }\n    }\n  }\n  return xml.join('');\n}\n\nmodule.exports = function (js, options) {\n  options = validateOptions(options);\n  var xml = [];\n  currentElement = js;\n  currentElementName = '_root_';\n  if (options.compact) {\n    xml.push(writeElementsCompact(js, options, 0, true));\n  } else {\n    if (js[options.declarationKey]) {\n      xml.push(writeDeclaration(js[options.declarationKey], options, 0));\n    }\n    if (js[options.elementsKey] && js[options.elementsKey].length) {\n      xml.push(writeElements(js[options.elementsKey], options, 0, !xml.length));\n    }\n  }\n  return xml.join('');\n};\n", "var js2xml = require('./js2xml.js');\r\n\r\nmodule.exports = function (json, options) {\r\n  if (json instanceof Buffer) {\r\n    json = json.toString();\r\n  }\r\n  var js = null;\r\n  if (typeof (json) === 'string') {\r\n    try {\r\n      js = JSON.parse(json);\r\n    } catch (e) {\r\n      throw new Error('The JSON structure is invalid');\r\n    }\r\n  } else {\r\n    js = json;\r\n  }\r\n  return js2xml(js, options);\r\n};\r\n", "/*jslint node:true */\r\n\r\nvar xml2js = require('./xml2js');\r\nvar xml2json = require('./xml2json');\r\nvar js2xml = require('./js2xml');\r\nvar json2xml = require('./json2xml');\r\n\r\nmodule.exports = {\r\n  xml2js: xml2js,\r\n  xml2json: xml2json,\r\n  js2xml: js2xml,\r\n  json2xml: json2xml\r\n};\r\n", null, null, null, null, null, "/**\n * @module @ui5/flexibility-utils/src/changeUtils\n */\n\nlet iIdCounter = 0;\nconst CHANGE_UTILS_PREFIX = \"changeUtils: \";\n\nfunction uid() {\n\treturn \"id-\" + new Date().valueOf() + \"-\" + iIdCounter++;\n}\n\nfunction appendComponentToReference(sComponentName) {\n\tif (sComponentName && sComponentName.indexOf(\".Component\") < 0) {\n\t\tsComponentName += \".Component\";\n\t}\n\treturn sComponentName;\n}\n\nfunction getFlexReference(manifest) {\n\tconst oSapUi5Entry = manifest[\"sap.ui5\"];\n\tif (oSapUi5Entry) {\n\t\tif (oSapUi5Entry.appVariantId) {\n\t\t\treturn oSapUi5Entry.appVariantId;\n\t\t}\n\n\t\tif (oSapUi5Entry.componentName) {\n\t\t\treturn appendComponentToReference(oSapUi5Entry.componentName);\n\t\t}\n\t}\n\n\tconst sapApp = manifest[\"sap.app\"];\n\tif (!sapApp || !sapApp.id) {\n\t\tthrow Error(\"app ID could not be determined\");\n\t}\n\treturn sapApp.id;\n}\n\nfunction getAppVersion(manifest) {\n\tconst sapApp = manifest[\"sap.app\"];\n\tif (!sapApp || !sapApp.applicationVersion || !sapApp.applicationVersion.version) {\n\t\tthrow Error(\"app version could not be determined\");\n\t}\n\treturn sapApp.applicationVersion.version;\n}\n\nfunction getProjectId(manifest, reference) {\n\tif (\n\t\tmanifest &&\n\t\tmanifest[\"sap.app\"] &&\n\t\tmanifest[\"sap.app\"].sourceTemplate &&\n\t\t[\"ui5template.smartTemplate\", \"ui5template.smarttemplate\"].includes(manifest[\"sap.app\"].sourceTemplate.id)\n\t) {\n\t\treturn reference;\n\t}\n\n\treturn \"\";\n}\n\nfunction createString(propertyBag) {\n\treturn JSON.stringify({\n\t\tfileName: propertyBag.id || uid().replace(/-/g, \"_\") + \"_\" + propertyBag.type,\n\t\tfileType: \"change\",\n\t\tchangeType: propertyBag.type,\n\t\tmoduleName: \"\",\n\t\treference: propertyBag.reference,\n\t\tpackageName: \"\",\n\t\tcontent: propertyBag.content || {},\n\t\tselector: {\n\t\t\tid: propertyBag.controlId,\n\t\t\tidIsLocal: false,\n\t\t\ttype: propertyBag.controlType\n\t\t},\n\t\tlayer: propertyBag.isCustomer ? \"CUSTOMER_BASE\" : \"VENDOR\",\n\t\ttexts: {},\n\t\tnamespace: \"apps/\" + propertyBag.reference.replace(\".Component\", \"\") + \"/changes/\",\n\t\tprojectId: propertyBag.projectId,\n\t\tcreation: propertyBag.creation || new Date().valueOf(),\n\t\toriginalLanguage: \"\",\n\t\tsupport: {\n\t\t\tgenerator: CHANGE_UTILS_PREFIX + propertyBag.creatingTool,\n\t\t\tservice: \"\",\n\t\t\tuser: \"\",\n\t\t\tsapui5Version: propertyBag.sapui5Version,\n\t\t\tsourceChangeFileName: \"\",\n\t\t\tcompositeCommand: \"\"\n\t\t},\n\t\toDataInformation: {},\n\t\tdependentSelector: {},\n\t\tvalidAppVersions: {\n\t\t\tfrom: propertyBag.appVersion,\n\t\t\tto: propertyBag.appVersion,\n\t\t\tcreation: propertyBag.appVersion\n\n\t\t},\n\t\tjsOnly: false,\n\t\tvariantReference: \"\",\n\t\tappDescriptorChange: false\n\t});\n}\n\n/**\n * Object containing information for a change update.\n *\n * @typedef {object} \tChangeDefinition\n * @property {string}\tcontrolId - ID of the control containing all prefixes excluding the application ID prefix\n * @property {string}\ttype - Change type, i.e. <code>propertyChange</code>\n * @property {Object}\tcontent - Content of the change needed by the corresponding change handler\n * @property {boolean}\tisCustomer - Flag indicating whether the project is related to a customer project\n * @property {string}\tsapui5Version - SAPUI5 version for which the change is created\n * @property {string}\tcreatingTool - Name of the tool calling this function for support reasons\n * @property {string}\tid - UID of the change;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\treference - Reference to the application;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\tappVersion - Version of the application;\n *\t\t \t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\tcreation - String with the creation timestamp;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n */\n\n/**\n * Object containing information for a change creation.\n *\n * @typedef {object} \tChangeDefinitionInCreation\n * @property {string}  \tcontrolId - ID of the control containing all prefixes excluding the application ID prefix\n * @property {string}  \ttype - Change type, i.e. <code>propertyChange</code>\n * @property {Object}  \t[content] - Content of the change needed by the corresponding change handler\n * @property {boolean} \tisCustomer - Flag indicating whether the project is related to a customer project\n * @property {string}  \t[sapui5Version] - SAPUI5 version for which the change is created\n * @property {string}  \tcreatingTool - Name of the tool calling this function (this is needed for support reasons)\n */\n\nmodule.exports = {\n\t/**\n\t * Parses a string of a change file into a change definition;\n\t * The parsed entities <code>id</code>, <code>reference</code>, <code>appVersion</code>, <code>creation</code>\n\t * must not be changed between <code>toString</code> operations.\n\t *\n\t * @param {string} changeString - Stringified change object stored in the workspace\n\t * @returns {ChangeDefinition}\n\t */\n\tparse: function(changeString) {\n\t\tconst change = JSON.parse(changeString);\n\n\t\tif (\n\t\t\t!change.fileName ||\n\t\t\t!change.changeType ||\n\t\t\t!change.selector ||\n\t\t\t!change.reference ||\n\t\t\t!change.creation ||\n\t\t\t!change.content ||\n\t\t\t!change.layer ||\n\t\t\t!change.support\n\t\t) {\n\t\t\tthrow Error(\"Parsed object does not contain all required parameters\");\n\t\t}\n\n\t\treturn {\n\t\t\tid: change.fileName,\n\t\t\treference: change.reference,\n\t\t\tappVersion: change.validAppVersions ? change.validAppVersions.creation : \"\",\n\t\t\tcreation: change.creation,\n\t\t\tprojectId: change.projectId,\n\t\t\ttype: change.changeType,\n\t\t\tcontrolId: change.selector.id,\n\t\t\tcontrolType: change.selector.type,\n\t\t\tisCustomer: change.layer === \"CUSTOMER_BASE\",\n\t\t\tcreatingTool: change.support.generator.replace(CHANGE_UTILS_PREFIX, \"\"),\n\t\t\tcontent: change.content,\n\t\t\tsapui5Version: change.support.sapui5Version\n\t\t};\n\t},\n\n\t/**\n\t * Generates a string of a change to write it as a file into the workspace.\n\t *\n\t * @param {changeDefinitionInCreation} propertyBag -\n\t * \t\t\tObject containing parameters for the change string creation\n\t * @param {object} manifest - Application manifest\n\t * @returns {string} Stringified change object needed and understood by the SAPUI5 runtime for storing in the workspace\n\t */\n\tcreateChangeString: function (propertyBag, manifest) {\n\t\tif (\n\t\t\t!propertyBag.type ||\n\t\t\t!propertyBag.controlId ||\n\t\t\t!(typeof propertyBag.isCustomer === \"boolean\") ||\n\t\t\t!propertyBag.creatingTool\n\t\t) {\n\t\t\tthrow Error(\"not all property parameters of the change were provided\");\n\t\t}\n\n\t\tif (!manifest) {\n\t\t\tthrow Error(\"no manifest was provided\");\n\t\t}\n\n\t\tpropertyBag.reference = getFlexReference(manifest);\n\t\tpropertyBag.appVersion = getAppVersion(manifest);\n\t\tpropertyBag.projectId = getProjectId(manifest, propertyBag.reference);\n\n\t\treturn createString(propertyBag);\n\t},\n\n\t/**\n\t * Generates a string of a parsed change to write it as a file into the workspace.\n\t *\n\t * @param {ChangeDefinition} propertyBag -\n\t * \t\t\tObject containing parameters for the change string creation\n\t * @returns {string} Stringified change object needed and understood by the SAPUI5 runtime for storing in the workspace\n\t */\n\ttoString: function(propertyBag) {\n\t\tif (\n\t\t\t!propertyBag.type ||\n\t\t\t!propertyBag.controlId ||\n\t\t\t!(typeof propertyBag.isCustomer === \"boolean\") ||\n\t\t\t!propertyBag.creatingTool ||\n\t\t\t!(propertyBag.reference && propertyBag.appVersion)\n\t\t) {\n\t\t\tthrow Error(\"not all parameters of the change were provided\");\n\t\t}\n\n\t\treturn createString(propertyBag);\n\t}\n};\n", "/**\n * @module @ui5/flexibility-utils\n * @public\n */\n\nmodule.exports = {\n\t/**\n\t * @public\n\t * @see module:@ui5/flexibility-utils/src/changeUtils.js\n\t */\n\tchange: require(\"./src/changeUtils\")\n};", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar hasOwn = function (obj, key) { return hasOwnProperty.apply(obj, [key]); };\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var p in from) {\n      if (!hasOwn(from, p)) {\n        continue;\n      }\n      if (p === '__proto__' || p === 'constructor') {\n        continue;\n      }\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  list = list || [];\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var i = 0; i < list.length; i++) {\n      var p = list[i];\n      if (typeof from[p] != 'undefined') {\n        if (!hasOwn(from, p)) {\n          continue;\n        }\n        if (p === '__proto__' || p === 'constructor') {\n          continue;\n        }\n        to[p] = from[p];\n      }\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements {Cache}\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n\n/**\n * Transforms hyphen case variable into camel case.\n *\n * @param {String} string Hyphen case string\n * @return {String} Camel case string\n * @static\n * @private\n */\nexports.hyphenToCamel = function (str) {\n  return str.replace(/-[a-z]/g, function (match) { return match[1].toUpperCase(); });\n};\n\n/**\n * Returns a null-prototype object in runtimes that support it\n *\n * @return {Object} Object, prototype will be set to null where possible\n * @static\n * @private\n */\nexports.createNullProtoObjWherePossible = (function () {\n  if (typeof Object.create == 'function') {\n    return function () {\n      return Object.create(null);\n    };\n  }\n  if (!({__proto__: null} instanceof Object)) {\n    return function () {\n      return {__proto__: null};\n    };\n  }\n  // Not possible, just pass through\n  return function () {\n    return {};\n  };\n})();\n\n\n", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\n/** @type {string} */\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\nvar _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {PromiseConstructorLike}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} [isDir=false] whether the parent file path is a directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Try to resolve file path on multiple directories\n *\n * @param  {String}        name  specified path\n * @param  {Array<String>} paths list of possible parent directory paths\n * @return {String}\n */\nfunction resolvePaths(name, paths) {\n  var filePath;\n  if (paths.some(function (v) {\n    filePath = exports.resolveInclude(name, v, true);\n    return fs.existsSync(filePath);\n  })) {\n    return filePath;\n  }\n}\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    path = path.replace(/^\\/*/, '');\n    if (Array.isArray(options.root)) {\n      includePath = resolvePaths(path, options.root);\n    } else {\n      includePath = exports.resolveInclude(path, options.root || '/', true);\n    }\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath && Array.isArray(views)) {\n      includePath = resolvePaths(path, views);\n    }\n    if (!includePath && typeof options.includer !== 'function') {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);\n  opts.filename = getIncludePath(path, opts);\n  if (typeof options.includer === 'function') {\n    var includerResult = options.includer(path, opts.filename);\n    if (includerResult) {\n      if (includerResult.filename) {\n        opts.filename = includerResult.filename;\n      }\n      if (includerResult.template) {\n        return handleCache(opts, includerResult.template);\n      }\n    }\n  }\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements {RethrowCallback}\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} flnm     file name of the EJS file\n * @param {Number} lineno   line number of the error\n * @param {EscapeCallback} esc\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc) {\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm);\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} [opts] compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || utils.createNullProtoObjWherePossible();\n  var opts = o || utils.createNullProtoObjWherePossible();\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = utils.createNullProtoObjWherePossible();\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || utils.createNullProtoObjWherePossible();\n  var options = utils.createNullProtoObjWherePossible();\n  this.templateText = text;\n  /** @type {string | null} */\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.includer = opts.includer;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    /** @type {string} */\n    var src;\n    /** @type {ClientFunction} */\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    /** @type {EscapeCallback} */\n    var escapeFn = opts.escapeFunction;\n    /** @type {FunctionConstructor} */\n    var ctor;\n    /** @type {string} */\n    var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : 'undefined';\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {\n          throw new Error('outputFunctionName is not a valid JS identifier.');\n        }\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {\n        throw new Error('localsName is not a valid JS identifier.');\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (!_JS_IDENTIFIER.test(name)) {\n            throw new Error('destructuredLocals[' + i + '] is not a valid JS identifier.');\n          }\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + sanitizedFilename + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + sanitizedFilename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context,\n        [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);\n    };\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n", null, null, ";(function(root, factory) {\n    // istanbul ignore next\n    if (typeof define === \"function\" && define.amd) {\n        // istanbul ignore next\n        define([], factory)\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory()\n    } else {\n        // istanbul ignore next\n        root.regexpToAst = factory()\n    }\n})(\n    typeof self !== \"undefined\"\n        ? // istanbul ignore next\n          self\n        : this,\n    function() {\n        // references\n        // https://hackernoon.com/the-madness-of-parsing-real-world-javascript-regexps-d9ee336df983\n        // https://www.ecma-international.org/ecma-262/8.0/index.html#prod-Pattern\n        function RegExpParser() {}\n\n        RegExpParser.prototype.saveState = function() {\n            return {\n                idx: this.idx,\n                input: this.input,\n                groupIdx: this.groupIdx\n            }\n        }\n\n        RegExpParser.prototype.restoreState = function(newState) {\n            this.idx = newState.idx\n            this.input = newState.input\n            this.groupIdx = newState.groupIdx\n        }\n\n        RegExpParser.prototype.pattern = function(input) {\n            // parser state\n            this.idx = 0\n            this.input = input\n            this.groupIdx = 0\n\n            this.consumeChar(\"/\")\n            var value = this.disjunction()\n            this.consumeChar(\"/\")\n\n            var flags = {\n                type: \"Flags\",\n                loc: { begin: this.idx, end: input.length },\n                global: false,\n                ignoreCase: false,\n                multiLine: false,\n                unicode: false,\n                sticky: false\n            }\n\n            while (this.isRegExpFlag()) {\n                switch (this.popChar()) {\n                    case \"g\":\n                        addFlag(flags, \"global\")\n                        break\n                    case \"i\":\n                        addFlag(flags, \"ignoreCase\")\n                        break\n                    case \"m\":\n                        addFlag(flags, \"multiLine\")\n                        break\n                    case \"u\":\n                        addFlag(flags, \"unicode\")\n                        break\n                    case \"y\":\n                        addFlag(flags, \"sticky\")\n                        break\n                }\n            }\n\n            if (this.idx !== this.input.length) {\n                throw Error(\n                    \"Redundant input: \" + this.input.substring(this.idx)\n                )\n            }\n            return {\n                type: \"Pattern\",\n                flags: flags,\n                value: value,\n                loc: this.loc(0)\n            }\n        }\n\n        RegExpParser.prototype.disjunction = function() {\n            var alts = []\n            var begin = this.idx\n\n            alts.push(this.alternative())\n\n            while (this.peekChar() === \"|\") {\n                this.consumeChar(\"|\")\n                alts.push(this.alternative())\n            }\n\n            return { type: \"Disjunction\", value: alts, loc: this.loc(begin) }\n        }\n\n        RegExpParser.prototype.alternative = function() {\n            var terms = []\n            var begin = this.idx\n\n            while (this.isTerm()) {\n                terms.push(this.term())\n            }\n\n            return { type: \"Alternative\", value: terms, loc: this.loc(begin) }\n        }\n\n        RegExpParser.prototype.term = function() {\n            if (this.isAssertion()) {\n                return this.assertion()\n            } else {\n                return this.atom()\n            }\n        }\n\n        RegExpParser.prototype.assertion = function() {\n            var begin = this.idx\n            switch (this.popChar()) {\n                case \"^\":\n                    return {\n                        type: \"StartAnchor\",\n                        loc: this.loc(begin)\n                    }\n                case \"$\":\n                    return { type: \"EndAnchor\", loc: this.loc(begin) }\n                // '\\b' or '\\B'\n                case \"\\\\\":\n                    switch (this.popChar()) {\n                        case \"b\":\n                            return {\n                                type: \"WordBoundary\",\n                                loc: this.loc(begin)\n                            }\n                        case \"B\":\n                            return {\n                                type: \"NonWordBoundary\",\n                                loc: this.loc(begin)\n                            }\n                    }\n                    // istanbul ignore next\n                    throw Error(\"Invalid Assertion Escape\")\n                // '(?=' or '(?!'\n                case \"(\":\n                    this.consumeChar(\"?\")\n\n                    var type\n                    switch (this.popChar()) {\n                        case \"=\":\n                            type = \"Lookahead\"\n                            break\n                        case \"!\":\n                            type = \"NegativeLookahead\"\n                            break\n                    }\n                    ASSERT_EXISTS(type)\n\n                    var disjunction = this.disjunction()\n\n                    this.consumeChar(\")\")\n\n                    return {\n                        type: type,\n                        value: disjunction,\n                        loc: this.loc(begin)\n                    }\n            }\n            // istanbul ignore next\n            ASSERT_NEVER_REACH_HERE()\n        }\n\n        RegExpParser.prototype.quantifier = function(isBacktracking) {\n            var range\n            var begin = this.idx\n            switch (this.popChar()) {\n                case \"*\":\n                    range = {\n                        atLeast: 0,\n                        atMost: Infinity\n                    }\n                    break\n                case \"+\":\n                    range = {\n                        atLeast: 1,\n                        atMost: Infinity\n                    }\n                    break\n                case \"?\":\n                    range = {\n                        atLeast: 0,\n                        atMost: 1\n                    }\n                    break\n                case \"{\":\n                    var atLeast = this.integerIncludingZero()\n                    switch (this.popChar()) {\n                        case \"}\":\n                            range = {\n                                atLeast: atLeast,\n                                atMost: atLeast\n                            }\n                            break\n                        case \",\":\n                            var atMost\n                            if (this.isDigit()) {\n                                atMost = this.integerIncludingZero()\n                                range = {\n                                    atLeast: atLeast,\n                                    atMost: atMost\n                                }\n                            } else {\n                                range = {\n                                    atLeast: atLeast,\n                                    atMost: Infinity\n                                }\n                            }\n                            this.consumeChar(\"}\")\n                            break\n                    }\n                    // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n                    // causes severe performance degradations\n                    if (isBacktracking === true && range === undefined) {\n                        return undefined\n                    }\n                    ASSERT_EXISTS(range)\n                    break\n            }\n\n            // throwing exceptions from \"ASSERT_EXISTS\" during backtracking\n            // causes severe performance degradations\n            if (isBacktracking === true && range === undefined) {\n                return undefined\n            }\n\n            ASSERT_EXISTS(range)\n\n            if (this.peekChar(0) === \"?\") {\n                this.consumeChar(\"?\")\n                range.greedy = false\n            } else {\n                range.greedy = true\n            }\n\n            range.type = \"Quantifier\"\n            range.loc = this.loc(begin)\n            return range\n        }\n\n        RegExpParser.prototype.atom = function() {\n            var atom\n            var begin = this.idx\n            switch (this.peekChar()) {\n                case \".\":\n                    atom = this.dotAll()\n                    break\n                case \"\\\\\":\n                    atom = this.atomEscape()\n                    break\n                case \"[\":\n                    atom = this.characterClass()\n                    break\n                case \"(\":\n                    atom = this.group()\n                    break\n            }\n\n            if (atom === undefined && this.isPatternCharacter()) {\n                atom = this.patternCharacter()\n            }\n\n            ASSERT_EXISTS(atom)\n\n            atom.loc = this.loc(begin)\n\n            if (this.isQuantifier()) {\n                atom.quantifier = this.quantifier()\n            }\n\n            return atom\n        }\n\n        RegExpParser.prototype.dotAll = function() {\n            this.consumeChar(\".\")\n            return {\n                type: \"Set\",\n                complement: true,\n                value: [cc(\"\\n\"), cc(\"\\r\"), cc(\"\\u2028\"), cc(\"\\u2029\")]\n            }\n        }\n\n        RegExpParser.prototype.atomEscape = function() {\n            this.consumeChar(\"\\\\\")\n\n            switch (this.peekChar()) {\n                case \"1\":\n                case \"2\":\n                case \"3\":\n                case \"4\":\n                case \"5\":\n                case \"6\":\n                case \"7\":\n                case \"8\":\n                case \"9\":\n                    return this.decimalEscapeAtom()\n                case \"d\":\n                case \"D\":\n                case \"s\":\n                case \"S\":\n                case \"w\":\n                case \"W\":\n                    return this.characterClassEscape()\n                case \"f\":\n                case \"n\":\n                case \"r\":\n                case \"t\":\n                case \"v\":\n                    return this.controlEscapeAtom()\n                case \"c\":\n                    return this.controlLetterEscapeAtom()\n                case \"0\":\n                    return this.nulCharacterAtom()\n                case \"x\":\n                    return this.hexEscapeSequenceAtom()\n                case \"u\":\n                    return this.regExpUnicodeEscapeSequenceAtom()\n                default:\n                    return this.identityEscapeAtom()\n            }\n        }\n\n        RegExpParser.prototype.decimalEscapeAtom = function() {\n            var value = this.positiveInteger()\n\n            return { type: \"GroupBackReference\", value: value }\n        }\n\n        RegExpParser.prototype.characterClassEscape = function() {\n            var set\n            var complement = false\n            switch (this.popChar()) {\n                case \"d\":\n                    set = digitsCharCodes\n                    break\n                case \"D\":\n                    set = digitsCharCodes\n                    complement = true\n                    break\n                case \"s\":\n                    set = whitespaceCodes\n                    break\n                case \"S\":\n                    set = whitespaceCodes\n                    complement = true\n                    break\n                case \"w\":\n                    set = wordCharCodes\n                    break\n                case \"W\":\n                    set = wordCharCodes\n                    complement = true\n                    break\n            }\n\n            ASSERT_EXISTS(set)\n\n            return { type: \"Set\", value: set, complement: complement }\n        }\n\n        RegExpParser.prototype.controlEscapeAtom = function() {\n            var escapeCode\n            switch (this.popChar()) {\n                case \"f\":\n                    escapeCode = cc(\"\\f\")\n                    break\n                case \"n\":\n                    escapeCode = cc(\"\\n\")\n                    break\n                case \"r\":\n                    escapeCode = cc(\"\\r\")\n                    break\n                case \"t\":\n                    escapeCode = cc(\"\\t\")\n                    break\n                case \"v\":\n                    escapeCode = cc(\"\\v\")\n                    break\n            }\n            ASSERT_EXISTS(escapeCode)\n\n            return { type: \"Character\", value: escapeCode }\n        }\n\n        RegExpParser.prototype.controlLetterEscapeAtom = function() {\n            this.consumeChar(\"c\")\n            var letter = this.popChar()\n            if (/[a-zA-Z]/.test(letter) === false) {\n                throw Error(\"Invalid \")\n            }\n\n            var letterCode = letter.toUpperCase().charCodeAt(0) - 64\n            return { type: \"Character\", value: letterCode }\n        }\n\n        RegExpParser.prototype.nulCharacterAtom = function() {\n            // TODO implement '[lookahead \u2209 DecimalDigit]'\n            // TODO: for the deprecated octal escape sequence\n            this.consumeChar(\"0\")\n            return { type: \"Character\", value: cc(\"\\0\") }\n        }\n\n        RegExpParser.prototype.hexEscapeSequenceAtom = function() {\n            this.consumeChar(\"x\")\n            return this.parseHexDigits(2)\n        }\n\n        RegExpParser.prototype.regExpUnicodeEscapeSequenceAtom = function() {\n            this.consumeChar(\"u\")\n            return this.parseHexDigits(4)\n        }\n\n        RegExpParser.prototype.identityEscapeAtom = function() {\n            // TODO: implement \"SourceCharacter but not UnicodeIDContinue\"\n            // // http://unicode.org/reports/tr31/#Specific_Character_Adjustments\n            var escapedChar = this.popChar()\n            return { type: \"Character\", value: cc(escapedChar) }\n        }\n\n        RegExpParser.prototype.classPatternCharacterAtom = function() {\n            switch (this.peekChar()) {\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                // istanbul ignore next\n                case \"\\\\\":\n                // istanbul ignore next\n                case \"]\":\n                    throw Error(\"TBD\")\n                default:\n                    var nextChar = this.popChar()\n                    return { type: \"Character\", value: cc(nextChar) }\n            }\n        }\n\n        RegExpParser.prototype.characterClass = function() {\n            var set = []\n            var complement = false\n            this.consumeChar(\"[\")\n            if (this.peekChar(0) === \"^\") {\n                this.consumeChar(\"^\")\n                complement = true\n            }\n\n            while (this.isClassAtom()) {\n                var from = this.classAtom()\n                var isFromSingleChar = from.type === \"Character\"\n                if (isFromSingleChar && this.isRangeDash()) {\n                    this.consumeChar(\"-\")\n                    var to = this.classAtom()\n                    var isToSingleChar = to.type === \"Character\"\n\n                    // a range can only be used when both sides are single characters\n                    if (isToSingleChar) {\n                        if (to.value < from.value) {\n                            throw Error(\"Range out of order in character class\")\n                        }\n                        set.push({ from: from.value, to: to.value })\n                    } else {\n                        // literal dash\n                        insertToSet(from.value, set)\n                        set.push(cc(\"-\"))\n                        insertToSet(to.value, set)\n                    }\n                } else {\n                    insertToSet(from.value, set)\n                }\n            }\n\n            this.consumeChar(\"]\")\n\n            return { type: \"Set\", complement: complement, value: set }\n        }\n\n        RegExpParser.prototype.classAtom = function() {\n            switch (this.peekChar()) {\n                // istanbul ignore next\n                case \"]\":\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                    throw Error(\"TBD\")\n                case \"\\\\\":\n                    return this.classEscape()\n                default:\n                    return this.classPatternCharacterAtom()\n            }\n        }\n\n        RegExpParser.prototype.classEscape = function() {\n            this.consumeChar(\"\\\\\")\n            switch (this.peekChar()) {\n                // Matches a backspace.\n                // (Not to be confused with \\b word boundary outside characterClass)\n                case \"b\":\n                    this.consumeChar(\"b\")\n                    return { type: \"Character\", value: cc(\"\\u0008\") }\n                case \"d\":\n                case \"D\":\n                case \"s\":\n                case \"S\":\n                case \"w\":\n                case \"W\":\n                    return this.characterClassEscape()\n                case \"f\":\n                case \"n\":\n                case \"r\":\n                case \"t\":\n                case \"v\":\n                    return this.controlEscapeAtom()\n                case \"c\":\n                    return this.controlLetterEscapeAtom()\n                case \"0\":\n                    return this.nulCharacterAtom()\n                case \"x\":\n                    return this.hexEscapeSequenceAtom()\n                case \"u\":\n                    return this.regExpUnicodeEscapeSequenceAtom()\n                default:\n                    return this.identityEscapeAtom()\n            }\n        }\n\n        RegExpParser.prototype.group = function() {\n            var capturing = true\n            this.consumeChar(\"(\")\n            switch (this.peekChar(0)) {\n                case \"?\":\n                    this.consumeChar(\"?\")\n                    this.consumeChar(\":\")\n                    capturing = false\n                    break\n                default:\n                    this.groupIdx++\n                    break\n            }\n            var value = this.disjunction()\n            this.consumeChar(\")\")\n\n            var groupAst = {\n                type: \"Group\",\n                capturing: capturing,\n                value: value\n            }\n\n            if (capturing) {\n                groupAst.idx = this.groupIdx\n            }\n\n            return groupAst\n        }\n\n        RegExpParser.prototype.positiveInteger = function() {\n            var number = this.popChar()\n\n            // istanbul ignore next - can't ever get here due to previous lookahead checks\n            // still implementing this error checking in case this ever changes.\n            if (decimalPatternNoZero.test(number) === false) {\n                throw Error(\"Expecting a positive integer\")\n            }\n\n            while (decimalPattern.test(this.peekChar(0))) {\n                number += this.popChar()\n            }\n\n            return parseInt(number, 10)\n        }\n\n        RegExpParser.prototype.integerIncludingZero = function() {\n            var number = this.popChar()\n            if (decimalPattern.test(number) === false) {\n                throw Error(\"Expecting an integer\")\n            }\n\n            while (decimalPattern.test(this.peekChar(0))) {\n                number += this.popChar()\n            }\n\n            return parseInt(number, 10)\n        }\n\n        RegExpParser.prototype.patternCharacter = function() {\n            var nextChar = this.popChar()\n            switch (nextChar) {\n                // istanbul ignore next\n                case \"\\n\":\n                // istanbul ignore next\n                case \"\\r\":\n                // istanbul ignore next\n                case \"\\u2028\":\n                // istanbul ignore next\n                case \"\\u2029\":\n                // istanbul ignore next\n                case \"^\":\n                // istanbul ignore next\n                case \"$\":\n                // istanbul ignore next\n                case \"\\\\\":\n                // istanbul ignore next\n                case \".\":\n                // istanbul ignore next\n                case \"*\":\n                // istanbul ignore next\n                case \"+\":\n                // istanbul ignore next\n                case \"?\":\n                // istanbul ignore next\n                case \"(\":\n                // istanbul ignore next\n                case \")\":\n                // istanbul ignore next\n                case \"[\":\n                // istanbul ignore next\n                case \"|\":\n                    // istanbul ignore next\n                    throw Error(\"TBD\")\n                default:\n                    return { type: \"Character\", value: cc(nextChar) }\n            }\n        }\n        RegExpParser.prototype.isRegExpFlag = function() {\n            switch (this.peekChar(0)) {\n                case \"g\":\n                case \"i\":\n                case \"m\":\n                case \"u\":\n                case \"y\":\n                    return true\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isRangeDash = function() {\n            return this.peekChar() === \"-\" && this.isClassAtom(1)\n        }\n\n        RegExpParser.prototype.isDigit = function() {\n            return decimalPattern.test(this.peekChar(0))\n        }\n\n        RegExpParser.prototype.isClassAtom = function(howMuch) {\n            if (howMuch === undefined) {\n                howMuch = 0\n            }\n\n            switch (this.peekChar(howMuch)) {\n                case \"]\":\n                case \"\\n\":\n                case \"\\r\":\n                case \"\\u2028\":\n                case \"\\u2029\":\n                    return false\n                default:\n                    return true\n            }\n        }\n\n        RegExpParser.prototype.isTerm = function() {\n            return this.isAtom() || this.isAssertion()\n        }\n\n        RegExpParser.prototype.isAtom = function() {\n            if (this.isPatternCharacter()) {\n                return true\n            }\n\n            switch (this.peekChar(0)) {\n                case \".\":\n                case \"\\\\\": // atomEscape\n                case \"[\": // characterClass\n                // TODO: isAtom must be called before isAssertion - disambiguate\n                case \"(\": // group\n                    return true\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isAssertion = function() {\n            switch (this.peekChar(0)) {\n                case \"^\":\n                case \"$\":\n                    return true\n                // '\\b' or '\\B'\n                case \"\\\\\":\n                    switch (this.peekChar(1)) {\n                        case \"b\":\n                        case \"B\":\n                            return true\n                        default:\n                            return false\n                    }\n                // '(?=' or '(?!'\n                case \"(\":\n                    return (\n                        this.peekChar(1) === \"?\" &&\n                        (this.peekChar(2) === \"=\" || this.peekChar(2) === \"!\")\n                    )\n                default:\n                    return false\n            }\n        }\n\n        RegExpParser.prototype.isQuantifier = function() {\n            var prevState = this.saveState()\n            try {\n                return this.quantifier(true) !== undefined\n            } catch (e) {\n                return false\n            } finally {\n                this.restoreState(prevState)\n            }\n        }\n\n        RegExpParser.prototype.isPatternCharacter = function() {\n            switch (this.peekChar()) {\n                case \"^\":\n                case \"$\":\n                case \"\\\\\":\n                case \".\":\n                case \"*\":\n                case \"+\":\n                case \"?\":\n                case \"(\":\n                case \")\":\n                case \"[\":\n                case \"|\":\n                case \"/\":\n                case \"\\n\":\n                case \"\\r\":\n                case \"\\u2028\":\n                case \"\\u2029\":\n                    return false\n                default:\n                    return true\n            }\n        }\n\n        RegExpParser.prototype.parseHexDigits = function(howMany) {\n            var hexString = \"\"\n            for (var i = 0; i < howMany; i++) {\n                var hexChar = this.popChar()\n                if (hexDigitPattern.test(hexChar) === false) {\n                    throw Error(\"Expecting a HexDecimal digits\")\n                }\n                hexString += hexChar\n            }\n            var charCode = parseInt(hexString, 16)\n            return { type: \"Character\", value: charCode }\n        }\n\n        RegExpParser.prototype.peekChar = function(howMuch) {\n            if (howMuch === undefined) {\n                howMuch = 0\n            }\n            return this.input[this.idx + howMuch]\n        }\n\n        RegExpParser.prototype.popChar = function() {\n            var nextChar = this.peekChar(0)\n            this.consumeChar()\n            return nextChar\n        }\n\n        RegExpParser.prototype.consumeChar = function(char) {\n            if (char !== undefined && this.input[this.idx] !== char) {\n                throw Error(\n                    \"Expected: '\" +\n                        char +\n                        \"' but found: '\" +\n                        this.input[this.idx] +\n                        \"' at offset: \" +\n                        this.idx\n                )\n            }\n\n            if (this.idx >= this.input.length) {\n                throw Error(\"Unexpected end of input\")\n            }\n            this.idx++\n        }\n\n        RegExpParser.prototype.loc = function(begin) {\n            return { begin: begin, end: this.idx }\n        }\n\n        // consts and utilities\n        var hexDigitPattern = /[0-9a-fA-F]/\n        var decimalPattern = /[0-9]/\n        var decimalPatternNoZero = /[1-9]/\n\n        function cc(char) {\n            return char.charCodeAt(0)\n        }\n\n        function insertToSet(item, set) {\n            if (item.length !== undefined) {\n                item.forEach(function(subItem) {\n                    set.push(subItem)\n                })\n            } else {\n                set.push(item)\n            }\n        }\n\n        function addFlag(flagObj, flagKey) {\n            if (flagObj[flagKey] === true) {\n                throw \"duplicate flag \" + flagKey\n            }\n\n            flagObj[flagKey] = true\n        }\n\n        function ASSERT_EXISTS(obj) {\n            // istanbul ignore next\n            if (obj === undefined) {\n                throw Error(\"Internal Error - Should never get here!\")\n            }\n        }\n\n        // istanbul ignore next\n        function ASSERT_NEVER_REACH_HERE() {\n            throw Error(\"Internal Error - Should never get here!\")\n        }\n\n        var i\n        var digitsCharCodes = []\n        for (i = cc(\"0\"); i <= cc(\"9\"); i++) {\n            digitsCharCodes.push(i)\n        }\n\n        var wordCharCodes = [cc(\"_\")].concat(digitsCharCodes)\n        for (i = cc(\"a\"); i <= cc(\"z\"); i++) {\n            wordCharCodes.push(i)\n        }\n\n        for (i = cc(\"A\"); i <= cc(\"Z\"); i++) {\n            wordCharCodes.push(i)\n        }\n\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#character-classes\n        var whitespaceCodes = [\n            cc(\" \"),\n            cc(\"\\f\"),\n            cc(\"\\n\"),\n            cc(\"\\r\"),\n            cc(\"\\t\"),\n            cc(\"\\v\"),\n            cc(\"\\t\"),\n            cc(\"\\u00a0\"),\n            cc(\"\\u1680\"),\n            cc(\"\\u2000\"),\n            cc(\"\\u2001\"),\n            cc(\"\\u2002\"),\n            cc(\"\\u2003\"),\n            cc(\"\\u2004\"),\n            cc(\"\\u2005\"),\n            cc(\"\\u2006\"),\n            cc(\"\\u2007\"),\n            cc(\"\\u2008\"),\n            cc(\"\\u2009\"),\n            cc(\"\\u200a\"),\n            cc(\"\\u2028\"),\n            cc(\"\\u2029\"),\n            cc(\"\\u202f\"),\n            cc(\"\\u205f\"),\n            cc(\"\\u3000\"),\n            cc(\"\\ufeff\")\n        ]\n\n        function BaseRegExpVisitor() {}\n\n        BaseRegExpVisitor.prototype.visitChildren = function(node) {\n            for (var key in node) {\n                var child = node[key]\n                /* istanbul ignore else */\n                if (node.hasOwnProperty(key)) {\n                    if (child.type !== undefined) {\n                        this.visit(child)\n                    } else if (Array.isArray(child)) {\n                        child.forEach(function(subChild) {\n                            this.visit(subChild)\n                        }, this)\n                    }\n                }\n            }\n        }\n\n        BaseRegExpVisitor.prototype.visit = function(node) {\n            switch (node.type) {\n                case \"Pattern\":\n                    this.visitPattern(node)\n                    break\n                case \"Flags\":\n                    this.visitFlags(node)\n                    break\n                case \"Disjunction\":\n                    this.visitDisjunction(node)\n                    break\n                case \"Alternative\":\n                    this.visitAlternative(node)\n                    break\n                case \"StartAnchor\":\n                    this.visitStartAnchor(node)\n                    break\n                case \"EndAnchor\":\n                    this.visitEndAnchor(node)\n                    break\n                case \"WordBoundary\":\n                    this.visitWordBoundary(node)\n                    break\n                case \"NonWordBoundary\":\n                    this.visitNonWordBoundary(node)\n                    break\n                case \"Lookahead\":\n                    this.visitLookahead(node)\n                    break\n                case \"NegativeLookahead\":\n                    this.visitNegativeLookahead(node)\n                    break\n                case \"Character\":\n                    this.visitCharacter(node)\n                    break\n                case \"Set\":\n                    this.visitSet(node)\n                    break\n                case \"Group\":\n                    this.visitGroup(node)\n                    break\n                case \"GroupBackReference\":\n                    this.visitGroupBackReference(node)\n                    break\n                case \"Quantifier\":\n                    this.visitQuantifier(node)\n                    break\n            }\n\n            this.visitChildren(node)\n        }\n\n        BaseRegExpVisitor.prototype.visitPattern = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitFlags = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitDisjunction = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitAlternative = function(node) {}\n\n        // Assertion\n        BaseRegExpVisitor.prototype.visitStartAnchor = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitEndAnchor = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitWordBoundary = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitNonWordBoundary = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitLookahead = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitNegativeLookahead = function(node) {}\n\n        // atoms\n        BaseRegExpVisitor.prototype.visitCharacter = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitSet = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitGroup = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitGroupBackReference = function(node) {}\n\n        BaseRegExpVisitor.prototype.visitQuantifier = function(node) {}\n\n        return {\n            RegExpParser: RegExpParser,\n            BaseRegExpVisitor: BaseRegExpVisitor,\n            VERSION: \"0.5.0\"\n        }\n    }\n)\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "const { createToken: createTokenOrg, Lexer } = require(\"chevrotain\");\n\n// A little mini DSL for easier lexer definition.\nconst fragments = {};\nconst f = fragments;\n\nfunction FRAGMENT(name, def) {\n  fragments[name] = typeof def === \"string\" ? def : def.source;\n}\n\nfunction makePattern(strings, ...args) {\n  let combined = \"\";\n  for (let i = 0; i < strings.length; i++) {\n    combined += strings[i];\n    if (i < args.length) {\n      let pattern = args[i];\n      // By wrapping in a RegExp (none) capturing group\n      // We enabled the safe usage of qualifiers and assertions.\n      combined += `(?:${pattern})`;\n    }\n  }\n  return new RegExp(combined);\n}\n\nconst tokensArray = [];\nconst tokensDictionary = {};\n\nfunction createToken(options) {\n  const newTokenType = createTokenOrg(options);\n  tokensArray.push(newTokenType);\n  tokensDictionary[options.name] = newTokenType;\n  return newTokenType;\n}\n\nFRAGMENT(\n  \"NameStartChar\",\n  \"(:|[a-zA-Z]|_|\\\\u2070-\\\\u218F|\\\\u2C00-\\\\u2FEF|\\\\u3001-\\\\uD7FF|\\\\uF900-\\\\uFDCF|\\\\uFDF0-\\\\uFFFD)\"\n);\n\nFRAGMENT(\n  \"NameChar\",\n  makePattern`${f.NameStartChar}|-|\\\\.|\\\\d|\\\\u00B7||[\\\\u0300-\\\\u036F]|[\\\\u203F-\\\\u2040]`\n);\nFRAGMENT(\"Name\", makePattern`${f.NameStartChar}(${f.NameChar})*`);\n\nconst Comment = createToken({\n  name: \"Comment\",\n  pattern: /<!--(.|\\r?\\n)*?-->/,\n  // A Comment may span multiple lines.\n  line_breaks: true,\n});\n\nconst CData = createToken({\n  name: \"CData\",\n  pattern: /<!\\[CDATA\\[(.|\\r?\\n)*?]]>/,\n  line_breaks: true,\n});\n\nconst DocType = createToken({\n  name: \"DocType\",\n  pattern: /<!DOCTYPE/,\n  push_mode: \"INSIDE\",\n});\n\nconst IgnoredDTD = createToken({\n  name: \"DTD\",\n  pattern: /<!.*?>/,\n  group: Lexer.SKIPPED,\n});\n\nconst EntityRef = createToken({\n  name: \"EntityRef\",\n  pattern: makePattern`&${f.Name};`,\n});\n\nconst CharRef = createToken({\n  name: \"CharRef\",\n  pattern: /&#\\d+;|&#x[a-fA-F0-9]/,\n});\n\nconst SEA_WS = createToken({\n  name: \"SEA_WS\",\n  pattern: /( |\\t|\\n|\\r\\n)+/,\n});\n\nconst XMLDeclOpen = createToken({\n  name: \"XMLDeclOpen\",\n  pattern: /<\\?xml[ \\t\\r\\n]/,\n  push_mode: \"INSIDE\",\n});\n\nconst SLASH_OPEN = createToken({\n  name: \"SLASH_OPEN\",\n  pattern: /<\\//,\n  push_mode: \"INSIDE\",\n});\n\nconst INVALID_SLASH_OPEN = createToken({\n  name: \"INVALID_SLASH_OPEN\",\n  pattern: /<\\//,\n  categories: [SLASH_OPEN],\n});\n\nconst PROCESSING_INSTRUCTION = createToken({\n  name: \"PROCESSING_INSTRUCTION\",\n  pattern: makePattern`<\\\\?${f.Name}.*\\\\?>`,\n});\n\nconst OPEN = createToken({ name: \"OPEN\", pattern: /</, push_mode: \"INSIDE\" });\n// Meant to avoid skipping '<' token in a partial sequence of elements.\n// Example of the problem this solves:\n// <\n// <from>john</from>\n//  - The second '<' will be skipped because in the mode \"INSIDE\" '<' is not recognized.\n//  - This means the AST will include only a single element instead of two\nconst INVALID_OPEN_INSIDE = createToken({\n  name: \"INVALID_OPEN_INSIDE\",\n  pattern: /</,\n  categories: [OPEN],\n});\n\nconst TEXT = createToken({ name: \"TEXT\", pattern: /[^<&]+/ });\n\nconst CLOSE = createToken({ name: \"CLOSE\", pattern: />/, pop_mode: true });\n\nconst SPECIAL_CLOSE = createToken({\n  name: \"SPECIAL_CLOSE\",\n  pattern: /\\?>/,\n  pop_mode: true,\n});\n\nconst SLASH_CLOSE = createToken({\n  name: \"SLASH_CLOSE\",\n  pattern: /\\/>/,\n  pop_mode: true,\n});\n\nconst SLASH = createToken({ name: \"SLASH\", pattern: /\\// });\n\nconst STRING = createToken({\n  name: \"STRING\",\n  pattern: /\"[^<\"]*\"|'[^<']*'/,\n});\n\nconst EQUALS = createToken({ name: \"EQUALS\", pattern: /=/ });\n\nconst Name = createToken({ name: \"Name\", pattern: makePattern`${f.Name}` });\n\nconst S = createToken({\n  name: \"S\",\n  pattern: /[ \\t\\r\\n]/,\n  group: Lexer.SKIPPED,\n});\n\nconst xmlLexerDefinition = {\n  defaultMode: \"OUTSIDE\",\n\n  modes: {\n    OUTSIDE: [\n      Comment,\n      CData,\n      DocType,\n      IgnoredDTD,\n      EntityRef,\n      CharRef,\n      SEA_WS,\n      XMLDeclOpen,\n      SLASH_OPEN,\n      PROCESSING_INSTRUCTION,\n      OPEN,\n      TEXT,\n    ],\n    INSIDE: [\n      // Tokens from `OUTSIDE` to improve error recovery behavior\n      Comment,\n      INVALID_SLASH_OPEN,\n      INVALID_OPEN_INSIDE,\n      // \"Real\" `INSIDE` tokens\n      CLOSE,\n      SPECIAL_CLOSE,\n      SLASH_CLOSE,\n      SLASH,\n      EQUALS,\n      STRING,\n      Name,\n      S,\n    ],\n  },\n};\n\nconst xmlLexer = new Lexer(xmlLexerDefinition, {\n  // Reducing the amount of position tracking can provide a small performance boost (<10%)\n  // Likely best to keep the full info for better error position reporting and\n  // to expose \"fuller\" ITokens from the Lexer.\n  positionTracking: \"full\",\n  ensureOptimizations: false,\n\n  // TODO: inspect definitions for XML line terminators\n  lineTerminatorCharacters: [\"\\n\"],\n  lineTerminatorsPattern: /\\n|\\r\\n/g,\n});\n\nmodule.exports = {\n  xmlLexer,\n  tokensDictionary,\n};\n", "const { CstParser, tokenMatcher } = require(\"chevrotain\");\nconst { tokensDictionary: t } = require(\"./lexer\");\n\nclass Parser extends CstParser {\n  constructor() {\n    super(t, {\n      maxLookahead: 1,\n      recoveryEnabled: true,\n      nodeLocationTracking: \"full\",\n    });\n\n    this.deletionRecoveryEnabled = true;\n\n    const $ = this;\n\n    $.RULE(\"document\", () => {\n      $.OPTION(() => {\n        $.SUBRULE($.prolog);\n      });\n\n      $.MANY(() => {\n        $.SUBRULE($.misc);\n      });\n\n      $.OPTION2(() => {\n        $.SUBRULE($.docTypeDecl);\n      });\n\n      $.MANY2(() => {\n        $.SUBRULE2($.misc);\n      });\n\n      $.SUBRULE($.element);\n\n      $.MANY3(() => {\n        $.SUBRULE3($.misc);\n      });\n    });\n\n    $.RULE(\"prolog\", () => {\n      $.CONSUME(t.XMLDeclOpen);\n      $.MANY(() => {\n        $.SUBRULE($.attribute);\n      });\n      $.CONSUME(t.SPECIAL_CLOSE);\n    });\n\n    // https://www.w3.org/TR/xml/#NT-doctypedecl\n    $.RULE(\"docTypeDecl\", () => {\n      $.CONSUME(t.DocType);\n      $.CONSUME(t.Name);\n\n      $.OPTION(() => {\n        $.SUBRULE($.externalID);\n      });\n\n      // The internal subSet part is intentionally not implemented because we do not at this\n      // time wish to implement a full DTD Parser as part of this project...\n      // https://www.w3.org/TR/xml/#NT-intSubset\n\n      $.CONSUME(t.CLOSE);\n    });\n\n    $.RULE(\"externalID\", () => {\n      // Using gates to assert the value of the \"Name\" Identifiers.\n      // We could use Categories to model un-reserved keywords, however I am not sure\n      // The added complexity is needed at this time...\n      $.OR([\n        {\n          GATE: () => $.LA(1).image === \"SYSTEM\",\n          ALT: () => {\n            $.CONSUME2(t.Name, { LABEL: \"System\" });\n            $.CONSUME(t.STRING, { LABEL: \"SystemLiteral\" });\n          },\n        },\n        {\n          GATE: () => $.LA(1).image === \"PUBLIC\",\n          ALT: () => {\n            $.CONSUME3(t.Name, { LABEL: \"Public\" });\n            $.CONSUME2(t.STRING, { LABEL: \"PubIDLiteral\" });\n            $.CONSUME3(t.STRING, { LABEL: \"SystemLiteral\" });\n          },\n        },\n      ]);\n    });\n\n    $.RULE(\"content\", () => {\n      $.MANY(() => {\n        $.OR([\n          { ALT: () => $.SUBRULE($.element) },\n          { ALT: () => $.SUBRULE($.chardata) },\n          { ALT: () => $.SUBRULE($.reference) },\n          { ALT: () => $.CONSUME(t.CData) },\n          { ALT: () => $.CONSUME(t.PROCESSING_INSTRUCTION) },\n          { ALT: () => $.CONSUME(t.Comment) },\n        ]);\n      });\n    });\n\n    $.RULE(\"element\", () => {\n      $.CONSUME(t.OPEN);\n      try {\n        this.deletionRecoveryEnabled = false;\n        // disabling single token deletion here\n        // because `<\n        //            </note>`\n        // will be parsed as: `<note>`\n        // and the next element will be lost\n        $.CONSUME(t.Name);\n      } finally {\n        this.deletionRecoveryEnabled = true;\n      }\n      $.MANY(() => {\n        $.SUBRULE($.attribute);\n      });\n\n      $.OR([\n        {\n          ALT: () => {\n            $.CONSUME(t.CLOSE, { LABEL: \"START_CLOSE\" });\n            $.SUBRULE($.content);\n            $.CONSUME(t.SLASH_OPEN);\n            $.CONSUME2(t.Name, { LABEL: \"END_NAME\" });\n            $.CONSUME2(t.CLOSE, { LABEL: \"END\" });\n          },\n        },\n        {\n          ALT: () => {\n            $.CONSUME(t.SLASH_CLOSE);\n          },\n        },\n      ]);\n    });\n\n    $.RULE(\"reference\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.EntityRef) },\n        { ALT: () => $.CONSUME(t.CharRef) },\n      ]);\n    });\n\n    $.RULE(\"attribute\", () => {\n      $.CONSUME(t.Name);\n      try {\n        this.deletionRecoveryEnabled = false;\n        // disabling single token deletion here\n        // because `attrib1 attrib2=\"666`\n        // will be parsed as: `attrib1=\"666`\n        $.CONSUME(t.EQUALS);\n        // disabling single token deletion here\n        // to avoid new elementName being\n        $.CONSUME(t.STRING);\n      } finally {\n        this.deletionRecoveryEnabled = true;\n      }\n    });\n\n    $.RULE(\"chardata\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.TEXT) },\n        { ALT: () => $.CONSUME(t.SEA_WS) },\n      ]);\n    });\n\n    $.RULE(\"misc\", () => {\n      $.OR([\n        { ALT: () => $.CONSUME(t.Comment) },\n        { ALT: () => $.CONSUME(t.PROCESSING_INSTRUCTION) },\n        { ALT: () => $.CONSUME(t.SEA_WS) },\n      ]);\n    });\n\n    this.performSelfAnalysis();\n  }\n\n  canRecoverWithSingleTokenDeletion(expectedTokType) {\n    if (this.deletionRecoveryEnabled === false) {\n      return false;\n    }\n    return super.canRecoverWithSingleTokenDeletion(expectedTokType);\n  }\n\n  // TODO: provide this fix upstream to chevrotain\n  // https://github.com/SAP/chevrotain/issues/1055\n  /* istanbul ignore next - should be tested as part of Chevrotain */\n  findReSyncTokenType() {\n    const allPossibleReSyncTokTypes = this.flattenFollowSet();\n    // this loop will always terminate as EOF is always in the follow stack and also always (virtually) in the input\n    let nextToken = this.LA(1);\n    let k = 2;\n    /* eslint-disable-next-line no-constant-condition -- see above comment */\n    while (true) {\n      const foundMatch = allPossibleReSyncTokTypes.find((resyncTokType) => {\n        const canMatch = tokenMatcher(nextToken, resyncTokType);\n        return canMatch;\n      });\n      if (foundMatch !== undefined) {\n        return foundMatch;\n      }\n      nextToken = this.LA(k);\n      k++;\n    }\n  }\n}\n\n// Re-use the same parser instance\nconst xmlParser = new Parser();\n\nmodule.exports = {\n  xmlParser,\n};\n", "const { xmlLexer } = require(\"./lexer\");\nconst { xmlParser } = require(\"./parser\");\n\nmodule.exports = {\n  parse: function parse(text) {\n    const lexResult = xmlLexer.tokenize(text);\n    // setting a new input will RESET the parser instance's state.\n    xmlParser.input = lexResult.tokens;\n    // any top level rule may be used as an entry point\n    const cst = xmlParser.document();\n\n    return {\n      cst: cst,\n      tokenVector: lexResult.tokens,\n      lexErrors: lexResult.errors,\n      parseErrors: xmlParser.errors,\n    };\n  },\n\n  BaseXmlCstVisitor: xmlParser.getBaseCstVisitorConstructor(),\n};\n", "/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('d\u00E9j\u00E0 vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n", "const { findIndex } = require(\"lodash\");\n\nfunction findNextTextualToken(tokenVector, prevTokenEndOffset) {\n  // The TokenVector is sorted, so we could use a BinarySearch to optimize performance\n  const prevTokenIdx = findIndex(\n    tokenVector,\n    (tok) => tok.endOffset === prevTokenEndOffset\n  );\n  let nextTokenIdx = prevTokenIdx;\n  let found = false;\n  while (found === false) {\n    nextTokenIdx++;\n    const nextPossibleToken = tokenVector[nextTokenIdx];\n    // No Next textualToken\n    if (nextPossibleToken === undefined) {\n      return null;\n    }\n    /* istanbul ignore next\n     * I don't think this scenario can be created, however defensive coding never killed anyone...\n     * Basically SEA_WS can only only appear in \"OUTSIDE\" mode, and we need a CLOSE/SLASH_CLOSE to get back to outside\n     * mode, however if we had those  this function would never have been called...\n     */\n    if (nextPossibleToken.tokenType.name === \"SEA_WS\") {\n      // skip pure WS tokens as they do not contain any actual text\n    } else {\n      return nextPossibleToken;\n    }\n  }\n}\n\nmodule.exports = {\n  findNextTextualToken: findNextTextualToken,\n};\n", "// The xml parser takes care of validating the attribute name.\n// If the user started the attribute name with \"xmlns:\" we can assume that\n// they meant for it to be an xml namespace attribute.\n// xmlns attributes explicitly can't contain \":\" after the \"xmlns:\" part.\nconst namespaceRegex = /^xmlns(?<prefixWithColon>:(?<prefix>[^:]*))?$/;\n\n/**\n * See comment in api.d.ts.\n *\n * @param {string} key\n * @param {boolean} includeEmptyPrefix\n * @returns {boolean}\n */\nfunction isXMLNamespaceKey({ key, includeEmptyPrefix }) {\n  if (typeof key !== \"string\") {\n    return false;\n  }\n  const matchArr = key.match(namespaceRegex);\n\n  // No match - this is not an xmlns key\n  if (matchArr === null) {\n    return false;\n  }\n\n  return !!(\n    includeEmptyPrefix === true ||\n    // \"xmlns\" case\n    !matchArr.groups.prefixWithColon ||\n    // \"xmlns:<prefix>\" case\n    matchArr.groups.prefix\n  );\n}\n\n/**\n * See comment in api.d.ts.\n *\n * @param {string} key\n * @returns {string|undefined}\n */\nfunction getXMLNamespaceKeyPrefix(key) {\n  if (typeof key !== \"string\") {\n    return undefined;\n  }\n  const matchArr = key.match(namespaceRegex);\n  if (matchArr === null) {\n    return undefined;\n  }\n  return (matchArr.groups && matchArr.groups.prefix) || \"\";\n}\n\nmodule.exports = {\n  isXMLNamespaceKey: isXMLNamespaceKey,\n  getXMLNamespaceKeyPrefix: getXMLNamespaceKeyPrefix,\n};\n", "const { findNextTextualToken } = require(\"./find-next-textual-token\");\nconst {\n  isXMLNamespaceKey,\n  getXMLNamespaceKeyPrefix,\n} = require(\"./xml-ns-key.js\");\n\nmodule.exports = {\n  findNextTextualToken: findNextTextualToken,\n  isXMLNamespaceKey: isXMLNamespaceKey,\n  getXMLNamespaceKeyPrefix: getXMLNamespaceKeyPrefix,\n};\n", "const { reduce, has, isArray } = require(\"lodash\");\n\nfunction getAstChildrenReflective(astParent) {\n  const astChildren = reduce(\n    astParent,\n    (result, prop, name) => {\n      if (name === \"parent\") {\n        // parent property is never a child...\n      } else if (has(prop, \"type\")) {\n        result.push(prop);\n      } else if (isArray(prop) && prop.length > 0 && has(prop[0], \"type\")) {\n        result = result.concat(prop);\n      }\n\n      return result;\n    },\n    []\n  );\n\n  return astChildren;\n}\n\nmodule.exports = {\n  getAstChildrenReflective: getAstChildrenReflective,\n};\n", "module.exports = {\n  DEFAULT_NS: \"::DEFAULT\",\n};\n", "const { BaseXmlCstVisitor } = require(\"@xml-tools/parser\");\nconst {\n  last,\n  forEach,\n  reduce,\n  map,\n  pick,\n  sortBy,\n  isEmpty,\n  isArray,\n  assign,\n} = require(\"lodash\");\nconst {\n  findNextTextualToken,\n  isXMLNamespaceKey,\n  getXMLNamespaceKeyPrefix,\n} = require(\"@xml-tools/common\");\n\nconst { getAstChildrenReflective } = require(\"./utils\");\nconst { DEFAULT_NS } = require(\"./constants\");\n\n/**\n * @param {DocumentCstNode} docCst\n * @param {IToken[]} tokenVector\n * @returns {XMLDocument}\n */\nfunction buildAst(docCst, tokenVector) {\n  AstBuilder.setState({ tokenVector });\n  const xmlDocAst = AstBuilder.visit(docCst);\n\n  if (xmlDocAst.rootElement !== invalidSyntax) {\n    updateNamespaces(xmlDocAst.rootElement);\n  }\n  return xmlDocAst;\n}\n\n/* eslint-disable no-unused-vars -- consistent signatures in visitor methods even if they are empty placeholders */\nclass CstToAstVisitor extends BaseXmlCstVisitor {\n  constructor() {\n    super();\n  }\n\n  setState({ tokenVector }) {\n    this.tokenVector = tokenVector;\n  }\n\n  visit(cstNode, params = {}) {\n    return super.visit(cstNode, { location: cstNode.location, ...params });\n  }\n\n  /**\n   * @param ctx {DocumentCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   *\n   * @returns {XMLDocument}\n   */\n  document(ctx, { location }) {\n    const astNode = {\n      type: \"XMLDocument\",\n      rootElement: invalidSyntax,\n      position: location,\n    };\n\n    if (ctx.prolog !== undefined) {\n      astNode.prolog = this.visit(ctx.prolog[0]);\n    }\n\n    if (\n      ctx.element !== undefined &&\n      isEmpty(ctx.element[0].children) === false\n    ) {\n      astNode.rootElement = this.visit(ctx.element[0]);\n    }\n\n    setChildrenParent(astNode);\n\n    return astNode;\n  }\n\n  /**\n   * @param ctx {PrologCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   */\n  prolog(ctx, { location }) {\n    const astNode = {\n      type: \"XMLProlog\",\n      attributes: [],\n      position: location,\n    };\n\n    if (ctx.attribute !== undefined) {\n      astNode.attributes = map(ctx.attribute, (_) =>\n        this.visit(_, { isPrologParent: true })\n      );\n    }\n\n    setChildrenParent(astNode);\n\n    return astNode;\n  }\n\n  /**\n   * @param {docTypeDeclCtx} ctx\n   */\n  /* istanbul ignore next - place holder*/\n  docTypeDecl(ctx, astNode) {}\n\n  /**\n   * @param {ExternalIDCtx} ctx\n   */\n  /* istanbul ignore next - place holder*/\n  externalID(ctx, astNode) {}\n\n  /**\n   * @param ctx {ContentCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   *\n   * @return {{elements, textContents}}\n   */\n  content(ctx, { location }) {\n    let elements = [];\n    let textContents = [];\n\n    if (ctx.element !== undefined) {\n      elements = map(ctx.element, this.visit.bind(this));\n    }\n\n    if (ctx.chardata !== undefined) {\n      textContents = map(ctx.chardata, this.visit.bind(this));\n    }\n\n    return { elements, textContents };\n  }\n\n  /**\n   * @param ctx {ElementCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   */\n  element(ctx, { location }) {\n    const astNode = {\n      type: \"XMLElement\",\n      // Avoid Accidental Keys in this map\n      namespaces: Object.create(null),\n      name: invalidSyntax,\n      attributes: [],\n      subElements: [],\n      textContents: [],\n      position: location,\n      syntax: {},\n    };\n\n    if (ctx.attribute !== undefined) {\n      astNode.attributes = map(ctx.attribute, this.visit.bind(this));\n    }\n\n    if (ctx.content !== undefined) {\n      const { elements, textContents } = this.visit(ctx.content[0]);\n      astNode.subElements = elements;\n      astNode.textContents = textContents;\n    }\n\n    handleElementOpenCloseNameRanges(astNode, ctx);\n    handleElementOpenCloseBodyRanges(astNode, ctx);\n    handleElementAttributeRanges(astNode, ctx, this.tokenVector);\n\n    setChildrenParent(astNode);\n\n    return astNode;\n  }\n\n  /**\n   * @param ctx {ReferenceCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   */\n  /* istanbul ignore next - place holder*/\n  reference(ctx, { location }) {\n    // Irrelevant for the AST at this time\n  }\n\n  /**\n   * @param ctx {AttributeCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   * @param opts.isPrologParent {boolean}\n   */\n  attribute(ctx, { location, isPrologParent }) {\n    const astNode = {\n      type: isPrologParent ? \"XMLPrologAttribute\" : \"XMLAttribute\",\n      position: location,\n      key: invalidSyntax,\n      value: invalidSyntax,\n      syntax: {},\n    };\n\n    /* istanbul ignore else - Defensive Coding, not actually possible else branch */\n    if (ctx.Name !== undefined && ctx.Name[0].isInsertedInRecovery !== true) {\n      const keyToken = ctx.Name[0];\n      astNode.key = keyToken.image;\n      astNode.syntax.key = toXMLToken(keyToken);\n    }\n\n    if (\n      ctx.STRING !== undefined &&\n      ctx.STRING[0].isInsertedInRecovery !== true\n    ) {\n      const valueToken = ctx.STRING[0];\n      astNode.value = stripQuotes(valueToken.image);\n      astNode.syntax.value = toXMLToken(valueToken);\n    }\n\n    setChildrenParent(astNode);\n\n    return astNode;\n  }\n\n  /**\n   * @param ctx {ChardataCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   */\n  chardata(ctx, { location }) {\n    const astNode = {\n      type: \"XMLTextContent\",\n      position: location,\n      text: invalidSyntax,\n    };\n\n    let allTokens = [];\n    if (ctx.SEA_WS !== undefined) {\n      allTokens = allTokens.concat(ctx.SEA_WS);\n    }\n    if (ctx.TEXT !== undefined) {\n      allTokens = allTokens.concat(ctx.TEXT);\n    }\n    const sortedTokens = sortBy(allTokens, [\"startOffset\"]);\n    const fullText = map(sortedTokens, \"image\").join(\"\");\n    astNode.text = fullText;\n\n    return astNode;\n  }\n\n  /**\n   * @param ctx {MiscCtx}\n   * @param opts {Object}\n   * @param opts.location {SourcePosition}\n   */\n  /* istanbul ignore next - place holder*/\n  misc(ctx, { location }) {\n    // Irrelevant for the AST at this time\n  }\n}\n/* eslint-enable no-unused-vars -- see matching disable comment */\n\nconst AstBuilder = new CstToAstVisitor();\n\nfunction setChildrenParent(astParent) {\n  const astChildren = getAstChildrenReflective(astParent);\n  forEach(astChildren, (child) => (child.parent = astParent));\n}\n\n/**\n * @param {XMLElement} element\n * @param {Record<Prefix, Uri>} prevNamespaces\n */\nfunction updateNamespaces(element, prevNamespaces = []) {\n  const currElemNamespaces = reduce(\n    element.attributes,\n    (result, attrib) => {\n      /* istanbul ignore else - Defensive Coding, not actually possible branch */\n      if (attrib.key !== invalidSyntax) {\n        if (\n          isXMLNamespaceKey({ key: attrib.key, includeEmptyPrefix: false }) ===\n          true\n        ) {\n          const prefix = getXMLNamespaceKeyPrefix(attrib.key);\n          // TODO: Support un-defining namespaces (including the default one)\n          if (attrib.value) {\n            const uri = attrib.value;\n            if (prefix !== \"\") {\n              result[prefix] = uri;\n            } else {\n              // default namespace\n              result[DEFAULT_NS] = uri;\n            }\n          }\n        }\n      }\n\n      return result;\n    },\n    {}\n  );\n\n  const emptyMap = Object.create(null);\n  // \"newer\" (closer scope)  namespaces definitions will overwrite \"older\" ones.\n  element.namespaces = assign(emptyMap, prevNamespaces, currElemNamespaces);\n\n  forEach(element.subElements, (subElem) =>\n    updateNamespaces(subElem, element.namespaces)\n  );\n}\n\n/**\n * @param {chevrotain.IToken} token\n */\nfunction toXMLToken(token) {\n  return pick(token, [\n    \"image\",\n    \"startOffset\",\n    \"endOffset\",\n    \"startLine\",\n    \"endLine\",\n    \"startColumn\",\n    \"endColumn\",\n  ]);\n}\n\nfunction startOfXMLToken(token) {\n  return pick(token, [\"startOffset\", \"startLine\", \"startColumn\"]);\n}\n\nfunction endOfXMLToken(token) {\n  return pick(token, [\"endOffset\", \"endLine\", \"endColumn\"]);\n}\n\nfunction exists(tokArr) {\n  return (\n    isArray(tokArr) &&\n    tokArr.length === 1 &&\n    tokArr[0].isInsertedInRecovery !== true\n  );\n}\n\nfunction stripQuotes(quotedText) {\n  return quotedText.substring(1, quotedText.length - 1);\n}\n\n/**\n * @param {string} text\n */\nfunction nsToParts(text) {\n  const matchResult = /^([^:]+):([^:]+)$/.exec(text);\n  if (matchResult === null) {\n    return null;\n  }\n  const ns = matchResult[1];\n  const name = matchResult[2];\n  return { ns, name };\n}\n\n/**\n * @type {InvalidSyntax}\n */\nconst invalidSyntax = null;\n\n/**\n * @param {XMLElement} astNode\n * @param {ElementCtx} ctx\n */\nfunction handleElementOpenCloseNameRanges(astNode, ctx) {\n  if (ctx.Name !== undefined && ctx.Name[0].isInsertedInRecovery !== true) {\n    const openNameToken = ctx.Name[0];\n    astNode.syntax.openName = toXMLToken(openNameToken);\n    const nsParts = nsToParts(openNameToken.image);\n    if (nsParts !== null) {\n      astNode.ns = nsParts.ns;\n      astNode.name = nsParts.name;\n    } else {\n      astNode.name = openNameToken.image;\n    }\n  }\n\n  if (\n    ctx.END_NAME !== undefined &&\n    ctx.END_NAME[0].isInsertedInRecovery !== true\n  ) {\n    astNode.syntax.closeName = toXMLToken(ctx.END_NAME[0]);\n  }\n}\n\n/**\n * @param {XMLElement} astNode\n * @param {ElementCtx} ctx\n */\nfunction handleElementOpenCloseBodyRanges(astNode, ctx) {\n  /* istanbul ignore else - Defensive Coding */\n  if (exists(ctx.OPEN)) {\n    let openBodyCloseTok = undefined;\n    /* istanbul ignore else - Defensive Coding */\n    if (exists(ctx.START_CLOSE)) {\n      openBodyCloseTok = ctx.START_CLOSE[0];\n      astNode.syntax.isSelfClosing = false;\n    } else if (exists(ctx.SLASH_CLOSE)) {\n      openBodyCloseTok = ctx.SLASH_CLOSE[0];\n      astNode.syntax.isSelfClosing = true;\n    }\n\n    if (openBodyCloseTok !== undefined) {\n      astNode.syntax.openBody = {\n        ...startOfXMLToken(ctx.OPEN[0]),\n        ...endOfXMLToken(openBodyCloseTok),\n      };\n    }\n\n    if (exists(ctx.SLASH_OPEN) && exists(ctx.END)) {\n      astNode.syntax.closeBody = {\n        ...startOfXMLToken(ctx.SLASH_OPEN[0]),\n        ...endOfXMLToken(ctx.END[0]),\n      };\n    }\n  }\n}\n\n/**\n * @param {XMLElement} astNode\n * @param {ElementCtx} ctx\n * @param {IToken[]} tokenVector\n */\nfunction handleElementAttributeRanges(astNode, ctx, tokenVector) {\n  if (exists(ctx.Name)) {\n    const startOffset = ctx.Name[0].endOffset + 2;\n    // Valid `attributesRange` exists\n    if (exists(ctx.START_CLOSE) || exists(ctx.SLASH_CLOSE)) {\n      const endOffset =\n        (exists(ctx.START_CLOSE)\n          ? ctx.START_CLOSE[0].startOffset\n          : ctx.SLASH_CLOSE[0].startOffset) - 1;\n      astNode.syntax.attributesRange = { startOffset, endOffset };\n    }\n    // Have to scan-ahead and guess where the attributes range ends\n    else {\n      const hasAttributes = isArray(ctx.attribute);\n      const lastKnownAttribRangeTokenEnd = hasAttributes\n        ? last(ctx.attribute).location.endOffset\n        : ctx.Name[0].endOffset;\n      const nextTextualToken = findNextTextualToken(\n        tokenVector,\n        lastKnownAttribRangeTokenEnd\n      );\n      if (nextTextualToken !== null) {\n        astNode.syntax.guessedAttributesRange = {\n          startOffset,\n          endOffset: nextTextualToken.endOffset - 1,\n        };\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  buildAst: buildAst,\n};\n", "const { forEach, isFunction } = require(\"lodash\");\nconst { getAstChildrenReflective } = require(\"./utils\");\n\n/**\n * @param {XMLAstNode} node\n * @param {XMLAstVisitor} visitor\n *\n * @returns {void}\n */\nfunction accept(node, visitor) {\n  switch (node.type) {\n    case \"XMLDocument\": {\n      if (isFunction(visitor.visitXMLDocument)) {\n        visitor.visitXMLDocument(node);\n      }\n      break;\n    }\n    case \"XMLProlog\": {\n      if (isFunction(visitor.visitXMLProlog)) {\n        visitor.visitXMLProlog(node);\n      }\n      break;\n    }\n    case \"XMLPrologAttribute\": {\n      if (isFunction(visitor.visitXMLPrologAttribute)) {\n        visitor.visitXMLPrologAttribute(node);\n      }\n      break;\n    }\n    case \"XMLElement\": {\n      if (isFunction(visitor.visitXMLElement)) {\n        visitor.visitXMLElement(node);\n      }\n      break;\n    }\n    case \"XMLAttribute\": {\n      if (isFunction(visitor.visitXMLAttribute)) {\n        visitor.visitXMLAttribute(node);\n      }\n      break;\n    }\n    case \"XMLTextContent\": {\n      if (isFunction(visitor.visitXMLTextContent)) {\n        visitor.visitXMLTextContent(node);\n      }\n      break;\n    }\n    /* istanbul ignore next  defensive programming */\n    default:\n      throw Error(\"None Exhaustive Match\");\n  }\n\n  const astChildren = getAstChildrenReflective(node);\n  forEach(astChildren, (childNode) => {\n    accept(childNode, visitor);\n  });\n}\n\nmodule.exports = {\n  accept: accept,\n};\n", "const { buildAst } = require(\"./build-ast\");\nconst { accept } = require(\"./visit-ast\");\nconst { DEFAULT_NS } = require(\"./constants\");\n\nmodule.exports = {\n  buildAst: buildAst,\n  accept: accept,\n  DEFAULT_NS: DEFAULT_NS,\n};\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n  object = parent(object, path);\n\n  var key = toKey(last(path));\n  return !(object != null && hasOwnProperty.call(object, key)) || delete object[key];\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Removes the property at `path` of `object`.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n * _.unset(object, 'a[0].b.c');\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n *\n * _.unset(object, ['a', '0', 'b', 'c']);\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n */\nfunction unset(object, path) {\n  return object == null ? true : baseUnset(object, path);\n}\n\nmodule.exports = unset;\n", "import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport ws from \"./schemes/ws\";\nSCHEMES[ws.scheme] = ws;\n\nimport wss from \"./schemes/wss\";\nSCHEMES[wss.scheme] = wss;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport ws from \"./ws\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"wss\",\n\tdomainHost : ws.domainHost,\n\tparse : ws.parse,\n\tserialize : ws.serialize\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nexport interface WSComponents extends URIComponents {\n\tresourceName?: string;\n\tsecure?: boolean;\n}\n\nfunction isSecure(wsComponents:WSComponents):boolean {\n\treturn typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n\n//RFC 6455\nconst handler:URISchemeHandler = {\n\tscheme : \"ws\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):WSComponents {\n\t\tconst wsComponents = components as WSComponents;\n\n\t\t//indicate if the secure flag is set\n\t\twsComponents.secure = isSecure(wsComponents);\n\n\t\t//construct resouce name\n\t\twsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n\t\twsComponents.path = undefined;\n\t\twsComponents.query = undefined;\n\n\t\treturn wsComponents;\n\t},\n\n\tserialize : function (wsComponents:WSComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n\t\t\twsComponents.port = undefined;\n\t\t}\n\n\t\t//ensure scheme matches secure flag\n\t\tif (typeof wsComponents.secure === 'boolean') {\n\t\t\twsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws');\n\t\t\twsComponents.secure = undefined;\n\t\t}\n\n\t\t//reconstruct path from resource name\n\t\tif (wsComponents.resourceName) {\n\t\t\tconst [path, query] = wsComponents.resourceName.split('?');\n\t\t\twsComponents.path = (path && path !== '/' ? path : undefined);\n\t\t\twsComponents.query = query;\n\t\t\twsComponents.resourceName = undefined;\n\t\t}\n\n\t\t//forbid fragment component\n\t\twsComponents.fragment = undefined;\n\n\t\treturn wsComponents;\n\t}\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\tconst secure = String(components.scheme).toLowerCase() === \"https\";\n\n\t\t//normalize the default port\n\t\tif (components.port === (secure ? 443 : 80) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;", "/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\" || typeof components.port === \"string\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(String(components.port));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n", "'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n", "import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n", "import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n", "export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n", "'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n", "'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n", "'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n", "'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n", "'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n", "'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n", "'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [\"\"];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; var ' + ($coerced) + ' = undefined; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ') && ' + ($data) + '.length == 1) { ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + '; if (' + (it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers)) + ') ' + ($coerced) + ' = ' + ($data) + '; } ';\n        }\n        out += ' if (' + ($coerced) + ' !== undefined) ; ';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($type == 'string') {\n              out += ' else if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' else if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' else if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' else if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' else if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' else {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } if (' + ($coerced) + ' !== undefined) {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n", "'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n", "'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n", "'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n", "'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? (typeof $thenSch == 'object' && Object.keys($thenSch).length > 0) || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? (typeof $elseSch == 'object' && Object.keys($elseSch).length > 0) || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? (typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0) || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? (typeof $propertySch == 'object' && Object.keys($propertySch).length > 0) || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n", "'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n", "'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n", "'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n", "'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n", "'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n", "'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n", "export * from './api';\nexport * from './extensionLogger';\nexport * from './project';\nexport * from './specification/schemaAccess';\n\nexport * from '@sap/ux-specification-types';\n", "/**\n * This file implements the interface 'Specification' from ./types and serves as API to specification\n */\nimport { FioriElementsVersion, SchemaType, TemplateType, CustomExtensionType } from '@sap/ux-specification-types';\nimport type {\n    CustomExtensionData,\n    ExportResults,\n    File,\n    GenerateSchemaParameters,\n    ExportConfigParameters,\n    ImportConfigParameters,\n    ImportProjectParameters,\n    ApiVersion,\n    UI5Version,\n    GenerateCustomExtensionParams\n} from '@sap/ux-specification-types';\nimport {\n    generateListReportInterfaceV2,\n    generateObjectPageInterfaceV2,\n    generateOVPInterfaceV2,\n    generateAnalyticalListPageInterfaceV2\n} from './sync/v2/generate';\nimport {\n    generateFreestyleInterfaceV4,\n    generateListReportInterfaceV4,\n    generateObjectPageInterfaceV4,\n    generateFPMCustomPageInterfaceV4\n} from './sync/v4/generate';\nimport { exportPageV2 } from './sync/v2/export/exportPage';\nimport {\n    createListReportConfig as createListReportConfigV2,\n    createObjectPageConfigV2,\n    createOverviewPageConfig as createOverviewPageConfigV2,\n    createAnalyticalListPageConfig as createAnalyticalListPageConfigV2\n} from './sync/v2/import';\nimport { exportPageV4 } from './sync/v4/export/export';\nimport {\n    createListReportConfig as createListReportConfigV4,\n    createObjectPageConfigV4,\n    createCustomPageConfig\n} from './sync/v4/import';\nimport { importProjectSchemaAndConfig, importProjectSchema as importProjectSchemaOnly } from './sync/common';\nimport type { Editor } from 'mem-fs-editor';\nimport {\n    enableFPM,\n    generateControllerExtension,\n    generateCustomAction,\n    generateCustomColumn,\n    generateCustomPage,\n    generateCustomSection,\n    generateCustomView,\n    generateObjectPage\n} from '@sap-ux/fe-fpm-writer';\n\nconst FPMWriterMap = new Map<CustomExtensionType, (basePath: string, data: CustomExtensionData, fs?: Editor) => Editor>(\n    [\n        [CustomExtensionType.CustomPage, generateCustomPage],\n        [CustomExtensionType.CustomColumn, generateCustomColumn],\n        [CustomExtensionType.CustomSection, generateCustomSection],\n        [CustomExtensionType.ObjectPage, generateObjectPage],\n        [CustomExtensionType.CustomAction, generateCustomAction],\n        [CustomExtensionType.CustomView, generateCustomView],\n        [CustomExtensionType.ControllerExtension, generateControllerExtension]\n    ]\n);\n\n/**\n * Return the generic (project independent) JSON schema\n * @param specification - reference to spec\n * @param version - Fiori elements version (v2 or v4)\n * @param schemaType - type of the schema, e.g. ListReport, ObjectPage\n */\nexport { getGenericSchema } from './specification/schemaAccess';\n\n/**\n * Generate JSON schema for a given Fiori elements version and page type\n * @param generateParameters: the input structure that contains the version, schema type, and parameters\n */\nexport function generateSchema(generateParameters: GenerateSchemaParameters): object {\n    let schema: object;\n    if (generateParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 schema generation\n         */\n        const v2Params = generateParameters[FioriElementsVersion.v2];\n        if (v2Params[SchemaType.ListReport]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.ListReport];\n            schema = generateListReportInterfaceV2(genericSchema, entitySet, annotations, manifest, fragments, logger);\n        } else if (v2Params[SchemaType.ObjectPage]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.ObjectPage];\n            schema = generateObjectPageInterfaceV2(genericSchema, entitySet, annotations, manifest, fragments, logger);\n        } else if (v2Params[SchemaType.OverviewPage]) {\n            const { genericSchema, manifest } = v2Params[SchemaType.OverviewPage];\n            schema = generateOVPInterfaceV2(genericSchema, manifest);\n        } else if (v2Params[SchemaType.AnalyticalListPage]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.AnalyticalListPage];\n            schema = generateAnalyticalListPageInterfaceV2(\n                genericSchema,\n                entitySet,\n                annotations,\n                manifest,\n                fragments,\n                logger\n            );\n        }\n    } else if (generateParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 schema generation\n         */\n        const v4Params = generateParameters[FioriElementsVersion.v4];\n        if (v4Params[SchemaType.ListReport]) {\n            const { genericSchema, entitySet, annotations, logger, manifest, contextPath } =\n                v4Params[SchemaType.ListReport];\n            schema = generateListReportInterfaceV4(\n                TemplateType.ListReportObjectPageV4,\n                genericSchema,\n                entitySet,\n                annotations,\n                logger,\n                manifest,\n                contextPath\n            );\n        } else if (v4Params[SchemaType.ObjectPage]) {\n            const { genericSchema, entitySet, annotations, manifest, logger, fragments, contextPath } =\n                v4Params[SchemaType.ObjectPage];\n            schema = generateObjectPageInterfaceV4(\n                genericSchema,\n                entitySet,\n                annotations,\n                manifest,\n                logger,\n                fragments,\n                contextPath\n            );\n        } else if (v4Params[SchemaType.AnalyticalListPage]) {\n            const { genericSchema, entitySet, annotations, logger, manifest, contextPath } =\n                v4Params[SchemaType.AnalyticalListPage];\n            //As of now, the LR logic can also be applied to ALP\n            schema = generateListReportInterfaceV4(\n                TemplateType.AnalyticalListPageV4,\n                genericSchema,\n                entitySet,\n                annotations,\n                logger,\n                manifest,\n                contextPath\n            );\n        } else if (v4Params[SchemaType.FreestylePage]) {\n            const { genericSchema, entitySet, annotations, logger, manifest } = v4Params[SchemaType.FreestylePage];\n            schema = generateFreestyleInterfaceV4(\n                TemplateType.FreestylePageV4,\n                genericSchema,\n                annotations,\n                manifest,\n                entitySet,\n                logger\n            );\n        } else if (v4Params[SchemaType.FPMCustomPage]) {\n            const { genericSchema, routingId, manifest, views, logger, annotations } =\n                v4Params[SchemaType.FPMCustomPage];\n            schema = generateFPMCustomPageInterfaceV4(\n                genericSchema,\n                routingId,\n                manifest,\n                views,\n                annotations,\n                generateParameters.featureToggles,\n                logger\n            );\n        }\n    }\n    return schema;\n}\n\n/**\n * Exports a config (src/*.json, src/pages/*.json) to flex changes and manifest settings\n * @param exportParameters - parameters to control the export\n */\nexport function exportConfig(exportParameters: ExportConfigParameters): ExportResults {\n    let exportResults: ExportResults;\n    const ui5Config: UI5Version = { ui5Version: exportParameters.ui5Version, layer: exportParameters.layer };\n    if (exportParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 export\n         */\n        const v2Params = exportParameters[FioriElementsVersion.v2];\n        exportResults = exportPageV2(v2Params, ui5Config);\n    } else if (exportParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 export\n         */\n        const v4Params = exportParameters[FioriElementsVersion.v4];\n        exportResults = exportPageV4(v4Params, ui5Config);\n    }\n    return exportResults;\n}\n\n/**\n * Imports manifest settings and flex changes to a config (src/*.json, src/pages/*.json)\n * @param importParameters - parameters to control the import\n */\nexport function importConfig(importParameters: ImportConfigParameters): object | undefined {\n    let config;\n    if (importParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 import\n         */\n        const v2Params = importParameters[FioriElementsVersion.v2];\n        if (v2Params[SchemaType.ListReport]) {\n            config = createListReportConfigV2(v2Params[SchemaType.ListReport]);\n        } else if (v2Params[SchemaType.ObjectPage]) {\n            config = createObjectPageConfigV2(v2Params[SchemaType.ObjectPage]);\n        } else if (v2Params[SchemaType.OverviewPage]) {\n            config = createOverviewPageConfigV2(v2Params[SchemaType.OverviewPage]);\n        } else if (v2Params[SchemaType.AnalyticalListPage]) {\n            config = createAnalyticalListPageConfigV2(v2Params[SchemaType.AnalyticalListPage]);\n        }\n    } else if (importParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 import\n         */\n        const v4Params = importParameters[FioriElementsVersion.v4];\n        if (v4Params[SchemaType.ListReport]) {\n            config = createListReportConfigV4(v4Params[SchemaType.ListReport], SchemaType.ListReport);\n        } else if (v4Params[SchemaType.ObjectPage]) {\n            config = createObjectPageConfigV4(v4Params[SchemaType.ObjectPage]);\n        } else if (v4Params[SchemaType.AnalyticalListPage]) {\n            config = createListReportConfigV4(v4Params[SchemaType.AnalyticalListPage], SchemaType.AnalyticalListPage);\n        } else if (v4Params[SchemaType.FPMCustomPage]) {\n            config = createCustomPageConfig(v4Params[SchemaType.FPMCustomPage]);\n        }\n    }\n    return config;\n}\n\n/**\n * Evaluates all project files and generates app schemas and configs out of it\n * @param importParameters - parameters to control the import; here: all relevant project files\n * @returns a list of files, comprising app schemas and configs\n */\nexport async function importProject(importParameters: ImportProjectParameters): Promise<File[]> {\n    return importProjectSchemaAndConfig(importParameters);\n}\n\n/**\n * Evaluates all project files and generates app schemas out of it, but no configs\n * @param importParameters - parameters to control the import; here: all relevant project files\n * @returns a list of files, comprising all app schemas\n */\nexport async function importProjectSchema(importParameters: ImportProjectParameters): Promise<File[]> {\n    return importProjectSchemaOnly(importParameters);\n}\n\n/**\n * Returns specification API version.\n * @return {ApiVersion} Object of API version.\n */\nexport function getApiVersion(): ApiVersion {\n    return {\n        version: '7',\n        fpmWriter: '5'\n    };\n}\n\n/**\n * Calls the FPM Writer for generating a custom extension\n *\n * @param customExtensionParams parameters for generating the custom extension\n * @returns {Editor} Instance of mem-fs-editor\n */\nexport function generateCustomExtension(customExtensionParams: GenerateCustomExtensionParams): Editor | undefined {\n    const fpmWriterFunction = FPMWriterMap.get(customExtensionParams.customExtension);\n    if (fpmWriterFunction && typeof fpmWriterFunction === 'function') {\n        enableFPM(customExtensionParams.basePath, {});\n        return fpmWriterFunction(\n            customExtensionParams.basePath,\n            customExtensionParams.data,\n            customExtensionParams.fsEditor\n        );\n    } else {\n        return;\n    }\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { MetadataInstanceInterface } from './decoration/factory';\nimport type {\n    Manifest,\n    ExtensionLogger,\n    FacetConfig,\n    FacetConfigs,\n    FacetSection,\n    FileData,\n    SchemaFilePath,\n    FeatureToggle\n} from '@sap/ux-specification-types';\nimport {\n    DirName,\n    FacetBase,\n    FacetTitlePrefix,\n    MANIFESTPATH,\n    SchemaTag,\n    TemplateType,\n    SchemaKeyName,\n    UIVOCABULARY,\n    VOCWITHSLASH,\n    v4,\n    v2,\n    ALPViewType,\n    FioriElementsVersion,\n    ManifestSection,\n    PageTypeV2,\n    LogSeverity,\n    PageTypeV4,\n    SchemaType\n} from '@sap/ux-specification-types';\nimport type {\n    DataField,\n    DataFieldAbstractTypes,\n    DataFieldForAction,\n    DataFieldForAnnotation,\n    DataFieldWithIntentBasedNavigation,\n    DataFieldWithUrl,\n    FacetTypes,\n    ReferenceFacetTypes\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { ConvertedMetadata, EntityType, RawMetadata, PropertyPath } from '@sap-ux/vocabularies-types';\n\nimport i18next from 'i18next';\nimport merge from 'deepmerge';\nimport { convert } from '@sap-ux/annotation-converter';\nimport { merge as mergeParser, parse } from '@sap-ux/edmx-parser';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { CommunicationAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/Communication';\nimport { log } from '../../extensionLogger';\nimport type { PropertyAnnotations } from '@sap-ux/vocabularies-types/vocabularies/Edm_Types';\n\nexport const DEFINITION_LINK_PREFIX = '#/definitions/';\n\n/**\n * Function returns annotation path for schema based on received params.\n * @param entityTypeName - Entity type name.\n * @param term - Annotation term.\n * @param qualifier - Annotation qualifier.\n * @returns Annotation path based on received params\n */\nexport const createAnnotationPath = (entityTypeName: string, term: string, qualifier?: string): string => {\n    let annotationPath = `/${entityTypeName}/@${term}`;\n    if (qualifier) {\n        annotationPath += `#${qualifier}`;\n    }\n    return annotationPath;\n};\n\n/**\n * Parses, merges, and converts a list of annotation files with aid of tools from annotation-vocabularies-tools\n * @param annotationFiles - The list of all annotation files, in JSON format\n * @returns the complete service information\n */\nexport function parseAndMergeAndConvert(annotationFiles: FileData[], logger: ExtensionLogger): ConvertedMetadata {\n    const parseResult: RawMetadata[] = [];\n    let converterOutput: ConvertedMetadata;\n    try {\n        if (annotationFiles) {\n            annotationFiles.forEach(function (annotationData: FileData) {\n                parseResult.push(parse(annotationData.fileContent, annotationData.dataSourceUri));\n            });\n        }\n        if (parseResult.length > 0) {\n            converterOutput = convert(mergeParser(...parseResult));\n        }\n    } catch (error) {\n        log(\n            logger,\n            {\n                severity: LogSeverity.Error,\n                message: i18next.t('ANNOERR')\n            },\n            ...error\n        );\n    }\n    return converterOutput;\n}\n\nexport const getAnnotationPropertyValue = (annotationProperty: DataField['Value']): string =>\n    annotationProperty?.value || annotationProperty?.path;\n\n/**\n * Checks for Common.Label and overwrites the label from it if present\n * @param {PropertyAnnotations} annotations - property annotations\n * @param {EntityType} entityType - entity type\n * @param {string} label - label, to be actualized\n */\nexport function evaluateCommonLabel(annotations: PropertyAnnotations, entityType: EntityType, label: string): string {\n    if (annotations?.Common?.Label) {\n        if (typeof annotations.Common.Label === 'string') {\n            label = annotations.Common.Label;\n        } else if (annotations.Common.Label['type'] === 'Path') {\n            const targetProperty = entityType.resolvePath(annotations.Common.Label['path']);\n            if (targetProperty.value) {\n                label = targetProperty.value;\n            } else if (typeof targetProperty.Common?.Label === 'string') {\n                label = targetProperty.annotations.Common.Label;\n            }\n        } else if (typeof annotations.Common?.Label?.toString() === 'string') {\n            label = annotations.Common.Label.toString();\n        }\n    }\n    return label;\n}\n\n/**\n * Determines the label for a property path\n * @param {PropertyPath} propertyPath - property path\n * @param {EntityType} entityType - entity type\n * @returns label, derived from Common.Label or from property value\n */\nexport function getLabelForPropertyPath(propertyPath: PropertyPath, entityType: EntityType): string {\n    let label = propertyPath.value;\n    if (propertyPath.$target) {\n        label = evaluateCommonLabel(propertyPath.$target.annotations, entityType, label);\n    }\n    return label;\n}\n\n/**\n * Determines the label for a LineItem record\n * @param {DataFieldAbstractType} field - Line item record\n * @param {EntityType} entityType - entity type\n * @returns label, derived from Common.Label or from property value\n */\nexport function getLabelForDataField(field: DataFieldAbstractTypes, entityType: EntityType): string {\n    let label: string, property;\n    if (field['Value']) {\n        if (typeof field['Value'] === 'string') {\n            property = entityType.entityProperties.find((ep) => ep.name === field['Value']);\n        } else {\n            property = entityType.resolvePath(field['Value'].path);\n            if (!property) {\n                property = field['Value'].$target;\n            }\n        }\n    } else if (field['Target'] && field['Target'].$target && field['Target'].$target.Value) {\n        property = field['Target'].$target.Value.$target;\n    }\n    if (property?.annotations?.Common?.Label) {\n        label = evaluateCommonLabel(property.annotations, entityType, label);\n    }\n    return label;\n}\n\n/**\n * Function to resolve the dataField label\n * @param dataFieldLabel - Given dataField label; might be of type string, or an object in case of a path reference\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @returns undefined or the right string value\n */\nfunction getLabel(dataFieldLabel: any, entityType: EntityType): string {\n    if (typeof dataFieldLabel === 'string') {\n        return dataFieldLabel;\n    } else if (typeof dataFieldLabel === 'object' && dataFieldLabel.path) {\n        const property = entityType.resolvePath(dataFieldLabel.path);\n        if (!property || property.length === 0) {\n            return undefined;\n        } else {\n            const singleProperty = property[0];\n            if (singleProperty?.annotations?.Common?.Label) {\n                const label: string = dataFieldLabel;\n                return evaluateCommonLabel(singleProperty.annotations, entityType, label);\n            }\n        }\n    } else {\n        return undefined;\n    }\n}\n\nfunction getTitleForDataField(dataField: DataField, entityType: EntityType, dataFieldLabel: string): string {\n    const propertyCommonLabel = getLabelForDataField(dataField as DataFieldAbstractTypes, entityType);\n    return (\n        dataFieldLabel ||\n        propertyCommonLabel ||\n        (dataField.Value.$target ? dataField.Value.$target.name : dataField.Value.value || dataField.Value.path)\n    );\n}\n\n/**\n * Determines the description of a data field, e.g. for the column header\n * @param dataFieldAbstract - the given record of the line item annotation\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n */\nexport function getDataFieldDescription(dataFieldAbstract: DataFieldAbstractTypes, entityType: EntityType): string {\n    let title = '',\n        propertyCommonLabel,\n        dataField;\n    const dataFieldLabel = getLabel(dataFieldAbstract.Label, entityType);\n\n    switch (dataFieldAbstract.$Type) {\n        case UIAnnotationTypes.DataField:\n            dataField = dataFieldAbstract as DataField;\n            title = getTitleForDataField(dataField, entityType, dataFieldLabel);\n            break;\n        case UIAnnotationTypes.DataFieldWithUrl:\n            dataField = dataFieldAbstract as DataFieldWithUrl;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title =\n                dataFieldLabel ||\n                propertyCommonLabel ||\n                (typeof dataField.Value === 'string' ? dataField.Value : dataField.Value.path);\n            break;\n        case UIAnnotationTypes.DataFieldForAnnotation:\n            dataField = dataFieldAbstract as DataFieldForAnnotation;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title = dataFieldLabel || propertyCommonLabel || dataField.Target.$target.Title || dataField.Target.value;\n            break;\n        case UIAnnotationTypes.DataFieldForAction:\n        case UIAnnotationTypes.DataFieldWithAction:\n        case UIAnnotationTypes.DataFieldForIntentBasedNavigation:\n            dataField = dataFieldAbstract as DataFieldForAction;\n            if (dataFieldLabel) {\n                title = typeof dataFieldLabel === 'string' ? dataFieldLabel : (dataField.Action as string);\n            } else {\n                title = dataFieldAbstract.Action as string;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithIntentBasedNavigation:\n            dataField = dataFieldAbstract as DataFieldWithIntentBasedNavigation;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title = propertyCommonLabel || dataField.Value.path;\n            break;\n        case UIAnnotationTypes.DataFieldWithNavigationPath:\n            dataField = dataFieldAbstract;\n            title = getTitleForDataField(dataField, entityType, dataFieldLabel);\n            break;\n        default:\n            break;\n    }\n    return title;\n}\n\n/**\n * Prepare string for reference use in schema\n * @param refInput string to be character checked and replaced\n * @returns string with replaced characters\n */\nexport function prepareRef(refInput: string): string {\n    return refInput.replace('#', '::').replace(/\\//g, ':2f');\n}\n\n/**\n * Return the page type for a given V2 page in manifest\n * @param name - page component name\n */\nexport function getPageTypeV2(name: string): PageTypeV2 | undefined {\n    if (name) {\n        const templatePart = `${v2.FE_TEMPLATE_V2}.`;\n        return name.split(templatePart)[1] as PageTypeV2;\n    }\n}\n\n/**\n * Return the page type for a given V4 page in manifest\n * @param name - page component name\n */\nexport function getPageTypeV4(v4App: v4.SapUiAppPageV4 | v4.SapUi5RoutingTargetCustomPageV4): PageTypeV4 | undefined {\n    if ((v4App as v4.SapUiAppPageV4).name && (v4App as v4.SapUiAppPageV4).name !== v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n        const templatePart = `${v4.FE_TEMPLATE_V4}.`;\n        return (v4App as v4.SapUiAppPageV4).name.split(templatePart)[1] as PageTypeV4;\n    } else if ((v4App as v4.SapUiAppPageV4)?.name === v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n        return PageTypeV4.FPMCustomPage;\n    } else if (\n        (v4App as v4.SapUi5RoutingTargetCustomPageV4).viewId ||\n        (v4App as v4.SapUi5RoutingTargetCustomPageV4).viewName\n    ) {\n        return PageTypeV4.CustomPage;\n    }\n}\n\nfunction getTargetAnnotationName(targetAnnotation: any, keyForRelatedFacetKeys = false): string {\n    const termWithQualifier = `${targetAnnotation.term}#${targetAnnotation.qualifier}`;\n    return `${!keyForRelatedFacetKeys ? '@' : ''}${\n        targetAnnotation.qualifier ? termWithQualifier : targetAnnotation.term\n    }`;\n}\n\n/**\n * Finds the alias for a given namespace in the references' section of the converted service metadata\n * @param {string} namespace - complete namespace, e.g. 'com.sap.vocabularies.UI.v1'\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n * @returns alias for the given namespace\n */\nexport function findAlias(namespace: string, oDataServiceAVT: ConvertedMetadata): string | undefined {\n    if (!oDataServiceAVT) {\n        return;\n    }\n    let aliasReference = oDataServiceAVT.references.find((reference) => {\n        return reference.namespace === namespace;\n    });\n    if (!aliasReference) {\n        aliasReference = oDataServiceAVT.references.find((reference) => {\n            return reference.alias === namespace;\n        });\n    }\n    if (!aliasReference) {\n        aliasReference = oDataServiceAVT.references.find((reference) => {\n            return (\n                reference.alias.toUpperCase() ===\n                namespace.split('SAP__')[namespace.split('SAP__').length - 1].toUpperCase()\n            );\n        });\n    }\n    return aliasReference?.alias;\n}\n\n/**\n * Determines the target annotation\n * @param navigationParts - parts of the target annotation path\n * @param entityType - entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @returns the target annotation\n */\nfunction determineTargetAnnotation(\n    navigationParts: string[],\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    const lastNavigationPart = navigationParts[navigationParts.length - 1];\n    const annotation = lastNavigationPart.substring(lastNavigationPart.lastIndexOf('.') + 1, lastNavigationPart.length);\n    const alias = findAlias(\n        lastNavigationPart.substring(0, lastNavigationPart.lastIndexOf('.')).replace('@', ''),\n        oDataServiceAVT\n    );\n    return entityType?.annotations[alias]?.[annotation];\n}\n\n/**\n * Adjust key by considering navigation\n * @param key - given key\n * @param keyForRelatedFacetKeys - construct key for 'keyForRelatedFacetKeys' property(used to define custom sections) - we should not add '@' symbol there.\n * @param navigationParts - parts of the target annotation path\n */\nfunction adjustKey(key: string, navigationParts: string[], keyForRelatedFacetKeys: boolean): string {\n    const uiClass = navigationParts[navigationParts.length - 1].split('#')[0];\n    if (uiClass.includes('.LineItem')) {\n        const pathParts = key.split('::');\n        pathParts[pathParts.length - 1] = `${!keyForRelatedFacetKeys ? '@' : ''}${UIAnnotationTerms.LineItem}`;\n        key = pathParts.join('::');\n    } else {\n        key = uiClass.replace('@UI', `${!keyForRelatedFacetKeys ? '@' : ''}com.sap.vocabularies.UI.v1`);\n    }\n    return key;\n}\n\nfunction getKeyAndEntityTypeOfReferenceFacet(\n    oDataServiceAVT: ConvertedMetadata,\n    key: string,\n    entityType: EntityType,\n    propertyValue: string,\n    oDataVersion = FioriElementsVersion.v2,\n    keyForRelatedFacetKeys = false\n): { key: string; entityType: EntityType; stopProcessing: boolean; namespace: string } {\n    let stopProcessing = false;\n    let namespace: string;\n    const navigationParts = propertyValue.split('/');\n    const navigation = navigationParts.length > 1;\n    if (navigation) {\n        entityType = entityType.resolvePath(propertyValue.substring(0, propertyValue.lastIndexOf('/')))?.targetType;\n    }\n    key = adjustKey(key, navigationParts, keyForRelatedFacetKeys);\n\n    const targetAnnotation = determineTargetAnnotation(navigationParts, entityType, oDataServiceAVT);\n    if (targetAnnotation) {\n        const separator = oDataVersion === FioriElementsVersion.v2 ? '::' : '#';\n        key = getTargetAnnotationName(targetAnnotation, keyForRelatedFacetKeys).replace('#', separator);\n        namespace = targetAnnotation.fullyQualifiedName?.split('@')[0];\n    } else {\n        stopProcessing = true;\n        return { key, entityType, stopProcessing, namespace };\n    }\n\n    if (navigation) {\n        const navSeparator = oDataVersion === FioriElementsVersion.v2 ? '::' : '/';\n        navigationParts.pop();\n        const navigationIDs = [...navigationParts].join(navSeparator);\n        key = `${navigationIDs}${navSeparator}${key}`;\n    }\n    return { key, entityType, stopProcessing, namespace };\n}\n\n/**\n * Resolve page section(get key and label->description).\n * @param facetDefinition - the actual annotation record\n * @param keyForRelatedFacetKeys - construct key for 'keyForRelatedFacetKeys' property(used to define custom sections) - we should not add '@' symbol there.\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {FacetSection} - object comprising the relevant facet information\n */\nexport function getSectionFacet(\n    facetDefinition: FacetTypes,\n    sourceEntityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger,\n    oDataVersion = FioriElementsVersion.v2,\n    keyForRelatedFacetKeys = false\n): FacetSection | undefined {\n    //Take facet ID as fallback\n    const facetName = facetDefinition.fullyQualifiedName?.substring(\n        facetDefinition.fullyQualifiedName?.lastIndexOf('@')\n    );\n    let key: string = facetDefinition.ID ? facetDefinition.ID.toString() : facetName;\n    let namespace = facetDefinition.fullyQualifiedName?.split('@')[0];\n    let entityType = sourceEntityType; //default\n\n    //If reference facet: overwrite with target annotation if present\n    if (facetDefinition.$Type !== UIAnnotationTypes.CollectionFacet && 'Target' in facetDefinition) {\n        const propertyValue = getAnnotationPropertyValue(facetDefinition.Target);\n        if (!propertyValue) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOTARGET', { target: facetDefinition.Target })\n            });\n            return;\n        }\n        const {\n            key: newKey,\n            entityType: newEntityType,\n            stopProcessing,\n            namespace: sectionNameSpace\n        } = getKeyAndEntityTypeOfReferenceFacet(\n            oDataServiceAVT,\n            key,\n            entityType,\n            propertyValue,\n            oDataVersion,\n            keyForRelatedFacetKeys\n        );\n        if (stopProcessing) {\n            return;\n        }\n        key = newKey;\n        entityType = newEntityType;\n        namespace = sectionNameSpace;\n    }\n    key = key.replace(/\\//gi, '::');\n    if (key) {\n        return {\n            key,\n            ...(facetDefinition.Label && { label: facetDefinition.Label.toString() }),\n            ...(facetDefinition.ID && { ID: facetDefinition.ID.toString() }),\n            entityType,\n            namespace\n        };\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Finds the alias for a given namespace in the references' section of the converted service metadata.\n * An empty object is created if the path element does not exist yet.\n * Exception: if an empty array is the next element  of the 'path' definition, an empty array is created instead of an empty object.\n * @param {object} manifest - manifest that is being modified during export\n * @param {string} path - path of the property in the manifest\n * @param {string} targetAnnotation - target annotation (optional)\n * @param {string} targetAnnotationEncoded - target annotation in its encoded form, as used in manifest settings\n * @param {boolean} importScenario - indicates if the function is called for the import, else it is the export\n * @returns returns section of the manifest based on path, generates an empty object in case it does not exists\n */\nexport const getManifestSectionByPathV4 = (\n    manifest: object,\n    path: string,\n    targetAnnotation?: string,\n    targetAnnotationEncoded?: string\n): object | undefined => {\n    if (!path) {\n        return undefined;\n    }\n    let manifestSection = manifest;\n    const pathElements = path.split('/');\n    for (let index = 0; index < pathElements.length; index++) {\n        const element = pathElements[index];\n        if (element === '[]') {\n            continue;\n        }\n        const decodedElement =\n            targetAnnotationEncoded && targetAnnotationEncoded === element\n                ? targetAnnotation\n                : element.replace('??', '/');\n        //?? can be used in path functions to encode /\n        if (!manifestSection[decodedElement]) {\n            if (pathElements[index + 1] === '[]') {\n                manifestSection[decodedElement] = [];\n            } else {\n                manifestSection[decodedElement] = {};\n            }\n        }\n        manifestSection = manifestSection[decodedElement];\n    }\n    return manifestSection;\n};\n\nexport function getSchemaKeyOfLineItemRecord(lineItemRecord: DataFieldAbstractTypes): string {\n    let schemaKey, target, value;\n    switch (lineItemRecord.$Type) {\n        case UIAnnotationTypes.DataField:\n            schemaKey = getAnnotationPropertyValue(lineItemRecord.Value);\n            break;\n        case UIAnnotationTypes.DataFieldWithUrl:\n            schemaKey =\n                typeof lineItemRecord.Value === 'string'\n                    ? lineItemRecord.Value\n                    : getAnnotationPropertyValue(lineItemRecord.Value);\n            break;\n        case UIAnnotationTypes.DataFieldForAnnotation:\n            target = lineItemRecord.Target.value;\n            if (target) {\n                schemaKey =\n                    'DataFieldForAnnotation:::sTarget::' +\n                    target\n                        .replace('@UI', '@com.sap.vocabularies.UI.v1')\n                        .replace('@Communication', '@com.sap.vocabularies.Communication.v1')\n                        .replace('@Contact', '@com.sap.vocabularies.Contact.v1');\n            }\n            break;\n        case UIAnnotationTypes.DataFieldForAction:\n            if (lineItemRecord.Inline) {\n                schemaKey = `DataFieldForAction:::sAction::${prepareRef(lineItemRecord.Action as string)}`;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithIntentBasedNavigation:\n            value = getAnnotationPropertyValue(lineItemRecord.Value);\n            schemaKey = `DataFieldWithIntentBasedNavigation:::sProperty::${value}:::sSemanticObject::${lineItemRecord.SemanticObject}:::sAction::${lineItemRecord.Action}`;\n            break;\n        case UIAnnotationTypes.DataFieldForIntentBasedNavigation:\n            if (lineItemRecord.Inline) {\n                schemaKey = `DataFieldForIntentBasedNavigation:::sSemanticObject::${\n                    lineItemRecord.SemanticObject\n                }:::sAction::${prepareRef(lineItemRecord.Action as string)}`;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithNavigationPath:\n            value = getAnnotationPropertyValue(lineItemRecord.Value);\n            target = getAnnotationPropertyValue(lineItemRecord.Target);\n            schemaKey = 'DataFieldWithNavigationPath:::sProperty::' + value + ':::sTarget::' + target;\n            break;\n        default:\n            break;\n    }\n\n    return schemaKey;\n}\n\n/**\n * Determines if type of given annotation term is of UIAnnotationTerm\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns UI annotation term type\n */\nfunction getUIAnnotationTerm(path: string, alias: string, entityType: EntityType): UIAnnotationTerms | undefined {\n    if (path.includes(UIAnnotationTerms.Chart) || path.includes(alias + '.Chart')) {\n        return UIAnnotationTerms.Chart;\n    } else if (path.includes(UIAnnotationTerms.Identification) || path.includes(alias + '.Identification')) {\n        return UIAnnotationTerms.Identification;\n    } else if ((entityType && path.includes(UIAnnotationTerms.LineItem)) || path.includes(alias + '.LineItem')) {\n        return UIAnnotationTerms.LineItem;\n    } else if (path.includes(UIAnnotationTerms.FieldGroup) || path.includes(alias + '.FieldGroup')) {\n        return UIAnnotationTerms.FieldGroup;\n    } else if (path.includes(UIAnnotationTerms.DataPoint) || path.includes(alias + '.DataPoint')) {\n        return UIAnnotationTerms.DataPoint;\n    } else if (path.includes(UIAnnotationTerms.PresentationVariant) || path.includes(alias + '.PresentationVariant')) {\n        return UIAnnotationTerms.PresentationVariant;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Determines if type of given annotation term is of CommunicationAnnotationTerm\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns Communication annotation term type\n */\nfunction getCommunicationAnnotationTerm(path: string, alias: string): CommunicationAnnotationTerms | undefined {\n    if (path.includes('com.sap.vocabularies.Communication.v1.Contact') || path.includes(alias + '.Contact')) {\n        return CommunicationAnnotationTerms.Contact;\n    } else if (path.includes('com.sap.vocabularies.Communication.v1.Address') || path.includes(alias + '.Address')) {\n        return CommunicationAnnotationTerms.Address;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Determines the type of given annotation term\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns annotation term type\n */\nfunction getAnnotationTerm(\n    path: string,\n    alias: string,\n    entityType: EntityType\n): UIAnnotationTerms | CommunicationAnnotationTerms | undefined {\n    return getUIAnnotationTerm(path, alias, entityType) || getCommunicationAnnotationTerm(path, alias);\n}\n\n/**\n * Evaluates the target annotation of a reference facet and actualizes the facets for the config\n * @param {AnnotationTerm} annotationRecord - the actual annotation record\n * @param {FacetConfigs} facets - list of facets in config format, to be updated\n * @param {EntityType} entityType - the entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction evaluateTargetAnnotation(\n    section: FacetSection,\n    annotationRecord: ReferenceFacetTypes,\n    facets: FacetConfigs,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): void {\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    let path = section ? section.key : '';\n    const targetEntityType = section.entityType;\n    const annotationTerm = getAnnotationTerm(path, alias, entityType);\n\n    switch (annotationTerm) {\n        case UIAnnotationTerms.Chart: {\n            facets[path] = { base: FacetBase.Chart };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.Identification: {\n            facets[path] = { base: FacetBase.Identification };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.LineItem: {\n            if (!path.includes(UIAnnotationTerms.LineItem) && path.includes('.LineItem')) {\n                const pathParts = path.split('::');\n                pathParts[pathParts.length - 1] = `@${UIAnnotationTerms.LineItem}`;\n                path = pathParts.join('::');\n            }\n            facets[path] = { base: FacetBase.LineItem };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.FieldGroup: {\n            facets[path] = { base: FacetBase.Form };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.DataPoint: {\n            facets[path] = { base: FacetBase.DataPoint };\n            facets[path].Label = annotationRecord?.Target?.$target['Title'];\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.PresentationVariant: {\n            facets[path] = { base: FacetBase.PresentationVariant };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case CommunicationAnnotationTerms.Contact: {\n            facets[path] = { base: FacetBase.Contact };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case CommunicationAnnotationTerms.Address: {\n            facets[path] = { base: FacetBase.Address };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        default: {\n            facets[path] = { base: FacetBase.Unknown };\n        }\n    }\n\n    if (facets[path]) {\n        facets[path].annotationPath = `/${annotationRecord.fullyQualifiedName.replace(\n            '@com.sap.vocabularies',\n            VOCWITHSLASH\n        )}`;\n        if (annotationRecord.Label) {\n            facets[path].Label = annotationRecord.Label as string;\n        }\n        // Add Facet ID\n        if (annotationRecord.ID) {\n            facets[path]['ID'] = annotationRecord.ID as string;\n        } else if (oDataVersion === FioriElementsVersion.v4) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOID4SECTION', { facet: annotationRecord.fullyQualifiedName })\n            });\n        }\n        if (section && section.entityType) {\n            facets[path].entityType = section.entityType;\n        }\n    }\n}\n\n/**\n * Adds the information from facets to the config\n * @param {AnnotationTerm} annotationRecord - the actual annotation record\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {string} serviceName - name of the service of the app\n * @param {string} entityName - the entity (type) name\n * @param {FacetConfigs} facets - list of facets in config format, to be updated\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction addFacetToConfig(\n    annotationRecord: FacetTypes,\n    oDataServiceAVT: ConvertedMetadata,\n    serviceName: string,\n    entityType: EntityType,\n    facets: FacetConfigs,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): void {\n    const section: FacetSection = getSectionFacet(\n        annotationRecord,\n        entityType,\n        oDataServiceAVT,\n        logger,\n        oDataVersion,\n        false\n    );\n    if (section) {\n        switch (annotationRecord.$Type) {\n            case UIAnnotationTypes.ReferenceFacet: {\n                evaluateTargetAnnotation(\n                    section,\n                    annotationRecord,\n                    facets,\n                    entityType,\n                    oDataServiceAVT,\n                    oDataVersion,\n                    logger\n                );\n                break;\n            }\n            case UIAnnotationTypes.CollectionFacet: {\n                const annotationPath = `/${entityType.fullyQualifiedName}/${\n                    annotationRecord.fullyQualifiedName.split(entityType.fullyQualifiedName)[1]\n                }`;\n                const facet = (facets[section.key] = {\n                    base: FacetBase.CollectionFacet,\n                    facets: {},\n                    ID: section.ID,\n                    annotationPath: annotationPath,\n                    Label: section.label,\n                    namespace: section.namespace\n                });\n                annotationRecord.Facets?.forEach((collectionItem) => {\n                    addFacetToConfig(\n                        collectionItem,\n                        oDataServiceAVT,\n                        serviceName,\n                        entityType,\n                        facet.facets,\n                        oDataVersion,\n                        logger\n                    );\n                });\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Retrieve header facet configurations that can be used to generate ObjectPage schemas\n * @param {QualifiedName} entityTypeName - the name of the actual entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function getObjectPageHeaderFacets(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): FacetConfigs | undefined {\n    const facets: FacetConfigs = {};\n    if (!entityType || !entityType.annotations) {\n        return;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const facetAnnotation = alias && entityType.annotations[alias] && entityType.annotations[alias].HeaderFacets;\n    if (facetAnnotation) {\n        const lastDot = entityType.fullyQualifiedName.lastIndexOf('.');\n        const serviceName = entityType.fullyQualifiedName.substring(0, lastDot);\n\n        // Add facets to configuration\n        facetAnnotation.forEach((item) => {\n            addFacetToConfig(item, oDataServiceAVT, serviceName, entityType, facets, oDataVersion, logger);\n        });\n    }\n    return facets;\n}\n\n/**\n * Retrieve facet configurations that can be used to generate ObjectPage schemas\n * @param {QualifiedName} entityTypeName - the name of the actual entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function getObjectPageFacets(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): FacetConfigs | undefined {\n    const facets: FacetConfigs = {};\n    if (!entityType || !entityType.annotations) {\n        return;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const facetAnnotation = alias && entityType.annotations[alias] && entityType.annotations[alias].Facets;\n    if (facetAnnotation) {\n        const lastDot = entityType.fullyQualifiedName.lastIndexOf('.');\n        const serviceName = entityType.fullyQualifiedName.substring(0, lastDot);\n\n        // Add facets to configuration\n        facetAnnotation.forEach((item) => {\n            addFacetToConfig(item, oDataServiceAVT, serviceName, entityType, facets, oDataVersion, logger);\n        });\n    }\n    return facets;\n}\n\n/**\n * Returns the version of Fiori elements (v2/v4) from a given manifest\n * @param manifest - the manifest.json file\n */\nexport function getVersionFromManifest(manifest: Manifest): FioriElementsVersion {\n    if (manifest[ManifestSection.generic] || manifest[ManifestSection.ovp]) {\n        return FioriElementsVersion.v2;\n    } else {\n        return FioriElementsVersion.v4;\n    }\n}\n\n/**\n * Determines the template type of a V2 app\n * @param manifest - the manifest.json file\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function determineV2Template(manifest: Manifest, logger: ExtensionLogger): TemplateType | undefined {\n    let templateType: TemplateType;\n    if (manifest[ManifestSection.generic]) {\n        const v2Pages = manifest[ManifestSection.generic].pages;\n        if (!v2Pages) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return;\n        }\n        for (const pageKey in v2Pages) {\n            const v2Page = v2Pages[pageKey];\n            if (getPageTypeV2(v2Page.component.name) === PageTypeV2.AnalyticalListPage) {\n                templateType = TemplateType.AnalyticalListPageV2;\n                break;\n            } else if (getPageTypeV2(v2Page.component.name) === PageTypeV2.ListReport) {\n                templateType = TemplateType.ListReportObjectPageV2;\n                break;\n            }\n        }\n    } else {\n        if (!templateType) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOTEMPLATE', { section: ManifestSection.generic }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n        }\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type of a single page\n * @param v4Page - single page from routing targets\n * @returns {TemplateType | undefined} the template type\n */\nexport function determineV4PageTemplateType(v4Page: v4.SapUiAppPageV4): TemplateType | undefined {\n    let templateType: TemplateType;\n    const pageType = getPageTypeV4(v4Page);\n    if (pageType === PageTypeV4.AnalyticalListPage) {\n        templateType = TemplateType.AnalyticalListPageV4;\n    } else if (pageType === PageTypeV4.ListReport) {\n        const viewPath = (v4Page.options?.settings?.views?.paths as v4.SapUi5ALPPaths)?.[0];\n        if (viewPath && (viewPath[ALPViewType.Primary] || viewPath[ALPViewType.Secondary])) {\n            templateType = TemplateType.AnalyticalListPageV4;\n        } else {\n            templateType = TemplateType.ListReportObjectPageV4;\n        }\n    } else if (pageType === PageTypeV4.ObjectPage) {\n        templateType = TemplateType.ListReportObjectPageV4;\n        //fixed now for FEOP scenario, bit continue to check if LR/ALP exists\n    } else if ([PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(pageType)) {\n        templateType = TemplateType.FreestylePageV4;\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type, based on the given manifest routing target entries of the app\n * @param v4Pages - pages from routing targets\n * @returns {TemplateType | undefined} the template type\n */\nfunction determineV4TemplateFromPages(v4Pages: v4.SapUi5RoutingTargetsV4): TemplateType | undefined {\n    let templateType: TemplateType;\n    for (const pageKey in v4Pages) {\n        const v4Page = v4Pages[pageKey] as v4.SapUiAppPageV4;\n        templateType = determineV4PageTemplateType(v4Page);\n        if (templateType) {\n            break;\n        }\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type of a V4 app\n * @param manifest - the manifest.json file\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function determineV4Template(manifest: Manifest, logger: ExtensionLogger): TemplateType | undefined {\n    const v4Pages =\n        manifest[ManifestSection.ui5].routing &&\n        (manifest[ManifestSection.ui5].routing.targets as v4.SapUi5RoutingTargetsV4);\n    // if there are no pages in routing targets, we use LROPV4 as default template type\n    if (!v4Pages || Object.keys(v4Pages).length === 0) {\n        log(logger, {\n            severity: LogSeverity.Info,\n            message: i18next.t('NOPAGES', { appId: manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return TemplateType.ListReportObjectPageV4;\n    }\n    // else try to determine template type from routing targets\n    const templateType = determineV4TemplateFromPages(v4Pages);\n    if (!templateType) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTEMPLATE', { section: ManifestSection.ui5 }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing', 'targets']\n            }\n        });\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type, based on the given manifest entries of the app\n * @param manifest - the manifest.json file\n * @param {FioriElementsVersion} fioriElementsVersion - OData or FE version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function getTemplateTypeFromManifest(\n    manifest: Manifest,\n    fioriElementsVersion: FioriElementsVersion,\n    logger: ExtensionLogger\n): TemplateType | undefined {\n    let templateType: TemplateType;\n    if (manifest[ManifestSection.ovp]) {\n        templateType = TemplateType.OverviewPageV2;\n    } else if (fioriElementsVersion === FioriElementsVersion.v2) {\n        templateType = determineV2Template(manifest, logger);\n    } else if (fioriElementsVersion === FioriElementsVersion.v4) {\n        templateType = determineV4Template(manifest, logger);\n    } else {\n        if (!templateType) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOFE'),\n                location: {\n                    path: MANIFESTPATH\n                }\n            });\n        }\n    }\n    return templateType;\n}\n\n/**\n * Adds title and description to a section or header section in an app schema\n * @param facet - intermediate facet structure comprising annotation information\n * @param section - section in the app schema\n * @param facetKey - key of the facet\n */\nexport function addSectionTitleAndDescription(facet: FacetConfig, section: Definition, facetKey: string): void {\n    if (facet?.ID) {\n        section.title = FacetTitlePrefix + facet.ID;\n        section[SchemaTag.keys] = [{ name: SchemaKeyName.id, value: facet.ID }];\n    } else {\n        section.title = facetKey.replace(/@com.sap/g, 'com.sap');\n    }\n    // Description\n    if (facet?.Label) {\n        section.description = facet.Label;\n    } else if (facet?.ID) {\n        section.description = facet.ID;\n    } else {\n        section.description = facetKey.substring(facetKey.lastIndexOf('.') + 1);\n    }\n}\n\n/**\n * Adds target title or description to a section or header section in an app schema\n * @param facet - intermediate facet structure comprising annotation information\n * @param section - section in the app schema\n * @param facetKey - key of the facet\n */\nexport function addTargetTitleAndSectionDescription(facet: FacetConfig, section: Definition, facetKey: string): void {\n    addSectionTitleAndDescription(facet, section, facetKey);\n    if (facet?.Label) {\n        section.description = facet?.Label;\n    } else if (facet?.['Title']) {\n        section.description = facet['Title'];\n    } else if (facet?.target?.['Title']) {\n        section.description = facet.target['Title'];\n    }\n}\n\n/**\n * Creates a default object for a new section or subsection, and adds the ID as title if present.\n * @param facet Facet configuration, to be analyzed\n * @returns the new section object\n */\nexport function createDefaultSection(appSchema: Definition, facet: FacetConfig, facetKey: string): Definition {\n    if (!facet) {\n        return undefined;\n    }\n    let section: Definition;\n    if (appSchema.definitions.ObjectPageSection) {\n        //base type in V2, with properties\n        section = JSON.parse(JSON.stringify(appSchema.definitions.ObjectPageSection));\n    } else {\n        section = {\n            type: 'object',\n            properties: {},\n            additionalProperties: false\n        };\n        section[SchemaTag.isViewNode] = true;\n    }\n    section[SchemaTag.annotationPath] = facet.annotationPath;\n    addSectionTitleAndDescription(facet, section, facetKey);\n    return section;\n}\n\n/**\n * Retrieve page section data(so far id/key and label/description).\n * @param {EntityType} entityType The actual entityType\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {boolean} [checkUnresolvableFacets=false] - Check and avoid facets and sections without ID and Target.\n * @returns {FacetSection[]} - Array of facets or sections\n */\nexport function getObjectPageFacetSection(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger,\n    oDataVersion = FioriElementsVersion.v2,\n    checkUnresolvableFacets = false\n): FacetSection[] {\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    let sections: FacetSection[] = [];\n    if (entityType) {\n        const facetAnnotation =\n            alias && entityType.annotations && entityType.annotations[alias] && entityType.annotations[alias].Facets;\n\n        if (facetAnnotation) {\n            sections = facetAnnotation.reduce(function (result: FacetSection[], item: FacetTypes) {\n                if (checkUnresolvableFacets && !item['ID'] && !('Target' in item && item['Target'])) {\n                    return result;\n                }\n                const section: FacetSection = getSectionFacet(\n                    item,\n                    entityType,\n                    oDataServiceAVT,\n                    logger,\n                    oDataVersion,\n                    true\n                );\n                if (section) {\n                    result.push(section);\n                }\n                return result;\n            }, sections);\n        }\n        return sections;\n    }\n}\n\n/**\n * Cleans empty sub-structures from the export result for manifest\n * @param manifest - manifest.json part of the export result\n * @param path  - path in the manifest\n * @param targetAnnotation - target annotation (optional, in case of sections, subsections)\n * @param targetAnnotationEncoded - encoded version of the target annotation, as represented in the manifest\n */\nexport const deleteEmptyStructure = (\n    manifest: object,\n    path: string,\n    targetAnnotation?: string,\n    targetAnnotationEncoded?: string\n): void => {\n    if (!path) {\n        return;\n    }\n    let manifestSection = manifest;\n    const pathArray = path.split('/');\n    pathArray.forEach(function (element) {\n        const decodedElement =\n            targetAnnotationEncoded && targetAnnotationEncoded === element\n                ? targetAnnotation\n                : element.replace('??', '/');\n        if (!manifestSection[decodedElement]) {\n            return;\n        }\n        if (Object.keys(manifestSection[decodedElement]).length === 0) {\n            if (Array.isArray(manifestSection)) {\n                manifestSection.splice(Number(decodedElement), 1);\n            } else {\n                delete manifestSection[decodedElement];\n            }\n            pathArray.pop();\n            deleteEmptyStructure(manifest, pathArray.join('/'), targetAnnotation, targetAnnotationEncoded);\n            return;\n        }\n        manifestSection = manifestSection && manifestSection[decodedElement];\n    });\n};\n\n/**\n * Method which returns generic schema file name.\n * @param {SchemaType | PageTypeV2} schemaType Schema type or Page type.\n * @return {string} File name of generic schema.\n */\nconst getGenericSchemaFileName = (schemaType: SchemaType | PageTypeV2 | PageTypeV4): string => {\n    if (schemaType === SchemaType.FreestylePage) {\n        return PageTypeV2.CustomPage;\n    }\n    if (schemaType === SchemaType.FPMCustomPage) {\n        // FPM custom pages uses generic schema generated for building blocks\n        return SchemaType.BuildingBlocks;\n    }\n    return `${schemaType}`;\n};\n\n/**\n * Method which returns schema file name and path depending on passed schema or page type.\n * @param {SchemaType | PageTypeV2} schemaType Schema type or Page type.\n * @param {string} [pageId] target page id from manifest.json\n * @return {SchemaFilePath} File path info.\n */\nexport const getSchemaFilePath = (\n    schemaType: SchemaType | PageTypeV2 | PageTypeV4,\n    pageId?: string,\n    viewId?: string\n): SchemaFilePath => {\n    const schemaFile: SchemaFilePath = {\n        filename: '',\n        path: ''\n    };\n    switch (schemaType) {\n        // Application schema\n        case SchemaType.Application: {\n            // File name\n            schemaFile.filename = `App`;\n            // Full path\n            schemaFile.path = `./${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        // List report and object page\n        case SchemaType.ListReport:\n        case SchemaType.ObjectPage: {\n            // File name\n            schemaFile.filename = pageId ? `${schemaType}_${pageId}` : getGenericSchemaFileName(schemaType);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        case PageTypeV4.FPMCustomPage:\n        case SchemaType.FPMCustomPage: {\n            // File name\n            schemaFile.filename = viewId\n                ? `${SchemaType.FPMCustomPage}_${viewId}`\n                : getGenericSchemaFileName(SchemaType.FPMCustomPage);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        // Other page configs\n        default: {\n            // File name\n            schemaFile.filename = getGenericSchemaFileName(schemaType);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n    }\n    schemaFile.path += '.json';\n    return schemaFile;\n};\n\n/**\n * Method which generates id of page according to passed parameters.\n * @param appVersion - Fiori Elements version - V2 or V4.\n * @param pageType - Page type.\n * @param entitySet - Entity Set.\n * @param viewId - Custom page's viewId (optional).\n * @returns {string} Generated page id\n */\n\nexport function generatePageId(pageType: PageTypeV2 | PageTypeV4, entitySet: string, viewId?: string): string {\n    if (pageType === PageTypeV2.CustomPage) {\n        const names = viewId && viewId.split('.');\n        return names && names[names.length - 1] + 'Page';\n    }\n    const parts: string[] = [];\n    parts.push(pageType);\n    if (entitySet) {\n        parts.push(entitySet);\n    }\n    return parts.join('_');\n}\n\nexport type NextDefinition = {\n    configObject?: object;\n    targetDefinition?: object;\n    title?: string;\n};\n\nfunction fillArrayFromAnyOfReference(\n    element: Definition,\n    appSchema: Definition,\n    currentConfigObject: object,\n    definitionArray: any[]\n) {\n    const $ref = element.$ref;\n    if ($ref) {\n        const definitionKey = $ref.split(DEFINITION_LINK_PREFIX)[1];\n        if (appSchema.definitions[definitionKey]) {\n            const controlProperty = appSchema.definitions[definitionKey]['controlProperty'];\n            if ($ref.includes(currentConfigObject[controlProperty])) {\n                definitionArray.push(definitionKey);\n            }\n        }\n    }\n}\n\n/**\n * Fills an array of next definitions from given references in the JSON schema\n * @param propertyDefinition - Definition of the current property in schema\n * @param currentConfigObject - Current object in the config JSON. Evaluated to get the right value of a controlling property,\n *                              for making the right choice in case of multiple options (anyOf)\n * @param appSchema - app-specific JSON schema\n * @returns an array of definitions to proceed with\n */\nfunction fillArrayFromPropertyDefinition(\n    propertyDefinition: Definition,\n    currentConfigObject: object,\n    appSchema: Definition\n): any[] {\n    const definitionArray = [];\n    if (propertyDefinition.$ref) {\n        definitionArray.push(propertyDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1]);\n    } else if (propertyDefinition.anyOf) {\n        if (currentConfigObject) {\n            propertyDefinition.anyOf.forEach((element) => {\n                fillArrayFromAnyOfReference(element as Definition, appSchema, currentConfigObject, definitionArray);\n            });\n        }\n        if (definitionArray.length === 0) {\n            return undefined;\n        }\n    }\n    return definitionArray;\n}\n\n/**\n * Determines the next definition to be handled, based on the definition array.\n * It also creates the Metadata instance for the next definition, to subsequently access metadata like the syncRule\n * @param definitionArray - Array of definitions, as determined by fillArrayFromNextDefinition\n * @param appSchema - app-specific JSON schema\n * @param title - default title\n * @param currentConfigObject - Current object in the config JSON.\n * @param key - actual key\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pageType - page type\n * @param propertyDefinition - Definition of the current property in schema\n * @returns {NextDefinition} - Next target definition to process\n */\nfunction determineNextDefinitionFromDefinitionArray(\n    definitionArray: any[],\n    appSchema: object,\n    title: string,\n    currentConfigObject: object,\n    key: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV2 | PageTypeV4,\n    propertyDefinition: object\n): NextDefinition {\n    let nextDefinition: NextDefinition = {\n        configObject: undefined,\n        targetDefinition: {},\n        title: ''\n    };\n    if (definitionArray.length) {\n        const lastDefinition = definitionArray[definitionArray.length - 1];\n        nextDefinition.targetDefinition = appSchema['definitions'][lastDefinition];\n\n        if (nextDefinition?.targetDefinition?.['$ref'] || nextDefinition?.targetDefinition?.['type'] === 'array') {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            nextDefinition = getNextTargetDefinition(\n                appSchema,\n                title,\n                currentConfigObject,\n                nextDefinition.targetDefinition,\n                key,\n                factory,\n                pageType\n            );\n            return nextDefinition;\n        }\n        if (definitionArray.length > 1) {\n            definitionArray.forEach((element) => {\n                if (element !== '') {\n                    nextDefinition.targetDefinition['properties'] = {\n                        ...nextDefinition.targetDefinition['properties'],\n                        ...appSchema['definitions'][element]['properties']\n                    };\n                }\n            });\n        }\n        nextDefinition.title = nextDefinition?.targetDefinition?.['title']\n            ? nextDefinition.targetDefinition['title']\n            : title;\n        const factoryKey = lastDefinition?.split('<')[0];\n        const targetObject = currentConfigObject ? currentConfigObject : {};\n        nextDefinition.configObject = factory.createInstance(\n            pageType,\n            factoryKey,\n            targetObject,\n            nextDefinition?.targetDefinition?.['controlProperty']\n        );\n    } else {\n        //e.g. sections ==> loop over all properties = subsections or other\n        nextDefinition.targetDefinition = propertyDefinition;\n        nextDefinition.title = nextDefinition.targetDefinition['title']\n            ? nextDefinition.targetDefinition['title']\n            : key;\n        nextDefinition.configObject = currentConfigObject;\n    }\n    return nextDefinition;\n}\n\n/**\n * Recursive function to determine the next config part, next definition in the app schema and the title\n * @param appSchema - app-specific JSON schema\n * @param title - default title\n * @param currentConfigObject - current part of the configuration that gets traversed\n * @param propertyDefinition - definition of a given property in the app schema\n * @param key - actual key\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pageType - page type\n */\nexport function getNextTargetDefinition(\n    appSchema: object,\n    title: string,\n    currentConfigObject: object,\n    propertyDefinition: object,\n    key: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV2 | PageTypeV4\n): NextDefinition {\n    let nextDefinition: NextDefinition;\n    if (propertyDefinition['type'] === 'array') {\n        nextDefinition = getNextTargetDefinition(\n            appSchema,\n            title,\n            currentConfigObject,\n            propertyDefinition['items'],\n            key,\n            factory,\n            pageType\n        );\n        return nextDefinition;\n    }\n    const definitionArray = fillArrayFromPropertyDefinition(propertyDefinition, currentConfigObject, appSchema);\n    if (!definitionArray) {\n        return undefined;\n    }\n    nextDefinition = determineNextDefinitionFromDefinitionArray(\n        definitionArray,\n        appSchema,\n        title,\n        currentConfigObject,\n        key,\n        factory,\n        pageType,\n        propertyDefinition\n    );\n    return nextDefinition;\n}\n\n/**\n * Custom array merge function called by deepmerge's merge function\n *\n * @param {*} target Target array\n * @param {*} source Source array\n * @param {*} options options object provided by deepmerge's merge function\n * @returns\n */\nexport const arrayCombineMerge = (target, source, options): string[] => {\n    const destination = target.slice();\n    source.forEach((item, index) => {\n        if (typeof destination[index] === 'undefined') {\n            destination[index] = options.cloneUnlessOtherwiseSpecified(item, options);\n        } else if (options.isMergeableObject(item)) {\n            destination[index] = merge(target[index], item, options);\n        } else if (target.indexOf(item) === -1) {\n            destination.push(item);\n        }\n    });\n    return destination;\n};\n\n/**\n * Converts an enum into a CSV\n * @param {object} manifestSection - manifestSection where the key exists\n * @param {object} configPart - Property as mentioned in config file\n * @param {string} key - Property to be exported to manifest\n */\nexport function convertEnumToCSV(manifestSection, configPart, key: string): void {\n    manifestSection[key] = JSON.parse(JSON.stringify(configPart[key]));\n    // convert enum array to joined string\n    const field = configPart[key];\n    manifestSection[key] = field.join();\n}\n\n/**\n * Converts an action ID from the internal format (schema, config) to the stable ID representation\n * @param actionId - the (unique) internal format of the action ID\n * @returns the converted action ID\n */\nexport function convertActionKeyToStableId(actionId: string): string {\n    return (actionId.indexOf('??') > -1 ? actionId.split('??')[1] : actionId).replace(/@/g, '::');\n}\n\n/**\n * Method returns definition key for passed '$ref' property by removing 'definition' prefix\n * @param {string} $ref Definition reference.\n * @returns Definition key.\n */\nexport function getDefinitionKey($ref: string): string {\n    return $ref?.split(DEFINITION_LINK_PREFIX)[1];\n}\n\n/**\n * Method returns definition $ref' property for passed definition key.\n * @param {string} key Definition key.\n * @returns Definition reference.\n */\nexport function getDefinitionsRef(key: string): string {\n    return `#/definitions/${key}`;\n}\n\n/**\n * Returns the message property if the error is an instance of `Error` else a string representation of the error.\n *\n * @param error {Error | unknown} - the error instance\n * @returns {string} the error message\n */\nexport function getErrorMessage(error: Error | unknown): string {\n    return error instanceof Error ? error.message : String(error);\n}\n\n/**\n * Method checks if passed array of features contains required feature.\n *\n * @param {FeatureToggle[]} [featureToggles] Array of features.\n * @param {FeatureToggle} [feature] Feature to check if it is supported.\n * @returns {boolean} True if passed feature is supported.\n */\nexport function isFeatureSupported(featureToggles?: FeatureToggle[], feature?: FeatureToggle): boolean {\n    return featureToggles?.includes(feature);\n}\n\n/**\n * Method adds indices (propertyIndex property) to app-specific JSON schema properties.\n *\n * @param {Definition} [schema] App-specific JSON schema.\n * @param {string[]} [order] Order of properties.\n * @returns {void} Updates app-specific JSON schema properties with indices.\n */\nexport function updatePropertyIndices(schema: Definition, order: string[]): void {\n    order.forEach((propertyName: string, index: number) => {\n        if (schema.properties[propertyName]) {\n            schema.properties[propertyName]['propertyIndex'] = index;\n        }\n    });\n}\n", "export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}", "import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}", "import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}", "import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}", "import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}", "export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}", "export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}", "export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}", "export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}", "import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\n\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n\n      if (mix === undefined) return undefined;\n      if (typeof mix === 'string') return mix;\n      if (p && typeof mix[p] === 'string') return mix[p];\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n\n    current = current[paths[i]];\n  }\n\n  return current;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread({}, options, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k, fallbackValue) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? fallbackValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? fallbackValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.supportedLngs || false;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      this.logger.deprecate('languageUtils.isWhitelisted', 'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.');\n      return this.isSupportedCode(code);\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      return this.getSuffixes(code).map(function (suffix) {\n        return key + suffix;\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n\n      var rule = this.getRule(code);\n\n      if (!rule) {\n        return [];\n      }\n\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread({}, options, data, {\n            interpolationkey: key\n          })) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread({}, options, data, {\n          interpolationkey: k\n        }));\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n\n          if (skipOnVariables) {\n            todo.regex.lastIndex += safeValue.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread({}, options, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    whitelist: false,\n    nonExplicitWhitelist: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: false\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.whitelist) {\n    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n      options.whitelist = options.whitelist.concat(['cimode']);\n    }\n\n    options.supportedLngs = options.whitelist;\n  }\n\n  if (options.nonExplicitWhitelist) {\n    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;\n  }\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (options.whitelist && !options.supportedLngs) {\n        this.logger.deprecate('whitelist', 'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {\n        this.logger.deprecate('whitelist', 'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        };\n\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            _this4.language = l;\n            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages\n      };\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nexport default i18next;\n", "import type { ExtensionLogger, LogSeverity, Location } from '@sap/ux-specification-types';\nimport { LogSeverityLabel } from '@sap/ux-specification-types';\n\n/**\n * Internal representation of one log entry\n */\ninterface LogEntry {\n    severity: LogSeverity;\n    message: string;\n    location?: Location;\n}\n\n/**\n * Function to create a new log entry and add it to the logger.\n * If no logger is passed, puts the message to the console\n * @param logger - the logger instance\n * @param message - the log message\n * @param meta - option list of strings/objects\n */\nexport const log = (logger: ExtensionLogger, logEntry: LogEntry, ...meta: (object | string | number)[]): void => {\n    if (logger) {\n        logger[logEntry.severity](logEntry.message, logEntry.location, ...meta);\n    } else {\n        if (logEntry.location) {\n            if (logEntry.location.range) {\n                console.log(\n                    `${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}, location: ${\n                        logEntry.location.path\n                    }, ${logEntry.location.range}`,\n                    ...meta\n                );\n            } else {\n                console.log(\n                    `${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}, location: ${logEntry.location.path}`,\n                    ...meta\n                );\n            }\n        } else {\n            console.log(`${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}`, ...meta);\n        }\n    }\n};\n", "import type { AnnotationTerm, ConvertedMetadata, EntityType } from '@sap-ux/vocabularies-types';\nimport type { LineItem } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type {\n    v2,\n    FacetConfigs,\n    FacetConfig,\n    FileData,\n    GenerateAppSchemaParameters,\n    ExtensionLogger\n} from '@sap/ux-specification-types';\nimport {\n    ArtifactType,\n    SchemaKeyName,\n    ControlType,\n    SectionType,\n    FioriElementsVersion,\n    ManifestSection,\n    METADATAPATH,\n    FacetBase,\n    FacetTitlePrefix,\n    DefinitionName,\n    MANIFESTPATH,\n    LogSeverity,\n    PropertyName,\n    SchemaTag\n} from '@sap/ux-specification-types';\nimport { getDataFieldDescription, updatePropertyIndices } from '../../common';\nimport {\n    getObjectPageFacets,\n    createDefaultSection,\n    getObjectPageFacetSection,\n    DEFINITION_LINK_PREFIX,\n    addFieldsType,\n    addDefinitionForRelatedFacetKeys,\n    addSectionTitleAndDescription,\n    handleAddressContact,\n    handleForm,\n    addPatternForBindingChangeOfEnumOP,\n    getActionNameAndId,\n    addFooterActions,\n    addHeaderActions,\n    addCommonHeaderSchema,\n    prepareRef,\n    determineEntitySetOfFacet,\n    addEnumForSingleTabVariant\n} from '../../common';\nimport { addLineItemsType, addTableColumnExtensions } from './utils';\nimport { findObjectPageV2 } from '../import';\nimport { log } from '../../../extensionLogger';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../i18n/i18n';\nimport { SectionTypeV2 } from '../types';\nimport type { Definition } from 'typescript-json-schema';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\n\nconst ROOT_PROPERTIES_ORDER: Array<keyof v2.ObjectPageConfigV2> = ['header', 'sections', 'footer'];\n\n/**\n * Adds flexChange properties for sub(sections)\n * @param appSchema - app schema in general\n * @param schemaSection - current section\n * @param property - property that will be enhanced\n * @param sectionType - type of section\n */\nfunction addFlexChangeForSection(\n    appSchema: Definition,\n    schemaSection: Definition,\n    property: string,\n    sectionType: SectionTypeV2\n) {\n    schemaSection.properties[property][SchemaTag.artifactType] = ArtifactType.FlexChange;\n    let controlType: ControlType;\n    switch (sectionType) {\n        case SectionTypeV2.Section:\n        case SectionTypeV2.SectionForm:\n        case SectionTypeV2.SectionChart:\n        case SectionTypeV2.SectionTable:\n            controlType = ControlType.Section;\n            break;\n        case SectionTypeV2.SubSection:\n            controlType = ControlType.SubSection;\n            break;\n        case SectionTypeV2.SubSectionForm:\n            controlType = ControlType.Group;\n            break;\n        case SectionTypeV2.SubSectionChart:\n            controlType = ControlType.SmartChart;\n            break;\n        case SectionTypeV2.SubSectionTable:\n            controlType = ControlType.SmartTable;\n            break;\n    }\n    if (!controlType) {\n        return;\n    }\n    addPatternForBindingChangeOfEnumOP(appSchema, schemaSection, property);\n    schemaSection.properties[property][SchemaTag.controlType] = controlType;\n}\n\n/**\n * Callback for adding a single action to headerActions of V2\n * @param {EntityType} entityType - current entity type\n * @param {object} appSchema Schema of the app\n * @param actionAnnotation - annotation as present in AVT ConvertedMetadata\n * @param headerActions - list of header actions, to be enhanced\n */\nfunction addHeaderActionCallBackV2(\n    entityType,\n    appSchema: Definition,\n    actionAnnotation: any,\n    headerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    return (item, index) => {\n        if (!item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const { actionName, actionId, namespace } = getActionNameAndId(item, entityType, oDataServiceAVT);\n            //actionId is used as key in V2, as this is the right part for building the full stable ID\n            if (!actionId) {\n                return;\n            }\n            const description = item.Label || actionName;\n            const actionDefinitionKey = `ObjectPageHeaderAction<${prepareRef(actionId)}>`;\n            appSchema.definitions[actionDefinitionKey] = JSON.parse(\n                JSON.stringify(appSchema.definitions['ObjectPageHeaderAction'])\n            );\n            const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n            appSchema.definitions[actionDefinitionKey][\n                SchemaTag.annotationPath\n            ] = `/${convertedIdentification}/${index}`;\n            (appSchema.definitions[actionDefinitionKey] as Definition).description = description;\n            appSchema.definitions[actionDefinitionKey][SchemaTag.keys] = [\n                { name: SchemaKeyName.action, value: actionName }\n            ];\n            if (namespace) {\n                appSchema.definitions[actionDefinitionKey][SchemaTag.target] = namespace;\n            }\n\n            headerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Callback for adding a single action to footerActions of V2\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param {Definition} footerActions - list of footer actions, to be enhanced\n * @param {String} convertedIdentification - converted UI.Identification term\n */\nfunction addFooterActionCallBackV2(\n    entityType,\n    appSchema: Definition,\n    footerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    convertedIdentification\n): any {\n    return (item, index) => {\n        if (item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const action = getStableIdPartFromDataField(item);\n            const actionId = action.split('::').splice(1).join('::');\n            const description = getDataFieldDescription(item, entityType);\n            const actionDefinitionKey = prepareRef(`${DefinitionName.ObjectPageFooterAction}<${actionId}>`);\n\n            appSchema.definitions[actionDefinitionKey] = {\n                ...JSON.parse(JSON.stringify(appSchema.definitions[DefinitionName.ObjectPageFooterAction])),\n                description,\n                annotationPath: `/${convertedIdentification}/${index}`\n            };\n\n            footerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Method ensures that definitions for custom columns are created for passed entitySet.\n * @param {object} appSchema App schema in general\n * @param {object} manifest manifest.json of the app\n * @param {string} entitySetName Entity set name.\n * @param {string} entityTypeName Entity type name.\n * @param {ConvertedMetadata} oDataServiceAVT Complete service information, as returned by annotation vocabularies tool\n * @param {FacetConfig} facet information\n * @param {string} facetKey - key of the facet, as listed in FacetConfigs\n * @param {FileData[]} [fragments] Array with XML fragments.\n * @return {string} Name of custom columns definition.\n */\nfunction ensureCustomColumnDefinitionExists(\n    appSchema: Definition,\n    manifest: object,\n    entitySetName: string,\n    entityTypeName: string,\n    oDataServiceAVT: ConvertedMetadata,\n    facet: FacetConfig,\n    facetKey: string,\n    fragments?: FileData[]\n): string {\n    let suffix, customColumnsDefinitionName;\n    if (facet.ID && facet.Label) {\n        suffix = facet.ID + facet.Label.replace(/\\s+/g, '');\n    } else if (facet.ID) {\n        suffix = facet.ID;\n    } else if (facet.Label) {\n        suffix = facet.Label.replace(/\\s+/g, '');\n    }\n    if (suffix) {\n        customColumnsDefinitionName = `${DefinitionName.CustomColumns}<${entitySetName}><${facetKey}><${suffix}>`;\n    } else {\n        customColumnsDefinitionName = `${DefinitionName.CustomColumns}<${entitySetName}><${facetKey}>`;\n    }\n\n    if (appSchema.definitions[customColumnsDefinitionName]) {\n        // Definition is already created - we do not need to create it again\n        return customColumnsDefinitionName;\n    }\n    // Create type specific 'TableCustomColumn' definition - use entity set as type.\n    const customColumnDefinitionName = `${DefinitionName.CustomColumn}<${entitySetName}>`;\n    const customColumnDefinition = JSON.parse(JSON.stringify(appSchema.definitions['TableCustomColumn']));\n    appSchema.definitions[customColumnDefinitionName] = customColumnDefinition;\n    // Update definitions for type specific custom columns\n    const pageKeys = [];\n    const entityType = oDataServiceAVT?.entityTypes.find((et) => et.name === entityTypeName);\n    const v2Page = findObjectPageV2(manifest[ManifestSection.generic].pages, entitySetName, pageKeys);\n    addTableColumnExtensions(\n        appSchema,\n        entityType,\n        v2Page,\n        manifest,\n        fragments,\n        customColumnsDefinitionName,\n        customColumnDefinitionName\n    );\n    return customColumnsDefinitionName;\n}\n\n/**\n * Method fills new app schema section with properties.\n * @param {Definition} appSchema App schema in general\n * @param {object} appSchemaSection app schema section to be filled\n * @param {SectionTypeV2} sectionType (sub)section type\n * @param {SectionTypeV2} mainSectionType main section type, used to fill app schema section\n */\nfunction addAppSchemaDefinition(\n    appSchema: Definition,\n    appSchemaSection: Definition,\n    sectionType: SectionTypeV2,\n    mainSectionType: SectionTypeV2\n): void {\n    appSchemaSection.properties = JSON.parse(\n        JSON.stringify((appSchema.definitions[mainSectionType] as Definition).properties)\n    );\n    if (appSchemaSection.properties.visible) {\n        addFlexChangeForSection(appSchema, appSchemaSection, 'visible', sectionType);\n    }\n}\n\n/**\n * Method adds reference to section property key.\n * @param {object} sections - schema of current sections definition\n * @param {string} key section key which will contain the reference\n * @param {string} definitionKey key which the section should point to\n */\nfunction addSectionReference(sections: Definition, key: string, definitionKey: string) {\n    sections.properties[key] = { $ref: `${DEFINITION_LINK_PREFIX}${definitionKey}` };\n}\n\n/**\n * Reuse function for all table types, copies and adapts the generic definition\n * @param tableType - Table type\n * @param facetId - facet ID, as derived for the given section\n * @param facet - facet or section information\n * @param appSchema - app-specific schema, to be updated\n */\nfunction addTableDefinition(tableType: string, facetId: string, facet: FacetConfig, appSchema: Definition): void {\n    const schemaId = prepareRef(`${tableType}<${facetId}>`);\n    appSchema.definitions[schemaId] = JSON.parse(JSON.stringify(appSchema.definitions[tableType]));\n    appSchema.definitions[schemaId]['properties']['columns']['$ref'] = DEFINITION_LINK_PREFIX + facetId;\n    (appSchema.definitions[schemaId] as Definition).properties.toolBar[\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}ObjectPageToolBar<${facetId}>`;\n    appSchema.definitions[schemaId][SchemaTag.annotationPath] = facet.annotationPath;\n    if (facet.ID !== undefined) {\n        (appSchema.definitions[schemaId] as Definition).title = FacetTitlePrefix + facet.ID;\n        appSchema.definitions[schemaId][SchemaTag.keys] = [{ name: `ID`, value: facet.ID }];\n    }\n    (appSchema.definitions[schemaId] as Definition).description = DefinitionName.Table;\n\n    //adjust quickVariantSelection\n    (appSchema.definitions[schemaId] as Definition).properties['quickVariantSelection'][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}QuickVariantSelectionOP<${facetId}>`;\n    appSchema.definitions[`QuickVariantSelectionOP<${facetId}>`] = JSON.parse(\n        JSON.stringify(appSchema.definitions['QuickVariantSelectionOP'])\n    );\n    appSchema.definitions[`QuickVariant<${facetId}>`] = JSON.parse(\n        JSON.stringify(appSchema.definitions['QuickVariant'])\n    );\n    (\n        (appSchema.definitions[`QuickVariantSelectionOP<${facetId}>`] as Definition).properties.variants as Definition\n    ).patternProperties['^[0-9]+$']['$ref'] = `${DEFINITION_LINK_PREFIX}QuickVariant<${facetId}>`;\n\n    addEnumForSingleTabVariant(facet.entityType, appSchema, `QuickVariant<${facetId}>`);\n}\n\n/**\n * Adds definitions for line items in object page sections to the app schema\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {string} facetKey - key of the facet, as listed in FacetConfigs\n * @param {Definition} appSchema - app schema in general\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {FacetConfigs} facets - list of all facets\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleLineItem(\n    generateParameters: GenerateAppSchemaParameters,\n    facetKey: string,\n    appSchema: Definition,\n    facet: FacetConfig,\n    facets: FacetConfigs,\n    sectionType?: SectionTypeV2\n): void {\n    if (facet.base !== FacetBase.LineItem || !facetKey) {\n        //no properties\n        return;\n    }\n    const navigationProperty = facetKey.split('::')[0];\n    const schemaIdForOpSection = `${sectionType}<${facetKey}>`;\n\n    appSchema.definitions[schemaIdForOpSection] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[schemaIdForOpSection] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionTable);\n    appSchemaSection.properties.table = JSON.parse(\n        JSON.stringify(appSchema.definitions[SectionTypeV2.SectionTable]['properties'][PropertyName.table])\n    );\n    (appSchemaSection.properties.table as Definition).anyOf = [\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageResponsiveTableWithMultiSelect<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageResponsiveTableWithInlineDelete<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageAnalyticalTable<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageGridTable<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageTreeTable<${facetKey}>`\n        }\n    ];\n    appSchemaSection[SchemaTag.annotationPath] = facet.annotationPath;\n    addSectionTitleAndDescription(facet, appSchemaSection, facetKey);\n\n    addTableDefinition('ObjectPageResponsiveTableWithMultiSelect', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageResponsiveTableWithInlineDelete', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageGridTable', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageTreeTable', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageAnalyticalTable', facetKey, facet, appSchema);\n\n    let customColumnDefinitionKey;\n    // Find target entity\n    const targetEntitySet = determineEntitySetOfFacet(facet, generateParameters.serviceAVT);\n    if (targetEntitySet) {\n        // Make sure that custom columns definitions are created for passed entity\n        customColumnDefinitionKey = ensureCustomColumnDefinitionExists(\n            appSchema,\n            generateParameters.manifest,\n            targetEntitySet.name,\n            facet.entityType.name,\n            generateParameters.serviceAVT,\n            facet,\n            facetKey,\n            generateParameters.fragments\n        );\n    }\n    for (const facetItem in facets) {\n        if (facets[facetItem].base === FacetBase.LineItem && facetItem.includes(navigationProperty)) {\n            addLineItemsType(\n                appSchema,\n                facets[facetItem].target as AnnotationTerm<LineItem>,\n                facets[facetItem].entityType,\n                facetItem,\n                customColumnDefinitionKey\n            );\n        }\n    }\n}\n\n/**\n * Adds definitions for subsections in object page sections to the app schema\n * @param {Definition} appSchema - app schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetId - key of the facet, as listed in FacetConfigs\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleSubSection(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetId: string,\n    sectionType: SectionTypeV2\n): void {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetId);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SubSection);\n    appSchemaSection.properties.subsections = {\n        type: 'object',\n        description: 'Subsections',\n        properties: {},\n        additionalProperties: false\n    };\n    appSchemaSection.properties.subsections[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Method fills new chart section with properties.\n * @param {Definition} appSchema App schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleSectionChart(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetKey: string,\n    sectionType: SectionTypeV2\n) {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionChart);\n}\n\n/**\n * Method fills new form section in app schema with properties.\n * @param {Definition} appSchema App schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n * @return {object} returns filled form section in app schema.\n */\nfunction handleFormSection(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetKey: string,\n    sectionType: SectionTypeV2\n) {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionForm);\n    appSchemaSection[SchemaTag.annotationPath] = facet.annotationPath;\n    appSchemaSection[SchemaTag.isViewNode] = true;\n    return appSchemaSection;\n}\n\n/**\n * Mapping of facet type to (sub)section type to enable correct further handling\n * @param {FacetBase} facetType - facet type to be mapped\n * @param {boolean} isSubSection - if section is subsection of section\n * @return {SectionTypeV2} sectionType (sub)section type\n */\nfunction getSectionType(facetType: FacetBase, isSubSection: boolean) {\n    const sectionTypeMapping = new Map<FacetBase, SectionTypeV2>([\n        [FacetBase.CollectionFacet, SectionTypeV2.Section],\n        [FacetBase.LineItem, SectionTypeV2.SectionTable],\n        [FacetBase.Chart, SectionTypeV2.SectionChart],\n        [FacetBase.Address, SectionTypeV2.SectionAddress],\n        [FacetBase.Contact, SectionTypeV2.SectionContact],\n        [FacetBase.Form, SectionTypeV2.SectionForm],\n        [FacetBase.Identification, SectionTypeV2.SectionForm]\n    ]);\n    const subSectionTypeMapping = new Map<FacetBase, SectionTypeV2>([\n        [FacetBase.CollectionFacet, SectionTypeV2.SubSection],\n        [FacetBase.LineItem, SectionTypeV2.SubSectionTable],\n        [FacetBase.Chart, SectionTypeV2.SubSectionChart],\n        [FacetBase.Address, SectionTypeV2.SubSectionAddress],\n        [FacetBase.Contact, SectionTypeV2.SubSectionContact],\n        [FacetBase.Form, SectionTypeV2.SubSectionForm],\n        [FacetBase.Identification, SectionTypeV2.SubSectionForm]\n    ]);\n    if (isSubSection) {\n        return subSectionTypeMapping.get(facetType);\n    } else {\n        return sectionTypeMapping.get(facetType);\n    }\n}\n\n/**\n * Method returns reference key, special handling of (sub)sections\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n * @return {string} reference key\n */\nfunction getReferenceKey(facet, facetKey, sectionType): string {\n    let referenceKey = facetKey;\n    if (sectionType === (SectionTypeV2.Section || SectionTypeV2.SubSection)) {\n        referenceKey = referenceKey.replace(`@${UIAnnotationTerms.Facets}`, facet.base);\n    }\n    return `${referenceKey}`;\n}\n\n/**\n * Creates a section definition in app schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {FacetConfigs} facets - list of all facets.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced.\n * @param {boolean} isSubSection - if section is subsection of section\n */\nfunction addSection(\n    generateParameters: GenerateAppSchemaParameters,\n    facets: FacetConfigs,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    isSubSection = false\n): void {\n    const facet: FacetConfig = facets[facetKey];\n    const sectionType = getSectionType(facet.base, isSubSection);\n    const referenceKey = getReferenceKey(facet, facetKey, sectionType);\n    const definitionKey = `${sectionType}<${referenceKey}>`;\n    addSectionReference(sections, referenceKey, definitionKey);\n    switch (sectionType) {\n        case SectionTypeV2.Section:\n        case SectionTypeV2.SubSection: {\n            //handle collection facets\n            isSubSection = true;\n            handleSubSection(appSchema, definitionKey, facet, facetKey, sectionType);\n            const subSections = (appSchema.definitions[definitionKey] as Definition).properties\n                .subsections as Definition;\n            for (const key in facet.facets) {\n                addSection(generateParameters, facet.facets, key, subSections, appSchema, isSubSection);\n            }\n            break;\n        }\n        case SectionTypeV2.SectionTable:\n        case SectionTypeV2.SubSectionTable: {\n            handleLineItem(generateParameters, facetKey, appSchema, facet, facets, sectionType);\n            //add fields for createWithParameterDialog\n            const floorplanSuffix = 'OP';\n            addFieldsType(appSchema, facet.entityType, floorplanSuffix);\n            break;\n        }\n        case SectionTypeV2.SectionChart:\n        case SectionTypeV2.SubSectionChart: {\n            //handle reference facet (if comprising chart)\n            handleSectionChart(appSchema, definitionKey, facet, facetKey, sectionType);\n\n            break;\n        }\n        case SectionTypeV2.SectionForm:\n        case SectionTypeV2.SubSectionForm: {\n            const appSchemaSection = handleFormSection(appSchema, definitionKey, facet, facetKey, sectionType);\n            handleForm(SectionType.Section, facet, appSchemaSection, appSchema, FioriElementsVersion.v2, facetKey);\n            break;\n        }\n        case SectionTypeV2.SectionAddress:\n        case SectionTypeV2.SectionContact: {\n            handleAddressContact(facet, facetKey, sections, appSchema, SectionType.Section, undefined, 'V2');\n            break;\n        }\n        case SectionTypeV2.SubSectionAddress:\n        case SectionTypeV2.SubSectionContact: {\n            handleAddressContact(\n                facet,\n                facetKey,\n                sections,\n                appSchema,\n                SectionType.Section,\n                SectionType.SubSection,\n                'V2'\n            );\n            break;\n        }\n        default: {\n            // Other facets -> only default properties of ObjectPageSection\n            sections.properties[facetKey] = createDefaultSection(appSchema, facet, facetKey);\n        }\n    }\n}\n\n/**\n * Adds the sections to the app schema\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced\n * @param {SapUiAppPagesV2} pages - list of (manifest) pages\n */\nfunction addSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    pages: v2.SapUiAppPagesV2\n): void {\n    const sections = appSchema.definitions[DefinitionName.Sections] as Definition;\n    sections[SchemaTag.isViewNode] = true;\n    if (generateParameters.entitySet.entityType) {\n        sections[\n            SchemaTag.annotationPath\n        ] = `/${generateParameters.entitySet.entityType.fullyQualifiedName}/@${UIAnnotationTerms.Facets}`;\n    }\n\n    if (!pages) {\n        return;\n    }\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageFacets(\n        generateParameters.entitySet.entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v2,\n        generateParameters.logger\n    );\n    if (!facets || Object.keys(facets).length === 0) {\n        return;\n    }\n\n    // Loop on all pages, look for the right entity set\n    for (const key in pages) {\n        const element = pages[key];\n        if (generateParameters.entitySet.name.includes(element.entitySet)) {\n            // Loop on all facets (of the given entitySet)\n            for (const facetKey in facets) {\n                addSection(generateParameters, facets, facetKey, sections, appSchema);\n            }\n        } else {\n            addSections(generateParameters, appSchema, element.pages);\n        }\n    }\n\n    // Add custom sections\n    const customSections = appSchema.definitions['CustomSections'] as Definition;\n    for (const name in customSections.properties) {\n        sections.properties[name] = customSections.properties[name];\n    }\n}\n\n/**\n * Add Object Page Header to app-specific schema\n *\n * @param {object} appSchema Schema of the app\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n */\nfunction addHeader(appSchema: object, entityType: EntityType, oDataServiceAVT: ConvertedMetadata): void {\n    addCommonHeaderSchema(appSchema, entityType);\n\n    //Add header actions\n    addHeaderActions(appSchema, entityType, oDataServiceAVT, addHeaderActionCallBackV2);\n}\n\n/**\n * Adds the related facets keys 'enum' to the app schema\n * @param schema - app specific schema that potentially gets enhanced\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction addRelatedFacetKeysType(\n    schema: object,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger\n): void {\n    // Find sections from annotation\n    // And create new definition in schema as enum with description\n    const facetSections = getObjectPageFacetSection(entityType, oDataServiceAVT, logger, undefined, true);\n    if (facetSections) {\n        addDefinitionForRelatedFacetKeys(\n            schema,\n            ['ObjectPageCustomSectionFragment', 'ObjectPageCustomSectionView'],\n            facetSections,\n            ['ID', 'key']\n        );\n    }\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema - generic JSON schema of an object page\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object\n): object {\n    // Initialize i18next\n    initI18n();\n\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    // Custom sections as part of sections\n    const additionalSections = {};\n    for (const name in appSchema.definitions['CustomSections']['properties']) {\n        additionalSections[name] = (appSchema.definitions['CustomSections'] as Definition).properties[name];\n    }\n\n    // Change reference to generated sections\n    appSchema.properties[PropertyName.sections] = {\n        $ref: DEFINITION_LINK_PREFIX + 'Sections'\n    };\n\n    const entityType = generateParameters.entitySet?.entityType;\n    if (entityType) {\n        generateParameters.entityType = entityType;\n        const pages = generateParameters.manifest[ManifestSection.generic].pages;\n        if (!pages) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n\n        // Add header\n        addHeader(appSchema, entityType, generateParameters.serviceAVT);\n\n        // Add sections\n        appSchema.definitions[DefinitionName.Sections] = {\n            type: 'object',\n            properties: {},\n            description: 'Sections',\n            additionalProperties: false\n        };\n        addSections(generateParameters, appSchema, pages);\n\n        // Custom section facets\n        addRelatedFacetKeysType(appSchema, entityType, generateParameters.serviceAVT, generateParameters.logger);\n\n        if (!appSchema.definitions.Sections) {\n            if (appSchema.definitions.RelatedFacetKeys && appSchema.definitions.RelatedFacetKeys['oneOf'].length) {\n                // If related facets exists - then we need sections definition\n                appSchema.definitions.Sections = {\n                    type: 'object',\n                    properties: additionalSections,\n                    additionalProperties: false\n                };\n                appSchema.definitions.Sections[SchemaTag.isViewNode] = true;\n            } else {\n                delete appSchema.properties[PropertyName.sections];\n            }\n        }\n        addFooterActions(appSchema, generateParameters, FioriElementsVersion.v2, addFooterActionCallBackV2);\n\n        // Eliminate generic definitions\n        delete appSchema.definitions['GenericSections'];\n        delete appSchema.definitions['GenericSubSections'];\n        delete appSchema.definitions['ObjectPageSectionTableV2'];\n        delete appSchema.definitions['GenericColumns'];\n        delete appSchema.definitions['TableColumnAction'];\n        delete appSchema.definitions['ObjectPageSectionFormV2'];\n        delete appSchema.definitions['ObjectPageSectionTableV2'];\n        delete appSchema.definitions['ObjectPageSubSectionV2'];\n        delete appSchema.definitions['ObjectPageResponsiveTableWithMultiSelect'];\n        delete appSchema.definitions['ObjectPageResponsiveTableWithInlineDelete'];\n        delete appSchema.definitions['ObjectPageAnalyticalTable'];\n        delete appSchema.definitions['ObjectPageTreeTable'];\n        delete appSchema.definitions['ObjectPageGridTable'];\n        delete appSchema.definitions['ObjectPageToolBar'];\n        delete appSchema.definitions['ObjectPageToolBarActions'];\n        delete appSchema.definitions['ObjectPageForm'];\n        delete appSchema.definitions['ObjectPageFormFields'];\n        delete appSchema.definitions['ObjectPageFormActions'];\n        delete appSchema.definitions['FieldPathOP'];\n    }\n    updatePropertyIndices(appSchema, ROOT_PROPERTIES_ORDER);\n    return appSchema;\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ControlTypeFunction } from '@sap/ux-specification-types';\nimport {\n    FacetBase,\n    FacetTitlePrefix,\n    BindingPropertyRegexAsString,\n    VOCWITHSLASH,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX } from '../utils';\n\n/**\n * General export rule, joining all given breadcrumbs to the base ID\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n */\nexport const buildControlIdFromParent = (baseId: string, idBreadcrumbs: string[]): string => {\n    return baseId + idBreadcrumbs.join('::');\n};\n\n/**\n * Export rule for pages\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n * @param breadcrumbs - array of breadcrumbs\n */\nexport const buildControlIdForPage = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    return baseId + idBreadcrumbs.join('::') + breadcrumbs[0];\n};\n\n/**\n * Converts the section id to the right string for the stable id:\n * If the corresponsing facet has ID maintained, we must take this ID. If ID is not present, take the navigation path.\n * @param sectionId - old ID that shall get converted\n * @param breadcrumbs - array of breadcrumbs\n * @param title - title from JSON schema, comprising the facet ID\n */\nexport const convertSectionId = (sectionId: string, title: string): string => {\n    let convertedSectionId: string;\n    const prefix: string = FacetTitlePrefix;\n    if (title !== undefined && title.includes(prefix)) {\n        convertedSectionId = title.split(prefix)[1];\n    } else {\n        convertedSectionId = sectionId.replace(new RegExp('/@', 'g'), '::').replace(/@com.sap/g, 'com.sap');\n    }\n    return convertedSectionId;\n};\n\nexport function escapeId(sParam: string): string {\n    /* escape all characters not allowed in stable ids with :<hexcode>\n     * as we use : as escape character, also escape :\n     */\n    return sParam.replace(/[^-A-Za-z0-9_.:]/g, function (c) {\n        const sCode = c.charCodeAt(0).toString(16);\n        return `:${sCode.length === 1 ? '0' : ''}${sCode}`;\n    });\n}\n\n/**\n * Binding Change values, will be added on object pages  */\nexport enum BindingValue {\n    Editable = '{ui>/editable}',\n    NotEditable = '{= !${ui>/editable}}'\n}\n\n/**\n * Consolidates the list of id's and other breadcrumbs into one list, for finding the right stable ID for a column\n * @param idBreadcrumbs - array of ID parts\n * @param localBreadcrumbs - array of breadcrumbs\n * @param title - (section) title = facet ID\n * @returns the consolidated breadcrumbs' list\n */\nfunction mapBreadcrumbs(idBreadcrumbs: string[], localBreadcrumbs: string[], title: string) {\n    let sectionId: string;\n    idBreadcrumbs = idBreadcrumbs.map(function (item) {\n        if (item === PropertyName.sections) {\n            for (let index = 0; index < localBreadcrumbs.length; index++) {\n                const breadcrumb = localBreadcrumbs[index];\n                if (breadcrumb === PropertyName.sections) {\n                    sectionId = localBreadcrumbs[index + 1];\n                    if (sectionId.indexOf(FacetBase.LineItem) !== -1) {\n                        localBreadcrumbs[index + 1] = convertSectionId(sectionId, title) + '::Table';\n                        return localBreadcrumbs[index + 1];\n                    }\n                }\n            }\n        }\n        return item;\n    });\n    return { idBreadcrumbs };\n}\n\n/**\n * Export rule for table columns\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n * @param breadcrumbs - array of breadcrumbs\n * @param controlType - controlType function of ecorators, not used here\n * @param title - title from JSON schema, comprising the facet ID\n */\nexport const buildColumnControlId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    title: string\n): string => {\n    let tableId = 'listReport'; //default\n    const localBreadcrumbs = [...breadcrumbs];\n\n    ({ idBreadcrumbs } = mapBreadcrumbs(idBreadcrumbs, localBreadcrumbs, title));\n    if (localBreadcrumbs[0] === PropertyName.sections) {\n        tableId = localBreadcrumbs[1]\n            .replace(/::com.sap.vocabularies/g, VOCWITHSLASH)\n            .replace(/::@com.sap.vocabularies/g, VOCWITHSLASH);\n    } else if (idBreadcrumbs[0] === PropertyName.table) {\n        tableId = idBreadcrumbs[0];\n    }\n    const lastIdPart = localBreadcrumbs[localBreadcrumbs.length - 1]\n        .replace(/::com.sap.vocabularies/g, VOCWITHSLASH)\n        .replace(/::@com.sap.vocabularies/g, VOCWITHSLASH)\n        .replace('sTarget/@', 'sTarget::@')\n        .replace('/', ':2f');\n    let fullId: string;\n    const splitPoint = lastIdPart.indexOf(':::');\n    if (lastIdPart.startsWith('DataField') && splitPoint > -1) {\n        fullId = `${baseId}template:::TableColumn:::${lastIdPart.substring(\n            0,\n            splitPoint\n        )}:::sSmartTableId::${tableId.replace('::Table', ':3a:3aTable')}:::${lastIdPart.substring(splitPoint + 3)}`;\n    } else {\n        fullId = `${baseId}${idBreadcrumbs.join('::')}-${lastIdPart}`;\n    }\n    return escapeId(fullId);\n};\n\n/**\n * Split up action breadcrumb and return different parts from it\n * @param breadcrumbs - array of breadcrumbs\n * @returns {object} - actionType, semanticObjectId, actionId of action\n */\nexport const getActionBreadcrumbParts = (\n    breadcrumbs: string[]\n): { actionType: string | undefined; semanticObjectId: string | undefined; actionId: string } => {\n    const actionIdParts = breadcrumbs[breadcrumbs.length - 1].split(':::');\n    let actionType, semanticObjectId, actionId;\n    if (actionIdParts.length > 2) {\n        actionType = actionIdParts[0];\n        semanticObjectId = actionIdParts[1].split('::')[1];\n        actionId = actionIdParts[2].split('::')[1];\n    } else if (actionIdParts.length === 2) {\n        actionType = actionIdParts[0];\n        actionId = actionIdParts[1].split('sAction::')[1];\n    } else {\n        actionId = actionIdParts[0];\n    }\n    return { actionType, semanticObjectId, actionId };\n};\n\n/**\n * Determines the valid pattern for a binding change\n * @param schemaDefinition - definition in the JSON schema\n * @returns the pattern as string\n */\nfunction determinePattern(schemaDefinition: Definition): string {\n    let pattern = BindingPropertyRegexAsString;\n    if (schemaDefinition.enum) {\n        let enumPattern;\n        schemaDefinition.enum.forEach((enumValue) => {\n            if (!enumValue.toString().startsWith('{')) {\n                enumPattern = enumPattern ? `${enumPattern}|${enumValue.toString()}` : enumValue.toString();\n            }\n        });\n        pattern = `^(${enumPattern})$|${pattern}`;\n    }\n    if (schemaDefinition['type'] && schemaDefinition['type'] === 'boolean') {\n        pattern = `^(false|true)$|${pattern}`;\n    }\n    return pattern;\n}\n\n/**\n * Reuseable function for strings that allow binding changes\n * @param schema - the complete JSON schema\n * @param definition - definition in the JSON schema, to be updated\n * @param propertyName - property in the properties' list of the given definition\n * @param bindingValues - values that shall be added to the resulting enum\n */\nconst addPatternForBindingChangeOfEnum = (\n    schema: object,\n    definition: object,\n    propertyName: string,\n    bindingValues?: BindingValue[]\n): void => {\n    const propertyList = definition && definition['properties'];\n    if (propertyList[propertyName].pattern) {\n        return; //as already processed\n    }\n    const originalDefinition = propertyList[propertyName];\n    let resultDefinition = originalDefinition;\n    const targetDefinition = originalDefinition.$ref\n        ? schema['definitions'][originalDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1]]\n        : originalDefinition;\n    const description = originalDefinition.description ? originalDefinition.description : targetDefinition.description;\n    const pattern = determinePattern(targetDefinition);\n    if (targetDefinition['type'] && targetDefinition['type'] === 'boolean') {\n        resultDefinition = { enum: [false, true] };\n    }\n    if (bindingValues && resultDefinition['enum']) {\n        bindingValues.forEach((value) => {\n            if (resultDefinition['enum'].indexOf(value) === -1) {\n                resultDefinition['enum'].push(value);\n            }\n        });\n    }\n    propertyList[propertyName] = {\n        pattern: pattern,\n        anyOf: [\n            resultDefinition,\n            {\n                type: 'string'\n            }\n        ]\n    };\n    if (description) {\n        propertyList[propertyName].description = description;\n        delete originalDefinition.description;\n    }\n};\n\nexport const addPatternForBindingChangeOfEnumLR = (schema: object, definition: object, propertyName: string): void => {\n    addPatternForBindingChangeOfEnum(schema, definition, propertyName);\n};\n\nexport const addPatternForBindingChangeOfEnumOP = (schema: object, definition: object, propertyName: string): void => {\n    const bindingValues = Object.values(BindingValue);\n    addPatternForBindingChangeOfEnum(schema, definition, propertyName, bindingValues);\n};\n", "/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 \u00A7 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n", "import 'reflect-metadata';\nimport type { SyncRule, PageLayoutInformation, ValidityInformation } from '@sap/ux-specification-types';\n\nexport const reflectMetadataKey = Symbol('specificationMetadataKey');\nexport const syncRule = (propSpec: SyncRule): any => {\n    return Reflect.metadata(reflectMetadataKey, propSpec);\n};\n\nexport function getReflectMetadata(target: object, propertyName: string): SyncRule | undefined {\n    let rule: SyncRule;\n    if (target) {\n        rule = Reflect.getMetadata(reflectMetadataKey, target, propertyName);\n    }\n    return rule;\n}\n\nexport const pageLayoutInformation =\n    (pageInfo: PageLayoutInformation) =>\n    (constructor: Function): void => {\n        constructor.prototype.pageLayoutInformation = pageInfo;\n    };\n\nconst childIdKey = Symbol('childId');\nexport const childId = (id: string): any => {\n    return Reflect.metadata(childIdKey, id);\n};\n\nexport const getChildId = (target: any, propertyName: string): string => {\n    return Reflect.getMetadata(childIdKey, target, propertyName);\n};\n\nexport const getPageLayoutInformation = (target: any): PageLayoutInformation => {\n    return Object.getPrototypeOf(target).pageLayoutInformation;\n};\n\n/*\n * Validity decorator and functions for it\n */\n\nexport const validityMetadataKey = Symbol('validityMetadataKey');\nexport const validity = (propSpec: ValidityInformation): any => {\n    return Reflect.metadata(validityMetadataKey, propSpec);\n};\n\nexport function getTextForDeprecated(key: string, validityInformation?: ValidityInformation): string {\n    let text = `${key} is deprecated`;\n    if (validityInformation && validityInformation.deprecated) {\n        text = validityInformation.deprecated.since ? `${text} since ${validityInformation.deprecated.since}` : text;\n        text = validityInformation.deprecated.text ? `${text}. ${validityInformation.deprecated.text}` : text;\n    }\n\n    return text;\n}\n", "import type {\n    Manifest,\n    UI5Version,\n    ChangeDefinition,\n    ChangeDefinitionInCreation,\n    SyncRule\n} from '@sap/ux-specification-types';\nimport * as flexUtils from '@ui5/flexibility-utils';\nimport { FlexChangeLayer } from '@sap/ux-specification-types';\n\nconst changesUtils = flexUtils.default.change;\n\nconst defaultValues = {\n    isCustomer: false,\n    sapui5Version: ' ', // UI5 version should be set via exportConfig(). This is the fallback in case it's missing\n    creatingTool: 'SAPFioriTools',\n    type: 'propertyChange'\n};\n\n/**\n * Create a change as string (calls changeUtils from ui5-flexibility-utils)\n * @param change - properties required to create the change\n * @param manifest - the manifest.json file\n */\nexport function createChangeString(change: ChangeDefinitionInCreation, manifest: Manifest): string {\n    let changeString = '';\n    try {\n        for (const defaultValue in defaultValues) {\n            if (change[defaultValue] === undefined) {\n                change[defaultValue] = defaultValues[defaultValue];\n            }\n        }\n        changeString = changesUtils.createChangeString(change, manifest);\n    } catch (error) {\n        console.error(`Error while create flex change.`, error);\n    }\n    return changeString;\n}\n\n/**\n * Parse string and return the change as object (calls changeUtils from ui5-flexibility-utils)\n * @param changeString - string with serialized change\n */\nexport function parseChangeString(changeString: string): ChangeDefinition | boolean {\n    try {\n        return changesUtils.parse(changeString);\n    } catch (error) {\n        return false;\n    }\n}\n\n/**\n * Creates a flex change based on the given config information\n * @param configObject - current (sub)object of the configuration file\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param syncRule - export rule from the object classes decorator\n * @param ui5Version - SAP UI5 version\n * @param baseId - selector id of the current page\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n * @param layer - layer\n * @returns {ChangeDefinitionInCreation} - the newly created flex change\n */\nexport function fillFlexChangeContent(\n    configObject: object,\n    syncRule: SyncRule,\n    ui5Version: UI5Version,\n    key: string,\n    controlId: string\n): ChangeDefinitionInCreation {\n    const isCustomer = ui5Version.layer ? ui5Version.layer === FlexChangeLayer.Customer : true;\n\n    const flexChange: ChangeDefinitionInCreation = {\n        controlId, //syncRule.flex.controlId(baseId, ids, breadcrumbs, syncRule.flex.controlType, title),\n        controlType: syncRule.flex.controlType(),\n        content: {\n            property: key\n        },\n        sapui5Version: ui5Version.ui5Version,\n        isCustomer\n    };\n    if (configObject[key] !== undefined) {\n        if (syncRule.flex.exportFlexValue) {\n            syncRule.flex.exportFlexValue(flexChange, configObject, key);\n        } else if (configObject[key].toString().startsWith('{')) {\n            flexChange.content.newBinding = configObject[key];\n            flexChange.type = 'propertyBindingChange';\n        } else {\n            flexChange.content.newValue = configObject[key];\n        }\n    } else {\n        flexChange.content.newValue = null;\n    }\n    return flexChange;\n}\n", "import { createChangeString } from '../flexUtils';\nimport type { Manifest, ChangeDefinitionInCreation } from '@sap/ux-specification-types';\n\nexport function exportToFlexChange(change: ChangeDefinitionInCreation, manifest: Manifest): string {\n    return createChangeString(change, manifest);\n}\n", "import { DEFINITION_LINK_PREFIX, getTextForDeprecated } from '../';\nimport { log } from '../../../extensionLogger';\nimport type { Definition } from 'typescript-json-schema';\nimport type { SyncRule, DeprecatedProperties, ExtensionLogger } from '@sap/ux-specification-types/dist';\nimport { LogSeverity, FacetTitlePrefix, DefinitionName } from '@sap/ux-specification-types/dist';\n\n/**\n * Transfers the value of a single manifest setting to the config\n * @param syncRule - Metadata rule\n * @param manifestSection - Section in manifest.json\n * @param propertyKey - Key of the property or setting\n * @param configPart - Part of the config JSON\n * @param sectionId - Section or facet ID\n * @param breadcrumbs - list of breadcrumbs or id's describing the keys of all hierarchy levels\n */\nexport function importProperty(\n    syncRule: SyncRule,\n    manifestSection: {},\n    propertyKey: string,\n    configPart: { [key: string]: any },\n    sectionId?: string,\n    breadcrumbs?: string[]\n): void {\n    const manifestKey = syncRule.manifest.key || propertyKey;\n    const importHandler = syncRule.manifest.import;\n    if (importHandler && typeof importHandler === 'function') {\n        const value = importHandler(manifestSection, sectionId, propertyKey, breadcrumbs);\n        if (value !== undefined) {\n            configPart[propertyKey] = value;\n        }\n    } else if (manifestSection[manifestKey] !== undefined) {\n        configPart[propertyKey] = manifestSection[manifestKey];\n    }\n}\n\n/**\n * Validation during import: check if properties are marked as deprecated.\n * If so, log them.\n * @param deprecatedProperties - existing list, to be actualized\n * @param manifestSection - Section in manifest.json\n * @param path - path to the section in manifest\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function checkDeprecatedProperties(\n    deprecatedProperties: DeprecatedProperties | undefined,\n    manifestSection: {},\n    path: string,\n    logger?: ExtensionLogger\n): void {\n    if (manifestSection && deprecatedProperties) {\n        for (const key in manifestSection) {\n            const deprecated = deprecatedProperties[key];\n            if (deprecated) {\n                log(logger, {\n                    severity: LogSeverity.Warning,\n                    message: getTextForDeprecated(key, deprecated),\n                    location: {\n                        path: 'webapp/manifest.json/',\n                        range: path.split('/')\n                    }\n                });\n                delete deprecatedProperties[key];\n            }\n        }\n    }\n}\n\n/**\n * Determines the title of a section representation in the app schema, main aspect is checking the facet ID\n * @param schemaSection - Section in manifest.json\n * @param jsonSchema - app specific schema\n */\nexport function getSectionTitle(schemaSection: Definition, jsonSchema: Definition): string | undefined {\n    if (schemaSection.$ref && !schemaSection.title) {\n        const refTitle = jsonSchema.definitions[schemaSection.$ref.split(DEFINITION_LINK_PREFIX)[1]] as Definition;\n        return getSectionTitle(refTitle, jsonSchema);\n    } else if (schemaSection.title) {\n        if (schemaSection.title.startsWith(FacetTitlePrefix)) {\n            return schemaSection.title.split(FacetTitlePrefix)[1].replace(/com.sap/g, '@com.sap');\n        } else {\n            return schemaSection.title.replace(/com.sap/g, '@com.sap');\n        }\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Method returns target by resolving custom column reference name.\n * For example - 'TableCustomColumns<dummyTarget>' is resolved as 'dummyTarget'.\n * @param {string} ref Reference key.\n * @returns {string | undefined} Resolved target.\n */\nexport function getTargetFromCustomColumnRef(ref: string): string | undefined {\n    const refParts = ref.split(`${DefinitionName.CustomColumns}<`);\n    if (refParts[1]) {\n        return refParts[1].split('>')[0];\n    }\n    return undefined;\n}\n\n/**\n * Removes part of a given config, if empty\n * @param {object} config - config part\n * @param {string} structure - part of config to be removed\n */\nexport function removeEmptyStructure(config: object, structure: string): void {\n    if (!config[structure]) {\n        return;\n    }\n    if (Object.keys(config[structure]).length < 1) {\n        delete config[structure];\n    }\n}\n", "import type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\nimport type { FacetConfig, GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport { SchemaKeyName } from '@sap/ux-specification-types';\nimport {\n    DefinitionName,\n    FacetBase,\n    FioriElementsVersion,\n    PropertyName,\n    SchemaTag,\n    SectionType,\n    UIVOCABULARY\n} from '@sap/ux-specification-types';\nimport {\n    DEFINITION_LINK_PREFIX,\n    getDataFieldDescription,\n    createAnnotationPath,\n    findAlias,\n    prepareRef,\n    addDataTypeToDefinition\n} from '..';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Copies the field properties from the generic definition to the specific field definition\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {object} appSchema - App schema in general\n * @param {DataFieldAbstractTypes} field - field definition in parser output (AVT)\n * @param {string} fieldDefinition - the unique ID for the given field definition\n */\nfunction copyFieldProperties(\n    version: FioriElementsVersion,\n    appSchema: Definition,\n    field: DataFieldAbstractTypes,\n    fieldDefinition: string\n) {\n    if (version === FioriElementsVersion.v4 && appSchema['definitions']['Field']) {\n        switch (field.$Type) {\n            case UIAnnotationTypes.DataField:\n            case UIAnnotationTypes.DataFieldForAnnotation:\n            case UIAnnotationTypes.DataFieldWithNavigationPath:\n            case UIAnnotationTypes.DataFieldWithUrl: {\n                (appSchema.definitions[fieldDefinition] as Definition).properties =\n                    appSchema.definitions.Field['properties'];\n                break;\n            }\n        }\n    } else if (version === FioriElementsVersion.v2 && appSchema['definitions']['Field']) {\n        switch (field.$Type) {\n            case UIAnnotationTypes.DataField:\n            case UIAnnotationTypes.DataFieldForAnnotation:\n            case UIAnnotationTypes.DataFieldWithUrl: {\n                (appSchema.definitions[fieldDefinition] as Definition).properties =\n                    appSchema.definitions.Field['properties'];\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Determines the name for a field definition in app schema\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param fieldReferenceId - the stable ID representation of the field\n * @param {string} targetID - unique ID, identifies the parent object (form)\n * @param fieldReference - the reference to the field definition in schema\n * @returns the field definition name in schema\n */\nfunction determineFieldDefinitionName(\n    version: FioriElementsVersion,\n    fieldReferenceId: string,\n    targetID: string,\n    fieldReference: string\n): string {\n    const fieldReferenceType =\n        version === FioriElementsVersion.v2 && fieldReferenceId && fieldReferenceId.includes('::')\n            ? fieldReferenceId.split('::')[0].replace('DataField', 'Field')\n            : undefined;\n    if (version === FioriElementsVersion.v2) {\n        return `${fieldReferenceType}<${targetID}::${fieldReference}>`;\n    } else {\n        return `${targetID}::${fieldReference}`;\n    }\n}\n\n/**\n * Add th keys and targt tag for Datafield*\n * @param field - the given field definition\n * @param appSchema - the app schema to be updated\n * @param schemaKeyOfField - key for the given field in the app schema\n */\nfunction addKeysTagForDataField(field, appSchema: Definition, schemaKeyOfField: string) {\n    if (typeof field.Value !== 'string' && field.Value.type === 'Path') {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Value',\n                value: field.Value.path\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.Value.$target\n            ? field.Value.$target.fullyQualifiedName.split('/')[0]\n            : field.Value.targetString.split('/')[0];\n    } else if (typeof field.Value === 'string' && field.Value) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Value',\n                value: field.Value\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.fullyQualifiedName.split('@')[0];\n    }\n}\n\n/**\n * Adds the \"keys\" tag to a field definition in schema\n * @param field - the given field definition\n * @param appSchema - the app schema to be updated\n * @param schemaKeyOfField - key for the given field in the app schema\n */\nfunction addKeysTagToField(field: DataFieldAbstractTypes, appSchema: Definition, schemaKeyOfField: string) {\n    if (\n        field.$Type === UIAnnotationTypes.DataField ||\n        field.$Type === UIAnnotationTypes.DataFieldWithUrl ||\n        field.$Type === UIAnnotationTypes.DataFieldWithNavigationPath\n    ) {\n        addKeysTagForDataField(field, appSchema, schemaKeyOfField);\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Target',\n                value: field.Target.value\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] =\n            field.Target.$target.fullyQualifiedName.split('@')[0];\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForAction) {\n        const separator = field.Action.lastIndexOf('.');\n        if (separator === -1) {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n                {\n                    name: 'Action',\n                    value: field.Action\n                }\n            ];\n        } else {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n                {\n                    name: 'Action',\n                    value: field.Action.substring(separator + 1, field.Action.length)\n                }\n            ];\n            appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.Action.substring(0, separator);\n        }\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'SemanticObject',\n                value: field.SemanticObject\n            }\n        ];\n        if (field.Action) {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys].push({\n                name: 'Action',\n                value: field.Action\n            });\n        }\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.fullyQualifiedName.split('@')[0];\n    }\n}\n\n/**\n * Adds a field definition to the app specific schema\n * @param {string} sectionType - prefix to distinguish Section and HeaderSection\n * @param {object} appSchema - App schema in general\n * @param {DataFieldAbstractTypes} field - field definition in parser output (AVT)\n * @param {string} targetID - unique ID, identifies the parent object (form)\n * @param {string} key - current field key\n * @param {SectionType} section - current section of the object page\n * @param {FioriElementsVersion} version - Fiori Elements version\n */\nfunction addField(\n    sectionType: SectionType,\n    appSchema: Definition,\n    field: DataFieldAbstractTypes,\n    targetID: string,\n    key: string,\n    section: FacetConfig,\n    version: FioriElementsVersion,\n    withActions = true\n): void {\n    // Calculate field reference\n    const fieldReferenceId = getStableIdPartFromDataField(field);\n    const fieldReference =\n        version === FioriElementsVersion.v2 && fieldReferenceId && fieldReferenceId.includes('::')\n            ? fieldReferenceId.split('::').splice(1).join('::')\n            : fieldReferenceId;\n    // Determine field definition name\n    const schemaKeyOfField = determineFieldDefinitionName(version, fieldReferenceId, targetID, fieldReference);\n\n    // Evaluate field type, set field reference of properties of fields' or actions' definition\n    if (!field || !field.$Type) {\n        return;\n    } else if (\n        field.$Type === UIAnnotationTypes.DataFieldForAction ||\n        field.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        if (withActions && sectionType === SectionType.Section) {\n            const actionsDefinition = prepareRef(`${sectionType}${DefinitionName.Actions}<${targetID}>`);\n            const fieldInSchema = ((appSchema.definitions[actionsDefinition] as Definition).properties[fieldReference] =\n                {\n                    $ref: `${DEFINITION_LINK_PREFIX}${schemaKeyOfField}`\n                });\n            fieldInSchema[SchemaTag.propertyIndex] = parseInt(key);\n        }\n    } else {\n        const fieldsDefinition = prepareRef(`${sectionType}${DefinitionName.Fields}<${targetID}>`);\n        appSchema.definitions[fieldsDefinition]['properties'][fieldReference] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${schemaKeyOfField}`,\n            propertyIndex: parseInt(key)\n        };\n    }\n\n    // Now set up the field definition\n    appSchema.definitions[schemaKeyOfField] = {\n        type: 'object',\n        properties: {},\n        description: getDataFieldDescription(field, section.entityType),\n        additionalProperties: false\n    };\n    //Add tags\n    addKeysTagToField(field, appSchema, schemaKeyOfField);\n    appSchema.definitions[schemaKeyOfField][SchemaTag.annotationPath] = `/${section.entityType.fullyQualifiedName}/${\n        field.fullyQualifiedName.split(section.entityType.fullyQualifiedName)[1]\n    }`;\n    appSchema.definitions[schemaKeyOfField][SchemaTag.annotationType] = field.$Type;\n    appSchema.definitions[schemaKeyOfField][SchemaTag.isViewNode] = true;\n\n    addDataTypeToDefinition(appSchema.definitions[schemaKeyOfField] as Definition, field);\n\n    // Copy the generic definition of field properties to the specific one\n    copyFieldProperties(version, appSchema, field, schemaKeyOfField);\n    if (field.$Type === UIAnnotationTypes.DataFieldForAction && appSchema.definitions?.['FormAction']) {\n        (\n            appSchema.definitions[schemaKeyOfField] as Definition\n        ).$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.FormAction}`;\n        delete (appSchema.definitions[schemaKeyOfField] as Definition).properties;\n    }\n}\n\n/**\n * The function determines the target ID that shall be used in the app schema for a form\n * @param section - object describing the section or facet\n * @returns the target ID (string)\n */\nfunction determineTargetIdOfForm(section: FacetConfig) {\n    let targetID: string;\n    if (section.target && section.target['qualifier'] && section.entityType) {\n        targetID = `${section.entityType.name}::${section.base}::${section.target['qualifier']}`;\n    } else if (section.entityType) {\n        targetID = `${section.entityType.name}::${section.base}`;\n    } else {\n        targetID = section.ID;\n    }\n    return targetID;\n}\n\n/**\n * Adds the specific definitions of the form fields to a schema\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {SectionType} sectionType - prefix to distinguish Section and HeaderSection\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {string } targetID - target id of form\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {boolean} withActions - indicates that actions shall be considered\n */\nfunction addFieldsToFormDefinition(\n    section: FacetConfig,\n    sectionType: SectionType,\n    appSchema: Definition,\n    targetID: string,\n    version: FioriElementsVersion,\n    withActions: boolean\n) {\n    if (section.base === FacetBase.Identification) {\n        for (const key in section.target) {\n            const field = section.target[key];\n            if (field) {\n                addField(sectionType, appSchema, field, targetID, key, section, version, withActions);\n            }\n        }\n    } else {\n        for (const key in section.target['Data']) {\n            const field = section.target['Data'][key];\n            addField(sectionType, appSchema, field, targetID, key, section, version);\n        }\n    }\n}\n\n/**\n * Adds the schema tags for a form definition\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {string} formDefinitionKey - key of the form definition in schema\n */\nfunction addTagsToFormDefinition(section: FacetConfig, appSchema: Definition, formDefinitionKey: string) {\n    if (section.target) {\n        const targetValue = section.target['qualifier']\n            ? `${section.target['term']}#${section.target['qualifier']}`\n            : `${section.target['term']}`;\n        appSchema.definitions[formDefinitionKey][SchemaTag.keys] = [\n            {\n                name: SchemaKeyName.target,\n                value: targetValue.replace(/com.sap.vocabularies.UI.v1./g, '')\n            }\n        ];\n        appSchema.definitions[formDefinitionKey][SchemaTag.target] =\n            section.target['fullyQualifiedName']?.split('@')[0];\n    }\n    appSchema.definitions[formDefinitionKey][SchemaTag.isViewNode] = true;\n\n    if (section.entityType?.name) {\n        appSchema.definitions[formDefinitionKey][SchemaTag.annotationPath] = createAnnotationPath(\n            section.entityType.fullyQualifiedName,\n            section.target['term'],\n            section.target['qualifier']\n        );\n    }\n}\n\n/**\n * Adds definitions for forms in object page sections to the app schema\n * @param {SectionType} sectionType - prefix to distinguish Section and HeaderSection\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {object} appSchemaSection - current definition of facet or section in the JSON schema\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {string} facetKey - facet key\n * @returns {string | undefined} target id of form\n */\nexport function handleForm(\n    sectionType: SectionType,\n    section: FacetConfig,\n    appSchemaSection: Definition,\n    appSchema: Definition,\n    version: FioriElementsVersion,\n    facetKey: string\n): string | undefined {\n    if (!section.target) {\n        return;\n    }\n    const targetID: string = determineTargetIdOfForm(section);\n    const formDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Form}<${targetID}>`);\n    const fieldsDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Fields}<${targetID}>`);\n    const actionsDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Actions}<${targetID}>`);\n    const withActions = section.base === FacetBase.Identification && facetKey.indexOf('#') < 0 ? false : true;\n\n    // Form definition\n    appSchemaSection.properties.form = { $ref: `${DEFINITION_LINK_PREFIX}${formDefinitionKey}` };\n\n    if (sectionType === SectionType.Section && withActions) {\n        appSchema.definitions[formDefinitionKey] = {\n            type: 'object',\n            properties: {\n                actions: {\n                    $ref: `${DEFINITION_LINK_PREFIX}${actionsDefinitionKey}`\n                },\n                fields: { $ref: `${DEFINITION_LINK_PREFIX}${fieldsDefinitionKey}` }\n            },\n            description: 'Form',\n            additionalProperties: false\n        };\n        appSchema.definitions[actionsDefinitionKey] = {\n            type: 'object',\n            properties: {},\n            description: 'Actions',\n            additionalProperties: false\n        };\n        appSchema.definitions[actionsDefinitionKey][SchemaTag.isViewNode] = true;\n    } else {\n        appSchema.definitions[formDefinitionKey] = {\n            type: 'object',\n            properties: {\n                fields: { $ref: `${DEFINITION_LINK_PREFIX}${fieldsDefinitionKey}` }\n            },\n            description: 'Form',\n            additionalProperties: false\n        };\n    }\n    //Add schema tags\n    addTagsToFormDefinition(section, appSchema, formDefinitionKey);\n\n    // Fields definition\n    appSchema.definitions[fieldsDefinitionKey] = {\n        type: 'object',\n        properties: {},\n        description: 'Fields',\n        additionalProperties: false\n    };\n    appSchema.definitions[fieldsDefinitionKey][SchemaTag.isViewNode] = true;\n    // Add fields\n    addFieldsToFormDefinition(section, sectionType, appSchema, targetID, version, withActions);\n    return targetID;\n}\n\n/**\n * Replaces an alias in an annotation ID or reference, based on the AVT references' list\n * @param annotationIdentifier - annotation ID or reference\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @returns the converted string\n */\nexport function replaceAlias(annotationIdentifier: string, oDataServiceAVT: ConvertedMetadata): string {\n    const potentialAlias = annotationIdentifier.indexOf('.') > -1 ? annotationIdentifier.split('.')[0] : undefined;\n    let result = annotationIdentifier;\n    if (potentialAlias && oDataServiceAVT) {\n        const searchTerm = potentialAlias.replace('SAP__', '');\n        const reference = oDataServiceAVT.references.find((ref) => {\n            return ref.alias === searchTerm;\n        });\n        if (reference) {\n            result = annotationIdentifier.replace(potentialAlias, reference.namespace);\n        }\n    }\n    return result;\n}\n\n/**\n * Common routine to determine the name and the ID of a header action\n * @param action - action as given by AVT\n * @param entityType - entity type by AVT\n * @returns an object comprising action name and action id\n */\n\nexport function getActionNameAndId(\n    item: any,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata\n): { actionName: string; actionId: string; namespace: string } {\n    const action = replaceAlias(item.Action, oDataServiceAVT);\n\n    let relevantAction = action;\n    let separatorIndex = action.indexOf('(');\n\n    if (separatorIndex > 0) {\n        relevantAction = action.substring(0, separatorIndex);\n    }\n    separatorIndex = relevantAction.lastIndexOf('/');\n    if (separatorIndex === -1) {\n        separatorIndex = relevantAction.lastIndexOf('.');\n    }\n    let actionName: string, actionId: string, namespace: string;\n    if (separatorIndex > -1) {\n        actionName = relevantAction.substring(separatorIndex + 1);\n        namespace = relevantAction.substring(0, separatorIndex);\n        actionId = `${relevantAction.substring(0, separatorIndex)}::${actionName}`;\n    } else {\n        actionName = relevantAction;\n        namespace = item.fullyQualifiedName.split('@')[0];\n        if (actionName && actionName !== '') {\n            actionId = `${namespace.substring(0, namespace.length - 1)}::${actionName}`;\n        }\n    }\n    return { actionName, actionId, namespace };\n}\n\n/**\n * Add Object Page Footer Action Buttons to app-specific schema\n *\n * @param {object} appSchema Schema of the app\n * @param {GenerateAppSchemaParameters} generateParameters - Schema parameters\n * @param {FioriElementsVersion} version - Fiori elements versions\n * @param {function} addFooterActionCallBack - Callback function, either V2 or V4\n */\nexport function addFooterActions(\n    appSchema: Definition,\n    generateParameters: GenerateAppSchemaParameters,\n    version: FioriElementsVersion,\n    addFooterActionCallBack\n): void {\n    appSchema.definitions[DefinitionName.ObjectPageFooter] = JSON.parse(\n        JSON.stringify(appSchema.definitions[`${DefinitionName.ObjectPageFooter}<ObjectPageFooterActions>`])\n    );\n    // Change reference of footer\n    appSchema.properties['footer'] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageFooter}`\n    };\n    // Add action to configuration\n    (appSchema.definitions[DefinitionName.ObjectPageFooter] as Definition).properties[PropertyName.actions] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.FooterActions}`\n    };\n    const footerActions = (appSchema.definitions[DefinitionName.FooterActions] = {\n        type: 'object',\n        properties: {},\n        description: 'Actions',\n        additionalProperties: false\n    });\n    footerActions[SchemaTag.isViewNode] = true;\n\n    const alias = findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n    const entityType = generateParameters.entityType;\n    const actionAnnotation = alias && entityType.annotations?.[alias]?.Identification;\n    if (actionAnnotation) {\n        const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n            `@${UIAnnotationTerms.Identification}`,\n            `/@${UIAnnotationTerms.Identification}`\n        );\n        footerActions[SchemaTag.annotationPath] = `/${convertedIdentification}`;\n        actionAnnotation.forEach(\n            addFooterActionCallBack(entityType, appSchema, footerActions, convertedIdentification)\n        );\n    } else {\n        footerActions[\n            SchemaTag.annotationPath\n        ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.Identification}`;\n    }\n    delete appSchema.definitions[DefinitionName.ObjectPageFooterActions];\n    delete appSchema.definitions[`${DefinitionName.ObjectPageFooter}<${DefinitionName.ObjectPageFooterActions}>`];\n}\n\n/**\n * Add Object Page Header Action Buttons to app-specific schema\n * @param {object} appSchema Schema of the app\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {function} addHeaderActionCallBack - Callback function, either V2 or V4\n */\nexport function addHeaderActions(\n    appSchema: Definition,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    addHeaderActionCallBack\n): void {\n    (appSchema.definitions[DefinitionName.ObjectPageHeader] as Definition).properties[PropertyName.actions] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageHeaderActions}`\n    };\n    const headerActions = (appSchema.definitions[DefinitionName.ObjectPageHeaderActions] = {\n        type: 'object',\n        properties: {},\n        description: 'Actions',\n        additionalProperties: false\n    });\n    headerActions[SchemaTag.isViewNode] = true;\n\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const identification =\n        alias &&\n        entityType.annotations &&\n        entityType.annotations[alias] &&\n        entityType.annotations[alias].Identification;\n\n    if (identification) {\n        headerActions[SchemaTag.annotationPath] =\n            '/' +\n            identification.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n        identification.forEach(\n            addHeaderActionCallBack(entityType, appSchema, identification, headerActions, oDataServiceAVT)\n        );\n    } else {\n        headerActions[\n            SchemaTag.annotationPath\n        ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.Identification}`;\n    }\n}\n\n/**\n * Adds common Object Page Header definitions to the app schema\n * @param appSchema - app-specific JSOn schema\n * @param entityType - current entity Type\n */\nexport function addCommonHeaderSchema(appSchema: Definition, entityType: EntityType): void {\n    appSchema.properties['header'] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageHeader}`\n    };\n    appSchema.definitions[DefinitionName.ObjectPageHeader] = JSON.parse(\n        JSON.stringify(appSchema.definitions[`${DefinitionName.ObjectPageHeader}`])\n    );\n    appSchema.definitions[DefinitionName.ObjectPageHeader][\n        SchemaTag.annotationPath\n    ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.HeaderInfo}`;\n}\n\n/**\n * Common logic to determine the EntitySet of a facet\n * @param facet - current facet or section\n * @param serviceAVT - AVT converter output, comprising all annotation information\n * @returns the entity set as defined in AVT, if found\n */\nexport function determineEntitySetOfFacet(facet: FacetConfig, serviceAVT: ConvertedMetadata): EntitySet | undefined {\n    return facet.entityType\n        ? serviceAVT.entitySets.find(\n              (es) => es.entityType.name === facet.entityType.name || es.name === facet.entityType.name\n          )\n        : undefined;\n}\n", "import { UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\n\n/**\n * Stable Id helper (parts copied from sap.fe.core/helpers/StableIdHelper.ts)\n */\n\nexport function replaceSpecialChars(sId: string): string {\n    if (typeof sId !== 'string') {\n        return;\n    }\n    sId = sId\n        .replace(/^\\/|^@|^#|^\\*/, '') // remove special characters from the beginning of the string\n        .replace(/\\/$|@$|#$|\\*$/, '') // remove special characters from the end of the string\n        .replace(/[/@()#*]/g, '::'); // replace special characters with ::\n\n    // Replace double occurrences of the separator with a single separator\n    while (sId.indexOf('::::') > -1) {\n        sId = sId.replace('::::', '::');\n    }\n\n    // If there is a :: at the end of the ID remove it\n    if (sId.slice(-2) === '::') {\n        sId = sId.slice(0, -2);\n    }\n\n    return sId;\n}\n\nfunction removeNamespaces(sId: string): string {\n    sId = sId.replace('com.sap.vocabularies.UI.v1.', '');\n    sId = sId.replace('com.sap.vocabularies.Communication.v1.', '');\n    return sId;\n}\n\nexport const prepareId = function (sId: string): string {\n    return replaceSpecialChars(removeNamespaces(sId));\n};\n\nfunction evaluateConcat(oValue: any) {\n    let sPathConcat = '';\n    for (const applyValue of oValue.Apply.Path) {\n        if (applyValue._text) {\n            if (sPathConcat) {\n                sPathConcat += '::';\n            }\n            sPathConcat += applyValue._text;\n        }\n    }\n    return sPathConcat;\n}\n\nexport function getStableIdPartFromValue(oValue: any): string | undefined {\n    if (oValue?.$Path || oValue?.path) {\n        return oValue.$Path || oValue.path;\n    }\n\n    if (oValue?.Apply?._attributes.Function === 'odata.concat') {\n        return evaluateConcat(oValue);\n    }\n\n    if (oValue) {\n        if (typeof oValue === 'string') {\n            return replaceSpecialChars(oValue.replace(/ /g, '_'));\n        }\n    }\n}\n\nexport const getStableIdPartFromSemanticObjectAndAction = function (oDataField: any): string {\n    let sIdPart = '';\n    if (typeof oDataField.SemanticObject === 'string') {\n        sIdPart += oDataField.SemanticObject;\n    } else if (oDataField.SemanticObject.$Path) {\n        sIdPart += oDataField.SemanticObject.$Path;\n    }\n    if (typeof oDataField.Action === 'string') {\n        sIdPart += '::' + oDataField.Action;\n    } else if (oDataField.Action && oDataField.Action.$Path) {\n        sIdPart += '::' + oDataField.Action.$Path;\n    }\n    if (oDataField['RequiresContext']) {\n        sIdPart += '::RequiresContext';\n    }\n    return sIdPart;\n};\n\nexport const getStableIdPartFromDataField = function (oDataField: any): string | undefined {\n    let sIdPart = '';\n\n    if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n        sIdPart = 'DataFieldForAction::';\n        sIdPart += oDataField.Action;\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) {\n        sIdPart = 'DataFieldForIntentBasedNavigation::';\n        sIdPart += getStableIdPartFromSemanticObjectAndAction(oDataField);\n        return sIdPart;\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n        sIdPart = 'DataFieldForAnnotation::';\n        sIdPart += prepareId(oDataField.Target.$AnnotationPath || oDataField.Target.value);\n        return sIdPart;\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithAction) {\n        sIdPart = 'DataFieldWithAction::';\n        if (oDataField.Value) {\n            sIdPart += getStableIdPartFromValue(oDataField.Value) + '::';\n        }\n        sIdPart += oDataField.Action;\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataField) {\n        sIdPart = 'DataField::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithIntentBasedNavigation) {\n        sIdPart = 'DataFieldWithIntentBasedNavigation::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value) + '::';\n        sIdPart += getStableIdPartFromSemanticObjectAndAction(oDataField);\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithNavigationPath) {\n        sIdPart = 'DataFieldWithNavigationPath::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        if (oDataField.Target && oDataField.Target['$NavigationPropertyPath']) {\n            sIdPart += '::' + oDataField.Target['$NavigationPropertyPath'];\n        }\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithUrl) {\n        sIdPart = 'DataFieldWithUrl::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        return prepareId(sIdPart);\n    } else {\n        // In case of a string or unknown property\n        // Log.error(\"Stable ID Helper: Unable to create a stable ID. Please check the annotations.\");\n    }\n    return undefined;\n};\n", "import type { AnnotationTerm, ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { LineItem } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport type { SectionTypeV2 } from '../../v2/types';\nimport type { PresentationVariantV4 } from '../../v4/types';\nimport {\n    DEFINITION_LINK_PREFIX,\n    createAnnotationPath,\n    prepareRef,\n    addSectionTitleAndDescription,\n    getDefinitionKey\n} from '..';\nimport type { FacetConfig, FacetSection, SectionType } from '@sap/ux-specification-types';\nimport { DefinitionName, SchemaTag, SchemaKeyName, UIVOCABULARY } from '@sap/ux-specification-types';\nimport { getStableIdPartFromValue } from '../../v4/utils/StableIdHelper';\n\ninterface PropertyInDefinition {\n    definition?: string;\n    property?: string;\n    schema?: Definition;\n}\n\ninterface EnumDefinitionParsingOptions {\n    excludeKey?: string;\n    resolveDefinition?: boolean;\n}\n\n/**\n * Adds an enum filled with existing UI annotations of the given list (validAnnotations)\n * @param {EntityType} entityType\n * @param {UIAnnotationTerms[]} validAnnotations\n * @param {Definition} annoPath - the annotation path property in the app schema where the enum shall be added\n */\nexport function addEnumForValidAnnotations(\n    entityType: EntityType,\n    validAnnotations: UIAnnotationTerms[],\n    annoPath: Definition\n): void {\n    const UiAnnotations = entityType?.annotations?.UI;\n    if (!UiAnnotations) {\n        return;\n    }\n    const enumEntries = [];\n    for (const key in UiAnnotations) {\n        const annotation = UiAnnotations[key];\n        if (validAnnotations.indexOf(annotation.term) > -1) {\n            const enumEntry = annotation.qualifier\n                ? `${annotation.term}#${annotation.qualifier}`\n                : `${annotation.term}`;\n            if (enumEntries.indexOf(enumEntry) === -1) {\n                enumEntries.push(enumEntry);\n            }\n        }\n    }\n    if (enumEntries.length > 0) {\n        annoPath.enum = enumEntries;\n    }\n}\n\n/**\n * Adds an enum filled with existing UI annotations for single-tab variants of a table\n * @param {EntityType} entityType\n * @param {Definition} appSchema - app specific JSON schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForSingleTabVariant(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties[SchemaTag.annotationPath];\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant, UIAnnotationTerms.SelectionPresentationVariant];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath as Definition);\n}\n\n/**\n * Adds an enum filled with existing UI annotations for multi-tab variants of a table\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n * @param {EntitySet} entitySet - current entity set of the page or view\n */\nexport function addEnumForMultiTabVariant(appSchema: Definition, definitionName: string, entitySet: EntitySet): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition)?.properties.annotationPath;\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant, UIAnnotationTerms.SelectionPresentationVariant];\n    addEnumForValidAnnotations(entitySet.entityType, validAnnotations, annoPath as Definition);\n}\n\n/**\n * Adds the enum values for entitySet as part of the multiple view scenario\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForVariantEntitySet(\n    oDataServiceAVT: ConvertedMetadata,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const entitySet = (appSchema.definitions[definitionName] as Definition).properties.entitySet;\n    const enumEntries = [];\n    if (!oDataServiceAVT) {\n        return;\n    }\n\n    oDataServiceAVT.entitySets.forEach((es: EntitySet) => {\n        enumEntries.push(es.name);\n    });\n    if (enumEntries.length > 0) {\n        entitySet['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds an enum filled with existing UI annotations for annotationPath property in FilterBar\n * @param {EntityType} entityType\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForFilterBarAnnotationPath(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties.annotationPath as Definition;\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath);\n}\n\n/**\n * Adds an enum filled with existing UI FieldGroup annotations for annotationPath property in MultiEdit\n * @param {EntityType} entityType\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumFieldGroupAnnotationPath(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties.annotationPath as Definition;\n    const validAnnotations = [UIAnnotationTerms.FieldGroup];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath);\n}\n\n/**\n * Method adds definition for 'RelatedFacetKeys' as enum with description and adds references to 'RelatedFacetKeys' for custom section definitions.\n * @param {Definition} appSchema App specific schema that potentially gets enhanced\n * @param {string[]>} sectionDefinitions array of section definitions which should be updated with new reference to 'RelatedFacetKeys' enum.\n * @param {FacetSection[]} facetSections Array of facet section objects which is used to generate enum values.\n * @param {Array<keyof Omit<FacetSection, 'custom'>>} idProperties Array of property names which should be looked up in 'FacetSection' object.\n *  Please note that method depends on order and takes first non empty value associated to passed properties.\n */\nexport function addDefinitionForRelatedFacetKeys(\n    appSchema: Definition,\n    sectionDefinitions: string[],\n    facetSections: FacetSection[],\n    idProperties: Array<keyof Omit<FacetSection, 'custom'>>\n): void {\n    const oneOfSections = facetSections.map((section: FacetSection) => {\n        // Loop acceptable properties in received order and find first entry with value\n        const propertyName = idProperties.find((property) => !!section[property]);\n        const schemaIdForSection = section[propertyName];\n        return {\n            const: schemaIdForSection,\n            ...(section.label && { description: section.label }),\n            ...(section.custom && { custom: section.custom })\n        };\n    });\n    // Change 'relatedFacet' only when we have entries for sections - otherwise use generic.\n    if (oneOfSections.length) {\n        // Create new definition in schema as 'oneOf'.\n        // Simpler way would be to use 'enum', but then there no option to pass description.\n        appSchema.definitions[DefinitionName.RelatedFacetKeys] = {\n            type: 'string',\n            oneOf: oneOfSections\n        } as Definition;\n\n        // Add enum definition\n        for (const name of sectionDefinitions) {\n            const definition = appSchema.definitions[name] as Definition;\n            const property = definition.properties['relatedFacet'];\n            definition.properties['relatedFacet'] = {\n                anyOf: [\n                    {\n                        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.RelatedFacetKeys}`\n                    },\n                    property\n                ]\n            };\n        }\n    }\n}\n\n/**\n * Receives a facet key and returns the key as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @returns facetKeyInSchema - key of the facet, as used in schema\n */\nexport function getFacetKeyInSchema(facetKey: string): string {\n    return facetKey.replace('#', '::');\n}\n\n/**\n * Returns the name of a facet and definition, as key in definition\n * @param definition name of definition, as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @returns definition key of facet, as used in definition\n */\nfunction getFacetDefinitionKey(definition: string, facetKey: string): string {\n    return `${definition}<${getFacetKeyInSchema(facetKey)}>`;\n}\n\n/**\n * Adds an existing schema definition to a new definition in the app schema\n * @param definition name of definition, as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema App schema in general\n * @param {boolean} useDefinitionAsKey If set to false, facet key will solely be used as key, else encapsulated within definition key `definition<facetKey>`\n * @param subDefinitionName - sub definition, if different from the definition (e.g. subsection vs. section)\n * @returns {Definition} part of app schema that has been added and filled\n */\nexport function parseSchemaDefinition(\n    definition: string,\n    facetKey: string,\n    appSchema: Definition,\n    useDefinitionAsKey = true,\n    subDefinitionName?: DefinitionName\n): Definition {\n    let facetDefinitionKey = facetKey;\n    if (useDefinitionAsKey) {\n        facetDefinitionKey = getFacetDefinitionKey(subDefinitionName ? subDefinitionName : definition, facetKey);\n    }\n    if (definition && definition !== facetDefinitionKey) {\n        const schemaDefinition = JSON.parse(JSON.stringify(appSchema.definitions[definition])) as Definition;\n        appSchema.definitions[facetDefinitionKey] = schemaDefinition;\n    }\n    return appSchema.definitions[facetDefinitionKey] as Definition;\n}\n\n/**\n * Method receives custom extension base definition name and detect if it should be combined with lineItemId.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemId - line item ID, as comprise in stable ID\n * @param customColumnDefinitionName - (optional) definition name of custom extension.\n * @returns $ref path for definition.\n */\nexport function getCustomExtensionDefinitionName(\n    appSchema: Definition,\n    lineItemId: string,\n    customExtensionDefinitionName: string\n): string {\n    let definitionName: string;\n    if (\n        lineItemId === DefinitionName.LineItems ||\n        lineItemId === 'LineItemsOfSPV::LineItem' ||\n        lineItemId === '@com.sap.vocabularies.UI.v1.LineItem'\n    ) {\n        definitionName = `${DEFINITION_LINK_PREFIX}${customExtensionDefinitionName}`;\n    } else {\n        definitionName = `${DEFINITION_LINK_PREFIX}${customExtensionDefinitionName}<${lineItemId}>`;\n        parseSchemaDefinition(customExtensionDefinitionName, lineItemId, appSchema, true);\n    }\n    return definitionName;\n}\n\n/**\n * Functions used both by V2 and V4 to add the common definitions for a line item to the app schema\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param lineItemId - line item ID, as comprise in stable ID\n * @param customColumnDefinitionName - (optional) definition name of custom column.\n *        Passed in the V4 case, then additional properties of this type will be allowed.\n * @returns the actions definition plus the annotation path to the given line item\n */\nexport function addCommonLineItemDefinitions(\n    appSchema: Definition,\n    lineItemAnnotation: AnnotationTerm<LineItem>,\n    entityType: EntityType,\n    lineItemId: string,\n    customColumnDefinitionName?: string,\n    customActionDefinitionName?: string\n): { actions: Definition; footerActions: Definition; lineItemPath: string } {\n    let lineItemPath: string;\n\n    appSchema.definitions[lineItemId] = {\n        type: 'object',\n        properties: {},\n        description: 'Columns'\n    };\n    appSchema.definitions[lineItemId][SchemaTag.isViewNode] = true;\n    const customColumnRef: string = getCustomExtensionDefinitionName(appSchema, lineItemId, customColumnDefinitionName);\n    (appSchema.definitions[lineItemId] as Definition).additionalProperties = customColumnDefinitionName\n        ? { $ref: customColumnRef }\n        : false;\n    // Copy toolbar\n    const toolBar = lineItemId.startsWith(DefinitionName.LineItems)\n        ? DefinitionName.ToolBar\n        : DefinitionName.ObjectPageToolBar;\n    const schemaIdForToolBar = `${toolBar}<${lineItemId}>`;\n    appSchema.definitions[schemaIdForToolBar] = JSON.parse(JSON.stringify(appSchema.definitions[`${toolBar}`]));\n\n    const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(lineItemId)}>`;\n    (appSchema.definitions[schemaIdForToolBar] as Definition).properties.actions['$ref'] =\n        DEFINITION_LINK_PREFIX + schemaIdForActions;\n\n    const actionId = lineItemId.startsWith(DefinitionName.LineItems)\n        ? DefinitionName.Actions\n        : DefinitionName.ObjectPageToolBarActions;\n    const actions = (appSchema.definitions[schemaIdForActions] = JSON.parse(\n        JSON.stringify(appSchema.definitions[actionId])\n    ));\n    actions.properties = {};\n    // Handle actions additional properties - add custom action reference if it is supported\n    actions.additionalProperties = false;\n    if (customActionDefinitionName) {\n        const customActionRef = getCustomExtensionDefinitionName(appSchema, lineItemId, customActionDefinitionName);\n        actions.additionalProperties = { $ref: customActionRef };\n    }\n\n    // Copy LR footer\n    let footerActions, schemaIdForFooter;\n    if (lineItemId === DefinitionName.LineItems && appSchema.properties['footer']) {\n        schemaIdForFooter = `${DefinitionName.Footer}<${lineItemId}>`;\n        (appSchema.properties['footer'] as Definition).$ref = `${DEFINITION_LINK_PREFIX}${schemaIdForFooter}`;\n\n        appSchema.definitions[schemaIdForFooter] = JSON.parse(\n            JSON.stringify(appSchema.definitions[DefinitionName.GenericFooter])\n        );\n        const schemaIdForFooterActions = `${DefinitionName.FooterActions}<${prepareRef(lineItemId)}>`;\n        (appSchema.definitions[schemaIdForFooter] as Definition).properties.actions['$ref'] =\n            DEFINITION_LINK_PREFIX + schemaIdForFooterActions;\n\n        footerActions = appSchema.definitions[schemaIdForFooterActions] = JSON.parse(\n            JSON.stringify(appSchema.definitions[DefinitionName.Actions])\n        );\n        footerActions.properties = {};\n        footerActions.additionalProperties = false;\n    }\n    //Determine annotation path\n    if (lineItemAnnotation) {\n        lineItemPath = createAnnotationPath(\n            entityType.fullyQualifiedName,\n            lineItemAnnotation.term,\n            lineItemAnnotation.qualifier\n        );\n        appSchema.definitions[schemaIdForToolBar][SchemaTag.annotationPath] = lineItemPath;\n        if (footerActions) {\n            appSchema.definitions[schemaIdForFooter][SchemaTag.annotationPath] = lineItemPath;\n        }\n    }\n\n    return { actions, footerActions, lineItemPath };\n}\n\nexport enum DataType {\n    String = 'String',\n    Rating = 'Rating',\n    Progress = 'Progress',\n    DataPoint = 'DataPoint',\n    Contact = 'Contact',\n    Address = 'Address',\n    Chart = 'Chart',\n    FieldGroup = 'FieldGroup',\n    IntentBasedNavigation = 'IntentBasedNavigation'\n}\n\n/**\n * Determines the dataType of the target that shall be added to a property in schema\n * @param target - the given target\n * @returns - the dataType as string\n */\nexport function determineDataTypeOfTarget(target: any): string | undefined {\n    let dataType: string;\n\n    if (target.Value) {\n        if (target.Visualization === 'UI.VisualizationType/Rating') {\n            dataType = DataType.Rating;\n        } else if (target.Visualization === 'UI.VisualizationType/Progress') {\n            dataType = DataType.Progress;\n        } else if (target.$Type === 'com.sap.vocabularies.UI.v1.DataPointType') {\n            dataType = DataType.DataPoint;\n        } else {\n            dataType = target.Value?.$target?.type.replace('Edm.', '');\n        }\n    } else if (target.$Type === 'com.sap.vocabularies.Communication.v1.ContactType') {\n        dataType = DataType.Contact;\n    } else if (target.$Type === 'com.sap.vocabularies.Communication.v1.AddressType') {\n        dataType = DataType.Address;\n    } else if (target.$Type === 'com.sap.vocabularies.UI.v1.ChartDefinitionType') {\n        dataType = DataType.Chart;\n    } else if (target.$Type === 'com.sap.vocabularies.UI.v1.FieldGroupType') {\n        dataType = DataType.FieldGroup;\n    }\n    return dataType;\n}\n\n/**\n * Determines the dataType that shall be added to a property in schema, for any kind of field like\n * - field of a field group\n * - line item record\n * - selection field\n * @param field - the given field\n * @returns - the dataType as string\n */\nexport function determineDataType(field: object): string | undefined {\n    let dataType: string;\n\n    if (field['Value']) {\n        if (field['Value'].$target?.type) {\n            dataType = field['Value'].$target.type.replace('Edm.', '');\n        } else {\n            dataType = DataType.String;\n        }\n    } else if (field['Target']) {\n        dataType = determineDataTypeOfTarget(field['Target'].$target);\n    } else if (field['$target']) {\n        dataType = field['$target'].type.replace('Edm.', '');\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldForAction') {\n        dataType = 'Action';\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldWithUrl') {\n        dataType = 'Url';\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation') {\n        dataType = DataType.IntentBasedNavigation;\n    } else if (field['type']) {\n        dataType = field['type'];\n    }\n\n    return dataType;\n}\n\n/**\n * Adds the dataType to the given schema field definition, if the data type cane be determined\n * @param definition - given schema definition\n * @param field - given field definition = annotation property, at AVT\n */\nexport function addDataTypeToDefinition(definition: object, field: object): void {\n    const dataType = determineDataType(field);\n    if (dataType) {\n        definition[SchemaTag.dataType] = dataType;\n    }\n}\n\n/**\n * Creates a definition link for a facet and definition name\n * @param {DefinitionName} definition - name of definition, as used in schema\n * @param {string} facetKey - key of the facet, as used in annotation\n * @returns definition link of facet, as used in definition\n */\nexport function getFacetDefinitionLink(definition: DefinitionName | SectionTypeV2, facetKey: string): string {\n    return `${DEFINITION_LINK_PREFIX}${getFacetDefinitionKey(definition, facetKey)}`;\n}\n\n/**\n * Creates and adds a reference link to a definition\n * @param {Definition} schemaPart - part of schema to add $ref to\n * @param {string} schemaRef - reference to be added\n * @param {string} schemaKey - key to be encapsulated within reference as `schemaRef<schemaKey>`\n * @returns reference link of facet, as used in definition\n */\nexport function addDefinitionRef(schemaPart: Definition, schemaRef: string, schemaKey?: string): void {\n    const schemaLink = schemaKey ? `${schemaRef}<${schemaKey}>` : schemaRef;\n    schemaPart.$ref = `${DEFINITION_LINK_PREFIX}${schemaLink}`;\n}\n\n/**\n * Extracts annotationPath from facet or Chart/LineItem fullyQualifiedName\n * @param facet facet or Chart/LineItem\n * @returns {string} annotationPath\n */\nexport function getFacetAnnotationPath(facet: FacetConfig | PresentationVariantV4 | object): string | undefined {\n    if ((facet as FacetConfig).annotationPath) {\n        return (facet as FacetConfig).annotationPath;\n    } else if ((facet as PresentationVariantV4).fullyQualifiedName) {\n        const [namespace, target] = (facet as PresentationVariantV4).fullyQualifiedName.split(`@${UIVOCABULARY}`);\n        return `/${namespace}/@${UIVOCABULARY}${target}`;\n    }\n    return undefined;\n}\n\n/**\n * Adds definitions for Address and Contact items in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n */\nexport function handleAddressContact(\n    facet: FacetConfig,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    subSectionPrefix?: SectionType,\n    versionPostfix = ''\n) {\n    const definitionName = `ObjectPage${sectionPrefix}${facet.base}${versionPostfix}` as DefinitionName;\n    const subDefinitionName = `ObjectPage${subSectionPrefix}${facet.base}${versionPostfix}` as DefinitionName;\n    sections.properties[facetKey] = {\n        $ref: getFacetDefinitionLink(subSectionPrefix ? subDefinitionName : definitionName, facetKey)\n    };\n    const definition = parseSchemaDefinition(\n        subSectionPrefix ? subDefinitionName : definitionName,\n        facetKey,\n        appSchema,\n        true,\n        subSectionPrefix ? subDefinitionName : undefined\n    );\n    addSectionTitleAndDescription(facet, definition, facetKey);\n    definition[SchemaTag.annotationPath] = facet.annotationPath;\n    definition[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Method updates schema definition's property.\n * @param {DefinitionOrBoolean} definition Definition object.\n * @param {string} key Property name.\n * @param {unknown} value New value.\n */\nfunction updateSchemaProperty(definition: DefinitionOrBoolean, key: string, value: unknown): void {\n    if (typeof definition === 'object') {\n        definition[key] = value;\n    }\n}\n\n/**\n * Add schema definitions for fields of createWithParameterDialog\n * @param {object} appSchema - Application-specific schema, to be enhanced\n * @param {EntityType} entityType - Given entity type for which entries shall get generated\n * @param {string=} suffix - floorplan specific suffix (optional)\n */\nexport function addFieldsType(appSchema: Definition, entityType: EntityType, suffix = prepareRef('')): void {\n    const itemsEnum = entityType.entityProperties.map((property) => property.name);\n    const fields4Dialog = appSchema.definitions[`${DefinitionName.Fields4Dialog}${suffix}`] as Definition;\n    updateSchemaProperty(fields4Dialog.properties.fields['items'], 'enum', itemsEnum);\n}\n\n/**\n * Method returns description for passed schema definition.\n * @param {Definition} appSchema App specific JSON schema\n * @param {Definition} definition Target definition to resolve description.\n * @param {boolean} resolveDefinition Should logic use fallback to look into reference definition.\n * @returns {string | undefined} Description of passed definition.\n */\nfunction getDescription(appSchema: Definition, definition: Definition, resolveDefinition = false): string | undefined {\n    let description = definition.description;\n    if (resolveDefinition && !description && definition.$ref) {\n        // Try to read description from reference\n        const definitionKey = getDefinitionKey(definition.$ref);\n        const refDefinition = appSchema.definitions?.[definitionKey];\n        if (typeof refDefinition === 'object') {\n            description = refDefinition.description;\n        }\n    }\n    return description;\n}\n\n/**\n * Method adds enum with key and description to schema definition.\n * Description can be easily used by UI to describe enum value/key.\n * @param {Definition} appSchema App specific JSON schema\n * @param {DefinitionOrBoolean} origin Origin schema object containing key and description.\n * @param {PropertyInDefinition} target Target to update with enum.\n * @param {EnumDefinitionParsingOptions} [options] Additional parsing options.\n * @param {boolean} resolveDefinition Should logic use fallback to look into reference definition.\n */\nexport function addDescriptiveEnumDefinition(\n    appSchema: Definition,\n    origin: DefinitionOrBoolean,\n    target: PropertyInDefinition,\n    options?: EnumDefinitionParsingOptions\n): void {\n    if (typeof origin !== 'object') {\n        // Safe checks\n        return;\n    }\n    const oneOfEnum: Array<{ const: string; description?: string }> = [];\n    for (const key in origin.properties) {\n        if (options?.excludeKey === key) {\n            continue;\n        }\n        const property = origin.properties[key] as Definition;\n        const description = getDescription(appSchema, property, options?.resolveDefinition);\n        oneOfEnum.push({\n            const: key,\n            ...(description && { description })\n        });\n    }\n    const definition = appSchema.definitions[target.definition] || target.schema;\n    if (typeof definition === 'object') {\n        if (target.property) {\n            const property = definition.properties?.[target.property];\n            updateSchemaProperty(property, 'oneOf', oneOfEnum);\n        } else {\n            updateSchemaProperty(definition, 'oneOf', oneOfEnum);\n        }\n    }\n}\n\n/**\n * Extracts the key of an action that shall be added to schema as SchemaTag.keys\n * @param action - full-blown action ID\n * @param isAction - indicates an action\n * @returns action ID stripped down to the last key part\n */\nexport function getActionKey(action: string, isAction: boolean): { key: string; ns: string } {\n    let actionKey = action;\n    let namespace;\n    if (actionKey.indexOf('(') > 0) {\n        actionKey = actionKey.substring(0, actionKey.indexOf('('));\n    }\n    if (isAction && actionKey.indexOf('/') > 0) {\n        namespace = actionKey.substring(0, actionKey.indexOf('/'));\n        actionKey = actionKey.substring(actionKey.lastIndexOf('/') + 1);\n    }\n    if (isAction && actionKey.indexOf('.') > 0) {\n        namespace = actionKey.substring(0, actionKey.lastIndexOf('.'));\n        actionKey = actionKey.substring(actionKey.lastIndexOf('.') + 1);\n    }\n    if (!namespace) {\n        namespace = action.substring(0, action.lastIndexOf('.'));\n    }\n    return { key: actionKey.replace(/@/g, ''), ns: namespace };\n}\n\n/**\n * Adds the schema tag key to a line item record or property in schema\n * @param lineItemRecord - the given line item record\n * @param properties - list of all properties in schema\n * @param schemaKey - key of the given property\n */\nexport function addKeyToDefinition(lineItemRecord: object, properties: object, schemaKey: string): void {\n    if (lineItemRecord['Value']) {\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: getStableIdPartFromValue(lineItemRecord['Value']) }\n        ];\n    } else if (\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldWithAction ||\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForAction\n    ) {\n        const { key, ns } = getActionKey(lineItemRecord['Action'], true);\n        properties[schemaKey][SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            properties[schemaKey][SchemaTag.target] = ns;\n        }\n    } else if (lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForAnnotation) {\n        const { key } = getActionKey(lineItemRecord['Target'].value, false);\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: SchemaKeyName.target, value: key.replace(/com.sap.vocabularies.UI.v1./g, '') }\n        ];\n        properties[schemaKey][SchemaTag.target] = lineItemRecord['Target'].$target.fullyQualifiedName.split('@')[0];\n    } else if (\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForIntentBasedNavigation ||\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldWithIntentBasedNavigation\n    ) {\n        const keyParts = schemaKey.split('::');\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: `Property`, value: keyParts[keyParts.length - 1] },\n            { name: `SemanticObject`, value: lineItemRecord['SemanticObject'] },\n            { name: `Action`, value: lineItemRecord['Action'] }\n        ];\n    }\n}\n", "import type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport { UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type {\n    File,\n    ImportProjectParameters,\n    GenerateAppSchemaParameters,\n    ExtensionLogger,\n    ImportAllConfigsParameters,\n    Schemas\n} from '@sap/ux-specification-types';\nimport {\n    LogSeverity,\n    TemplateType,\n    v2,\n    v4,\n    DirName,\n    FileName,\n    METADATAPATH,\n    UIVOCABULARY,\n    FioriElementsVersion,\n    ManifestSection,\n    SchemaType,\n    Features\n} from '@sap/ux-specification-types';\nimport {\n    generateAnalyticalListReportSchemaV2,\n    generateListReportSchemaV2,\n    generateObjectPageSchemaV2,\n    generateOVPInterfaceV2\n} from '../v2/generate';\nimport { getPages as getPagesV2, V2AppProvider } from '../v2/import/app/appProvider';\nimport { V2OvpProvider } from '../v2/import/app/ovpProvider';\nimport { generateObjectPageSchemaV4, generateListReportSchemaV4, generateCustomPageSchemaV4 } from '../v4/generate';\nimport { getPageCustomViewFile } from '../v4/utils/utils';\nimport { getPages as getPagesV4, V4AppProvider } from '../v4/import/app';\nimport type { AppProvider } from './appProvider';\nimport {\n    findAlias,\n    getSchemaFilePath,\n    getTemplateTypeFromManifest,\n    getVersionFromManifest,\n    parseAndMergeAndConvert,\n    isFeatureSupported,\n    determineV4PageTemplateType\n} from './utils';\nimport i18next from 'i18next';\nimport { log } from '../../extensionLogger';\nimport { initI18n } from '../../i18n/i18n';\nimport { getGenericSchema } from '../../specification/schemaAccess';\n\ninterface UiEntityTypes {\n    Facets: string[];\n    LineItems: string[];\n}\n\n/**\n * Generates an object comprising all generic schemas\n * @param {TemplateType} templateType - Template type\n * @param {FioriElementsVersion} fioriElementsVersion - Fiori Elements version\n * @returns {Object} genericSchemas\n */\nasync function getGenericSchemas(\n    templateType: TemplateType,\n    fioriElementsVersion: FioriElementsVersion\n): Promise<Schemas> {\n    const genericSchemas: Schemas = {};\n    let schemaTypes = [];\n    schemaTypes = [SchemaType.Application];\n    switch (templateType) {\n        case TemplateType.ListReportObjectPageV4:\n        case TemplateType.AnalyticalListPageV4:\n            schemaTypes.push(SchemaType.ListReport, SchemaType.ObjectPage, SchemaType.FPMCustomPage);\n            break;\n        case TemplateType.FreestylePageV4:\n            schemaTypes.push(\n                SchemaType.ListReport,\n                SchemaType.ObjectPage,\n                SchemaType.FreestylePage,\n                SchemaType.FPMCustomPage\n            );\n            break;\n        case TemplateType.ListReportObjectPageV2:\n            schemaTypes.push(SchemaType.ListReport, SchemaType.ObjectPage);\n            break;\n        case TemplateType.AnalyticalListPageV2:\n            schemaTypes.push(SchemaType.AnalyticalListPage, SchemaType.ObjectPage);\n            break;\n        case TemplateType.OverviewPageV2:\n            schemaTypes.push(SchemaType.OverviewPage);\n            break;\n        default:\n            break;\n    }\n    for (const schemaType of schemaTypes) {\n        const schemaFile = getSchemaFilePath(schemaType);\n        genericSchemas[schemaFile.filename] = await getGenericSchema(fioriElementsVersion, schemaType);\n    }\n    return genericSchemas;\n}\n\n/**\n * Get the relevant UI.ListItem and UI.Facet entity sets\n * @param {ConvertedMetadata} oDataServiceAVT - Annotations as converted by AVT\n * @returns a fitered list of facet and line item annotations\n */\nfunction getAnnotationsForUi(oDataServiceAVT: ConvertedMetadata): UiEntityTypes {\n    const filteredEntityTypes: UiEntityTypes = {\n        Facets: [],\n        LineItems: []\n    };\n    const allEntityTypes = oDataServiceAVT?.entityTypes;\n    if (!allEntityTypes) {\n        return filteredEntityTypes;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    for (const entity of allEntityTypes) {\n        if (!entity.annotations || !entity.annotations[alias]) {\n            continue;\n        }\n        const { LineItem, Facets } = entity.annotations[alias];\n        if (\n            LineItem &&\n            !LineItem.qualifier &&\n            LineItem.find(\n                (li) =>\n                    li.$Type === UIAnnotationTypes.DataField || li.$Type === UIAnnotationTypes.DataFieldForAnnotation\n            )\n        ) {\n            filteredEntityTypes.LineItems.push(entity.name);\n        }\n        if (Facets && !Facets.qualifier) {\n            filteredEntityTypes.Facets.push(entity.name);\n        }\n    }\n    return filteredEntityTypes;\n}\n\nexport function getEntitySetByEntitySetName(entitySetName: string, oDataServiceAVT: ConvertedMetadata): EntitySet {\n    return oDataServiceAVT?.entitySets && oDataServiceAVT.entitySets.find((es) => es.name === entitySetName);\n}\n\n/**\n * The function returns an EntityType, EntitySet based on the given contextPath or entitySet\n * @param {ConvertedMetadata} oDataServiceAVT service AVT\n * @param {string} contextPath contextPath of a page\n * @param {string} entitySetName entitySet of a page\n * @param {ExtensionLogger} [logger] - Logger class for logging messages\n *\n * @returns {EntityType} entityType of a page\n */\nexport function getEntityTypeEntitySetFromContextPath(\n    oDataServiceAVT: ConvertedMetadata,\n    contextPath?: string,\n    entitySetName?: string,\n    logger?: ExtensionLogger\n): { entityType: EntityType; entitySet: EntitySet } {\n    const resolvedContextPath = oDataServiceAVT?.resolvePath(contextPath || `/${entitySetName}`);\n    let entityType: EntityType, entitySet: EntitySet;\n\n    if (resolvedContextPath?.target?.['_type'] === 'EntitySet') {\n        entityType = (resolvedContextPath['target'] as EntitySet)?.entityType;\n        entitySet = resolvedContextPath?.['target'] as EntitySet;\n    } else if (resolvedContextPath?.target?.['_type'] === 'NavigationProperty') {\n        entityType = resolvedContextPath['target']['targetType'];\n    }\n\n    if (!resolvedContextPath) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('CONTEXTPATHCOULDNOTBERESOLVED', { entitySet: entitySetName, contextPath }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    }\n    return { entityType, entitySet };\n}\n\n/**\n * The function generates one app schema per entitySet that is linked with an object page in V2\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Schema} genericSchemas - The generic schemas\n * @param {Schema} appSchemas - the list of app schemas that shall get extended\n */\nfunction generateObjectPageSchemasV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n): void {\n    const allPages = getPagesV2(\n        generateParameters.manifest[ManifestSection.generic].pages,\n        v2.FE_TEMPLATE_V2_OBJECT_PAGE\n    );\n    for (const page in allPages) {\n        const entitySetName = allPages[page].entitySet;\n        const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n        if (!entitySet) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('ENTITYSETNOTFOUND', { entitySetName: entitySetName }),\n                location: {\n                    path: METADATAPATH\n                }\n            });\n        }\n        generateParameters.entitySet = entitySet;\n        const schemaFile = getSchemaFilePath(SchemaType.ObjectPage, entitySet?.name || entitySetName);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.ObjectPage);\n        appSchemas[schemaFile.filename] = generateObjectPageSchemaV2(\n            generateParameters,\n            genericSchemas[genericSchemaFile.filename]\n        );\n    }\n}\n\n/**\n * The function generates one app schema per entitySet that is linked with a list report/alp page in V4\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {Schemas} appSchemas - the list of app schemas that shall get extended\n */\nfunction generateListReportSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n) {\n    const lrPages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_LIST_REPORT);\n    const alpPages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_ALP);\n    const pages = { ...lrPages, ...alpPages };\n    const serviceAVT = generateParameters?.serviceAVT;\n    for (const pageId in pages) {\n        const entitySetName = pages[pageId].options.settings?.entitySet;\n        const contextPath = pages[pageId].options.settings?.contextPath as string;\n        const { entitySet, entityType } = getEntityTypeEntitySetFromContextPath(serviceAVT, contextPath, entitySetName);\n        generateParameters.entityType = entityType;\n        generateParameters.entitySet = entitySet;\n        const schemaFile = getSchemaFilePath(SchemaType.ListReport, pageId);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.ListReport);\n        // Get ALP/LR template type for existing LR page in freestyle app\n        if (generateParameters.templateType === TemplateType.FreestylePageV4) {\n            generateParameters.templateType = determineV4PageTemplateType(pages[pageId]);\n        }\n        appSchemas[schemaFile.filename] = generateListReportSchemaV4(\n            generateParameters,\n            genericSchemas[genericSchemaFile.filename],\n            pages[pageId].name,\n            contextPath\n        );\n    }\n}\n\n/**\n * The function generates one app schema per entitySet that is linked with an object page in V4\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {Schemas} appSchemas - the list of app schemas that shall get extended\n */\nfunction generateObjectPageSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n): void {\n    const pages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_OBJECT_PAGE);\n    const serviceAVT = generateParameters.serviceAVT;\n    for (const page in pages) {\n        const entitySetName = pages[page].options.settings?.entitySet;\n        const contextPath = pages[page].options.settings?.contextPath as string;\n\n        const { entityType, entitySet } = getEntityTypeEntitySetFromContextPath(serviceAVT, contextPath, entitySetName);\n        generateParameters.entitySet = entitySet;\n        generateParameters.entityType = entityType;\n\n        const schemaFile = getSchemaFilePath(SchemaType.ObjectPage, page);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.ObjectPage);\n        appSchemas[schemaFile.filename] = generateObjectPageSchemaV4(\n            generateParameters,\n            genericSchemas[genericSchemaFile.filename],\n            contextPath\n        );\n    }\n}\n\n/**\n * Generates all app specific schemas for a Fiori Elements V2 application\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types, as comprised in oDataServiceAVT\n * @param {TemplateType} templateType - the given Fiori Elements' template type\n */\nfunction generateAppSchemasV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    uiEntityTypes: UiEntityTypes,\n    templateType: TemplateType\n): Schemas {\n    const appSchemas: Schemas = {};\n    if (templateType === TemplateType.ListReportObjectPageV2 && uiEntityTypes) {\n        /*--- List Report ----*/\n        const allPages = getPagesV2(\n            generateParameters.manifest[ManifestSection.generic].pages,\n            v2.FE_TEMPLATE_V2_LIST_REPORT\n        );\n\n        for (const page in allPages) {\n            const entitySetName = allPages[page].entitySet;\n            generateParameters.entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n            const schemaFile = getSchemaFilePath(\n                SchemaType.ListReport,\n                generateParameters.entitySet?.name || entitySetName\n            );\n            const genericSchemaFile = getSchemaFilePath(SchemaType.ListReport);\n            appSchemas[schemaFile.filename] = generateListReportSchemaV2(\n                generateParameters,\n                genericSchemas[genericSchemaFile.filename]\n            );\n        }\n        /*--- Object Pages ----*/\n        generateObjectPageSchemasV2(generateParameters, genericSchemas, appSchemas);\n    } else if (templateType === TemplateType.AnalyticalListPageV2 && uiEntityTypes) {\n        /*--- Analytical List Page ----*/\n        const allPages = getPagesV2(generateParameters.manifest[ManifestSection.generic].pages, v2.FE_TEMPLATE_V2_ALP);\n\n        for (const page in allPages) {\n            const entitySetName = allPages[page].entitySet;\n            generateParameters.entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n            const schemaFile = getSchemaFilePath(\n                SchemaType.AnalyticalListPage,\n                generateParameters.entitySet?.name || entitySetName\n            );\n            const genericSchemaFile = getSchemaFilePath(SchemaType.AnalyticalListPage);\n            appSchemas[schemaFile.filename] = generateAnalyticalListReportSchemaV2(\n                generateParameters,\n                genericSchemas[genericSchemaFile.filename]\n            );\n        }\n        /*--- Object Pages ----*/\n        generateObjectPageSchemasV2(generateParameters, genericSchemas, appSchemas);\n    } else if (templateType === TemplateType.OverviewPageV2) {\n        /*--- Overview Page ----*/\n        const schemaFile = getSchemaFilePath(SchemaType.OverviewPage);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.OverviewPage);\n        appSchemas[schemaFile.filename] = generateOVPInterfaceV2(\n            genericSchemas[genericSchemaFile.filename],\n            generateParameters.manifest\n        );\n    }\n    return { ...genericSchemas, ...appSchemas };\n}\n\n/**\n * The function generates one app schema per custom page in V4.\n * @param {GenerateAppSchemaParameters} generateParameters List of API input parameters.\n * @param {Schemas} genericSchemas The generic schemas.\n * @param {Schemas} appSchemas The list of app schemas that shall get extended.\n */\nfunction generateCustomPageSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n): void {\n    if (!isFeatureSupported(generateParameters.featureToggles, Features.BuildingBlocks)) {\n        return;\n    }\n    const pages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_CUSTOM_PAGE);\n    for (const pageId in pages) {\n        const page = pages[pageId];\n        // Resolve view name and app id\n        const viewData = getPageCustomViewFile(generateParameters.views || [], pageId, generateParameters.manifest);\n        const viewId = page['viewId'] || page['id'];\n        if (viewData) {\n            const schemaFile = getSchemaFilePath(SchemaType.FPMCustomPage, undefined, viewId);\n            const genericSchemaFile = getSchemaFilePath(SchemaType.FPMCustomPage);\n            appSchemas[schemaFile.filename] = generateCustomPageSchemaV4(\n                genericSchemas[genericSchemaFile.filename],\n                viewData,\n                generateParameters.serviceAVT,\n                generateParameters.logger\n            );\n        }\n    }\n}\n\n/**\n * Generates all app specific schemas for a Fiori Elements V4 application\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types, as comprised in oDataServiceAVT\n * @param {TemplateType} templateType - the given Fiori Elements' template type\n */\nfunction generateAppSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    uiEntityTypes: UiEntityTypes\n): Schemas {\n    const appSchemas: Schemas = {};\n\n    if (uiEntityTypes) {\n        generateListReportSchemasV4(generateParameters, genericSchemas, appSchemas);\n        generateObjectPageSchemasV4(generateParameters, genericSchemas, appSchemas);\n        generateCustomPageSchemasV4(generateParameters, genericSchemas, appSchemas);\n    }\n    return { ...genericSchemas, ...appSchemas };\n}\n\n/**\n * Generates app specific schemas by adding annotation information to copies of the generic schemas, thus replacing all generic definitions.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types from the service metadata\n * @param templateType - type of the Fiori Elements' template\n */\nasync function generateAppSchemas(\n    generateParameters: GenerateAppSchemaParameters,\n    uiEntityTypes: UiEntityTypes,\n    templateType: TemplateType\n): Promise<Schemas> {\n    const genericSchemas = await getGenericSchemas(templateType, generateParameters.fioriElementsVersion);\n\n    if (generateParameters.fioriElementsVersion === FioriElementsVersion.v4) {\n        return generateAppSchemasV4(generateParameters, genericSchemas, uiEntityTypes);\n    } else {\n        return generateAppSchemasV2(generateParameters, genericSchemas, uiEntityTypes, templateType);\n    }\n}\n\n/**\n * Imports manifest and flex changes into configuration files with aid of the relevant app provider\n * @param {ImportAllConfigsParameters} importParameters - structure comprising all input parameters\n *\n * @returns {File[]} a list of all configuration files as generated by the function\n */\nfunction importConfigs(importParameters: ImportAllConfigsParameters): File[] {\n    let provider: AppProvider;\n    const files: File[] = [];\n\n    switch (importParameters.templateType) {\n        case TemplateType.ListReportObjectPageV2:\n        case TemplateType.AnalyticalListPageV2:\n            provider = new V2AppProvider(importParameters);\n            break;\n        case TemplateType.AnalyticalListPageV4:\n        case TemplateType.ListReportObjectPageV4:\n        case TemplateType.FreestylePageV4:\n            provider = new V4AppProvider(importParameters);\n            break;\n        case TemplateType.OverviewPageV2:\n            provider = new V2OvpProvider(importParameters);\n            break;\n        default:\n            break;\n    }\n    if (provider) {\n        const { appConfig, pageConfigs } = provider.createConfigFiles();\n        for (const app in appConfig) {\n            files.push({ dataSourceUri: app, fileContent: JSON.stringify(appConfig[app], null, 4) });\n        }\n        for (const config in pageConfigs) {\n            files.push({ dataSourceUri: config, fileContent: JSON.stringify(pageConfigs[config], null, 4) });\n        }\n    }\n    return files;\n}\n\nfunction getFileList(appSchemas: Schemas, configs?: File[]): File[] {\n    let files: File[] = [];\n    for (const schemaName of Object.keys(appSchemas).sort()) {\n        let dataSourceUri;\n        if (schemaName === SchemaType.Application) {\n            dataSourceUri = `${DirName.Schemas}/${FileName.App[0].toUpperCase()}${FileName.App.slice(1)}`;\n        } else {\n            dataSourceUri = `${DirName.Schemas}/${schemaName}.json`;\n        }\n        files.push({ dataSourceUri, fileContent: JSON.stringify(appSchemas[schemaName], null, 4) });\n    }\n    if (configs) {\n        files = files.concat(configs);\n    }\n    return files;\n}\n\n/**\n * Import the schema and config files for a given project\n * @param {ImportProjectParameters} importParameters - files of the project: manifest, flex changes, odata files\n */\nexport async function importProjectSchema(importProjectParameters: ImportProjectParameters): Promise<File[]> {\n    // Initialize i18next\n    initI18n();\n\n    const fioriElementsVersion = getVersionFromManifest(importProjectParameters.manifest);\n    const oDataServiceAVT = parseAndMergeAndConvert(\n        importProjectParameters.annotations,\n        importProjectParameters.logger\n    );\n    const uiEntityTypes = getAnnotationsForUi(oDataServiceAVT);\n    const templateType = getTemplateTypeFromManifest(\n        importProjectParameters.manifest,\n        fioriElementsVersion,\n        importProjectParameters.logger\n    );\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        manifest: importProjectParameters.manifest,\n        serviceAVT: oDataServiceAVT,\n        fragments: importProjectParameters.fragments,\n        views: importProjectParameters.views,\n        fioriElementsVersion,\n        logger: importProjectParameters.logger,\n        featureToggles: importProjectParameters.featureToggles\n    };\n\n    const appSchemas = await generateAppSchemas(generateParameters, uiEntityTypes, templateType);\n    return getFileList(appSchemas);\n}\n\n/**\n * Import the schema and config files for a given project\n * @param {ImportProjectParameters} importParameters - files of the project: manifest, flex changes, odata files\n */\nexport async function importProjectSchemaAndConfig(importProjectParameters: ImportProjectParameters): Promise<File[]> {\n    // Initialize i18next\n    initI18n();\n\n    const { manifest, annotations, logger } = importProjectParameters;\n    const fioriElementsVersion = getVersionFromManifest(manifest);\n    const oDataServiceAVT = parseAndMergeAndConvert(annotations, logger);\n    const templateType = getTemplateTypeFromManifest(manifest, fioriElementsVersion, logger);\n\n    //Generate Schemas\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        manifest: importProjectParameters.manifest,\n        serviceAVT: oDataServiceAVT,\n        fragments: importProjectParameters.fragments,\n        views: importProjectParameters.views,\n        fioriElementsVersion,\n        logger: importProjectParameters.logger,\n        featureToggles: importProjectParameters.featureToggles\n    };\n    const uiEntityTypes = getAnnotationsForUi(oDataServiceAVT);\n    const appSchemas = await generateAppSchemas(generateParameters, uiEntityTypes, templateType);\n\n    //Import to configs\n    const importConfigsParameters: ImportAllConfigsParameters = {\n        manifest: importProjectParameters.manifest,\n        flexChanges: importProjectParameters.flex,\n        appSchemas,\n        templateType,\n        logger: importProjectParameters.logger,\n        serviceAVT: oDataServiceAVT,\n        fragments: importProjectParameters.fragments,\n        views: importProjectParameters.views\n    };\n\n    const configFiles = importConfigs(importConfigsParameters);\n    return getFileList(appSchemas, configFiles);\n}\n", "import type {\n    FileData,\n    ExtensionLogger,\n    ImportListReportV2Parameters,\n    ImportALPV2Parameters,\n    ImportObjectPageV2Parameters,\n    ImportAllConfigsParameters\n} from '@sap/ux-specification-types';\nimport { FioriElementsVersion, PageTypeV2, ManifestSection, v2, SchemaType } from '@sap/ux-specification-types';\nimport { AppProvider } from '../../../common/appProvider';\nimport { transferSettingsOfObject } from '../common';\nimport { createListReportConfig } from '../pages/listReport';\nimport { createAnalyticalListPageConfig } from '../pages/analyticalListPage';\nimport { createObjectPageConfigV2 } from '../pages/objectPage';\nimport { AppSettings } from '../../application';\nimport { getSchemaFilePath, generatePageId, getPageTypeV2 } from '../../../common';\n\n/**\n * Method which generates id for passed page\n * @param page - Generic Page object.\n * @returns {string} Generated page id\n */\nfunction generateId(page: v2.SapUiAppPageV2): string {\n    return generatePageId(getPageTypeV2(page.component.name), page.entitySet);\n}\n\nfunction getPageConfigsAndNavigations(\n    page: v2.Page,\n    v2Page: v2.SapUiAppPageV2,\n    flex: string[],\n    manifest: any,\n    schemas: any,\n    fragments: FileData[],\n    pages: { [key: string]: v2.Page }\n) {\n    page.navigation = {};\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    const targets: { [key: string]: v2.Page } = getPagesAndConfigs(v2Page.pages, flex, manifest, schemas, fragments);\n    for (const pageId in targets) {\n        const target = targets[pageId];\n        pages[pageId] = target;\n    }\n    for (const v2ChildPageName in v2Page.pages) {\n        const id = generateId(v2Page.pages[v2ChildPageName]);\n        page.navigation[id] = targets[id].navigationProperty\n            ? `${page.entitySet}.${targets[id].navigationProperty}`\n            : page.entitySet;\n    }\n}\n\n/**\n * Sets up page definitions, including the configurations for them\n * @param {SapUiAppPagesV2} v2Pages - lisr of all pages\n * @param flex - list of flexibility changes\n * @param manifest - manifest.json of the app\n * @param schemas - list of all app-specific schemas\n * @param fragments - list of fragments\n * @param {ExtensionLogger} logger - logger for messages\n * @returns an index table of page definitions\n */\nfunction getPagesAndConfigs(\n    v2Pages: v2.SapUiAppPagesV2,\n    flex: string[],\n    manifest,\n    schemas,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): { [key: string]: v2.Page } {\n    const pages: { [key: string]: v2.Page } = {};\n    for (const v2PageName in v2Pages) {\n        const v2Page = v2Pages[v2PageName];\n        const id = generateId(v2Page);\n        const page: v2.Page = {\n            pageType: getPageTypeV2(v2Page.component.name),\n            entitySet: v2Page.entitySet,\n            ...(v2Page.navigationProperty && { navigationProperty: v2Page.navigationProperty }),\n            ...(v2Page.defaultLayoutType && { defaultLayoutType: v2Page.defaultLayoutType })\n        };\n        pages[id] = page;\n\n        // Get the JSON schema for the page. If no page specific schema exists, fall back top the generic schema for the page type\n        const jsonSchema: string =\n            Object.keys(schemas).find((element) => element.includes(id)) ||\n            Object.keys(schemas).find((element) => element.includes(id.slice(0, -1))) ||\n            Object.keys(schemas).find((element) => element.includes(page.pageType));\n\n        // convert settings to config\n        if (jsonSchema) {\n            if (page.pageType === PageTypeV2.ListReport) {\n                const importParameters: ImportListReportV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    fragments,\n                    logger\n                };\n                page.config = createListReportConfig(importParameters);\n            } else if (page.pageType === PageTypeV2.AnalyticalListPage) {\n                const importParameters: ImportALPV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    fragments,\n                    logger\n                };\n                page.config = createAnalyticalListPageConfig(importParameters);\n            } else {\n                const importParameters: ImportObjectPageV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    entitySet: page.entitySet,\n                    fragments,\n                    logger\n                };\n                page.config = createObjectPageConfigV2(importParameters);\n            }\n        }\n        if (v2Page.pages) {\n            getPageConfigsAndNavigations(page, v2Page, flex, manifest, schemas, fragments, pages);\n        }\n    }\n    return pages;\n}\n\n/**\n * The V2AppProvider collects all the app information for a Fiori Elements V2 app\n */\nexport class V2AppProvider extends AppProvider {\n    public constructor(importParameters: ImportAllConfigsParameters) {\n        const v2Pages = importParameters.manifest[ManifestSection.generic].pages;\n        const pageKey = Object.keys(v2Pages)[0];\n        // Import settings\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        const appSchema = importParameters.appSchemas[schemaFile.filename];\n        transferSettingsOfObject(\n            appSettings,\n            importParameters.manifest,\n            appSchema['definitions']['AppSettings'],\n            undefined\n        );\n        // Call base\n        super(\n            importParameters.manifest,\n            importParameters.appSchemas,\n            generateId(v2Pages[pageKey]),\n            getPagesAndConfigs(\n                v2Pages,\n                importParameters.flexChanges,\n                importParameters.manifest,\n                importParameters.appSchemas,\n                importParameters.fragments,\n                importParameters.logger\n            ),\n            FioriElementsVersion.v2,\n            appSettings\n        );\n    }\n}\n\n/**\n * Collects all pages of a V2 app from the manifest, by traversing the V2 page hierarchy.\n * @param v2Pages - entry point = complex page definition in manifest\n * @param componentName - Component name\n * @returns index table of pages\n */\nexport function getPages(v2Pages: v2.SapUiAppPagesV2, componentName: string): v2.Pages {\n    const pages: v2.Pages = {};\n    for (const v2PageName in v2Pages) {\n        const v2Page = v2Pages[v2PageName];\n        if (v2Page.component.name === componentName) {\n            const id = generateId(v2Page);\n            pages[id] = v2Page;\n        }\n        if (componentName === v2.FE_TEMPLATE_V2_OBJECT_PAGE && v2Page.pages) {\n            const subPages = getPages(v2Page.pages, componentName);\n            for (const subPageId in subPages) {\n                pages[subPageId] = subPages[subPageId];\n            }\n        }\n    }\n    return pages;\n}\n", "import type {\n    ExtensionLogger,\n    Application,\n    CustomPageConfig,\n    Files,\n    Manifest,\n    PagesBase,\n    v2,\n    v4,\n    PageConfig\n} from '@sap/ux-specification-types';\nimport {\n    DirName,\n    FileName,\n    FioriElementsVersion,\n    OdataVersion,\n    ViewTypes,\n    PageTypeV4,\n    SchemaType\n} from '@sap/ux-specification-types';\nimport { getSchemaFilePath } from './utils';\n\n/**\n * Splits and returns the name of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @returns {string} custom page name\n */\nfunction getCustomPageName(page: v2.Page | v4.Page): string {\n    const targetName = (page as v4.Page).view.name?.split('.');\n    return targetName[targetName.length - 1];\n}\n\n/**\n * Returns the view type of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {Application} app - application\n * @returns {string} view type\n */\nfunction getViewType(page: v2.Page | v4.Page, app: Application): ViewTypes {\n    const viewType = (page as v4.Page)?.view?.viewType || (app.settings as v4.AppSettings)?.viewType;\n    return viewType || ViewTypes.XML;\n}\n\n/**\n * Returns file extension name for the page view type of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {Application} app - application\n * @returns {string} File extension name of page view type\n */\nfunction getViewTypeExtension(page: v2.Page | v4.Page, app: Application): string {\n    return getViewType(page, app).toLowerCase();\n}\n\n/**\n * Returns the view path and file name of the custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {Application} app - application\n * @param {string} viewName - name of view\n * @returns {string} view path\n */\nfunction getViewPath(\n    page: v4.Page | v2.Page,\n    app: Application,\n    viewPath: string[]\n): { viewPath: string[]; fileName: string } {\n    const splitViewPath = (splitPath: string): string[] => {\n        return splitPath.split(`${app.id}.`)[1]?.split('.');\n    };\n    const appSettings = app.settings as v4.AppSettings;\n    const appPath = (page as v4.Page).view?.path || appSettings?.path;\n    const pageName = (page as v4.Page).view?.name;\n    if (pageName?.includes(app.id)) {\n        viewPath = splitViewPath(pageName);\n    } else if (appPath?.includes(app.id)) {\n        viewPath = [...splitViewPath(appPath), ...pageName.split('.')];\n    }\n    const [pathParts, fileName] = [viewPath.slice(0, -1), ...viewPath.slice(-1)];\n    return { viewPath: pathParts, fileName };\n}\n\n/**\n * Returns the page name and path of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {string} appId - Application id\n * @returns page name\n */\nfunction getCustomPagePath(page: v2.Page | v4.Page, app: Application): string {\n    const viewName = page.entitySet || getCustomPageName(page);\n    const { viewPath, fileName } = getViewPath(page, app, [viewName]);\n    const viewType = getViewTypeExtension(page, app);\n    // we always use '/' as separator so that snapshot tests generated from Windows do not fail on Jenkins\n    return [...viewPath, `${fileName}.view.${viewType}`].join('/');\n}\n\nexport interface Controllers {\n    [key: string]: string;\n}\n\nexport abstract class AppProvider {\n    public readonly app: Application;\n    public readonly logger: ExtensionLogger;\n    public readonly schemas: Files;\n    // Store controller names which should be handled lately\n    public unhandledControllers: Array<string> = [];\n\n    protected constructor(\n        manifest: Manifest,\n        schemas: Files,\n        home: string,\n        pages: PagesBase,\n        version: FioriElementsVersion,\n        settings?: v2.AppSettings | v4.AppSettings,\n        logger?: ExtensionLogger\n    ) {\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        this.app = {\n            $schema: schemaFile.path,\n            id: manifest['sap.app'].id,\n            pages,\n            home,\n            target: {\n                fioriElements: version,\n                odata: version === FioriElementsVersion.v2 ? OdataVersion.v2 : OdataVersion.v4\n            },\n            ...(settings && { settings })\n        };\n        this.schemas = schemas;\n        this.logger = logger;\n    }\n\n    /**\n     * Create config files for app (app.json) and pages (pages/{name}.json).\n     * This is basically a copy of createFiles optimized to be used in FTFS:\n     * it always uses posix path notation with forward slash (/)\n     * @param {ConvertedMetadata} oDataServiceAVT - Complete service information, as returned by annotation vocabularies tool\n     * @returns app and page files as separate objects\n     */\n    public createConfigFiles(): { appConfig: Files; pageConfigs: Files } {\n        const pageConfigs: Files = {};\n        const appConfig: Files = {};\n        let page: v2.Page | v4.PageV4;\n        // add schema reference to all pages\n        for (const pageId in this.app.pages) {\n            page = this.app.pages[pageId];\n            const schemaSuffix = this.app.target.odata === OdataVersion.v4 ? pageId : page.entitySet;\n            const config = this.getPageConfigFile(page, schemaSuffix);\n            if (config) {\n                pageConfigs[`${DirName.Pages}/${pageId}.json`] = config;\n            }\n        }\n        // remove config before converting to JSON\n        const app: Application = JSON.parse(JSON.stringify(this.app));\n        for (const pageId in app.pages) {\n            delete app.pages[pageId].config;\n        }\n        appConfig[FileName.App] = app;\n\n        return { appConfig, pageConfigs };\n    }\n\n    /**\n     * Method returns page's config object to store in file for passed page.\n     * @param {v2.Page | v4.Page} page Page from 'app.json'.\n     * @param {PageConfig | undefined} config Page's config object.\n     * @param {pageId} id of the page or entityset in case of V2\n     */\n    private getPageConfigFile(page: v2.Page | v4.Page, pageId: string): PageConfig | undefined {\n        let config: PageConfig | undefined;\n        const isEditableXML = getViewType(page, this.app) === ViewTypes.XML && !!page.config;\n        if (page.pageType === PageTypeV4.CustomPage || (page.pageType === PageTypeV4.FPMCustomPage && !isEditableXML)) {\n            const { path: $schema } = getSchemaFilePath(page.pageType);\n            config = { $schema };\n        } else if (page.config) {\n            config = page.config;\n            const viewId = 'view' in page ? page.view?.id : undefined;\n            const schemaFile = getSchemaFilePath(page.pageType, pageId, viewId);\n            if (this.schemas[schemaFile.filename]) {\n                config.$schema = schemaFile.path;\n            } else {\n                const genericSchemaFile = getSchemaFilePath(page.pageType);\n                config.$schema = genericSchemaFile.path;\n            }\n        }\n        if ((config && page.pageType === PageTypeV4.CustomPage) || page.pageType === PageTypeV4.FPMCustomPage) {\n            this.applyCustomPageFilePath(page, config);\n        }\n        return config;\n    }\n\n    /**\n     * Method updates \"$filePath\" property for custom page's config object.\n     * @param {v4.Page} page Custom page from 'app.json'.\n     * @param {CustomPageConfig} config Custom page's config object.\n     */\n    private applyCustomPageFilePath(page: v4.Page, config: CustomPageConfig): void {\n        const $filePath = getCustomPagePath(page, this.app);\n        config.$filePath = $filePath;\n    }\n}\n", "import {\n    v2,\n    FRAGMENTNAMEPART,\n    PropertyName,\n    ControlType,\n    PageTypeV2,\n    PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP,\n    ViewTemplateType,\n    LogSeverity,\n    ManifestSection\n} from '@sap/ux-specification-types';\nimport type { FlexForTransfer } from '../controls/table';\nimport { addFlexForTable } from '../controls/table';\nimport type {\n    ChangeDefinition,\n    FileData,\n    ObjectPageSectionData,\n    Manifest,\n    ExtensionLogger\n} from '@sap/ux-specification-types';\nimport {\n    convertActionKeyToStableId,\n    checkDeprecatedProperties,\n    importProperty,\n    parseChangeString\n} from '../../../common';\nimport { getReflectMetadata } from '../../../common/decoration/decorators';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport { xml2json } from 'xml-js';\nimport type { TableCustomColumn } from '../../export/controls';\nimport { FRAGMENT_DEFINITION, getRootCustomColumnFromFragmentJSON } from '../../export/controls';\nimport { ActionTypeV2 } from '../../types';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type LROPConfigsType = v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2 | v2.ObjectPageConfigV2;\n\nexport function convertActionKey(actionProperty: string) {\n    return actionProperty.replace('/', '::');\n}\n\n/**\n * Unescapes the selector ID of a flex change\n * @param selectorId - escaped selector ID\n * @returns unescaped ID\n */\nexport function convertSelector(selectorId: string): string {\n    return selectorId.replace(/:2f/g, '/').replace(/:23/g, '#').replace(/:40/g, '@');\n}\n\n/**\n * Adds flex changes to Smart Filter Bar in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addSmartFilterBarFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const schemaProperty =\n        jsonSchema['definitions']?.['ListReportFilterBar']?.properties[changePropertyKey] ||\n        jsonSchema['definitions']?.['AnalyticalListPageFilterBar']?.properties[changePropertyKey];\n    if (schemaProperty) {\n        config.filterBar[changePropertyKey] = change.content.newBinding\n            ? change.content.newBinding\n            : change.content.newValue;\n    }\n}\n\n/**\n * Creates a map to connect action types to the correct schema definition and config part\n * @param definitionType action type that will be filtered for\n * @param jsonSchema application specific schema\n * @returns {Map} actionMap - mapping of actionId, id for schema reference and id for config\n */\nfunction filterActions(definitionType: string, jsonSchema) {\n    const actions = Object.keys(jsonSchema['definitions']).filter(\n        (definition) => definition.startsWith(`${definitionType}`) && definition.includes('<')\n    );\n    const actionMap: Map<string, string> = new Map();\n    actions.forEach((definitionActionId) => {\n        const fullActionId = convertActionKeyToStableId(definitionActionId.split('<')[1]?.split('>')[0]);\n        const splitPoint = fullActionId.indexOf(':::');\n        if (fullActionId.startsWith('DataField') && splitPoint > -1) {\n            const actionIdParts = fullActionId.split(':::');\n            const sSemanticObject = actionIdParts.find((part) => part.startsWith('sSemanticObject'));\n            const sAction = actionIdParts.find((part) => part.startsWith('sAction'));\n            const shortAction = sAction.split('sAction::')[1].replace(':2f', '::');\n            if (sSemanticObject) {\n                const shortActionId = `${sSemanticObject.split('::')[1]}::${shortAction}`;\n                const shortDefinitionActionId = `${actionIdParts[0]}:::${sSemanticObject}:::${sAction}`;\n                actionMap.set(shortActionId, definitionActionId);\n                actionMap.set(definitionActionId, shortDefinitionActionId);\n            } else {\n                actionMap.set(shortAction, definitionActionId);\n                actionMap.set(definitionActionId, fullActionId);\n            }\n        } else {\n            actionMap.set(fullActionId.replace(':2f', '::'), definitionActionId);\n            actionMap.set(definitionActionId, fullActionId);\n        }\n    });\n    return actionMap;\n}\n\n/**\n * Adds a new action column to config\n * @param action - action part of config to be filled\n * @param config - the config of ALP/LR\n * @param configId - id of action to be used in config\n */\nfunction addColumnActionConfigPart(\n    action: { name: ActionTypeV2; configPart: v2.Actions | v2.GenericColumns; id: string },\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    configId: string\n) {\n    if (!action.configPart) {\n        action.configPart = config.table.columns = {};\n    }\n    if (!action.configPart[`${configId}`]) {\n        action.configPart[`${configId}`] = {};\n    }\n}\n\n/**\n * Adds flex changes to Actions in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addActionFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: Definition\n) {\n    const controlId = change.controlId.split('--action::')[1];\n    if (!controlId) {\n        return;\n    }\n    const actionId = convertSelector(controlId);\n    const actionTypes = [\n        {\n            name: ActionTypeV2.Footer,\n            configPart: config.footer.actions,\n            id: actionId.includes('Determining') && actionId.split('::Determining')[0]\n        },\n        { name: ActionTypeV2.ToolBar, configPart: config.table.toolBar.actions, id: actionId },\n        { name: ActionTypeV2.Column, configPart: config.table.columns, id: actionId }\n    ];\n    actionTypes.forEach((action) => {\n        const schemaActions = filterActions(action.name, jsonSchema);\n        if (schemaActions.has(action.id)) {\n            const referenceId = schemaActions.get(action.id);\n            const configId = referenceId.split('<')[1]?.split('>')[0];\n            if (action.name === ActionTypeV2.Column) {\n                addColumnActionConfigPart(action, config, configId);\n            }\n            const configPart = action.configPart[configId];\n            const schemaProperty = (jsonSchema.definitions[referenceId] as Definition)?.properties[changePropertyKey];\n            if (schemaProperty && configPart) {\n                configPart[changePropertyKey] = change.content.newBinding\n                    ? change.content.newBinding\n                    : change.content.newValue;\n            }\n        }\n    });\n}\n\n/**\n * Adds flex changes to Smart Chart in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addSmartChartFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const schemaProperty = jsonSchema['definitions']['ChartSettings'].properties[changePropertyKey];\n    if (schemaProperty) {\n        const syncRule = getReflectMetadata(config[PropertyName.chart], changePropertyKey);\n        if (syncRule?.flex?.importFlexValue) {\n            syncRule.flex.importFlexValue(change, config[PropertyName.chart], changePropertyKey);\n        } else {\n            config[PropertyName.chart][changePropertyKey] = change.content.newBinding\n                ? change.content.newBinding\n                : change.content.newValue;\n        }\n    }\n}\n\n/**\n * Checks and adds further flex changes to in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addAdditionalFlexChanges(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const flexForTransfer: FlexForTransfer = {\n        controlId: change.controlId,\n        propertyId: change.content.property,\n        newValue: change.content.newBinding ? change.content.newBinding : change.content.newValue,\n        controlType: change.controlType,\n        creation: change.creation\n    };\n    let constructorName;\n    if (\n        (!config.table.type || config.table.type === v2.TableTypeV2.ResponsiveTable) &&\n        !flexForTransfer.controlId.includes(PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP.get(PageTypeV2.AnalyticalListPage))\n    ) {\n        constructorName = 'ResponsiveTableWithMultiSelect';\n    } else {\n        constructorName = config.table.constructor.name;\n    }\n    const schemaProperty =\n        jsonSchema['definitions'][`${constructorName}<LineItems>`].properties[flexForTransfer.propertyId];\n    if (schemaProperty || flexForTransfer.controlType === ControlType.TableColumn) {\n        addFlexForTable(config.table, flexForTransfer, jsonSchema);\n    }\n}\n\n/**\n * Adds flex changes to config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changeString - change file as string\n * @param {object} appSchema - application specific schema\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function addFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changeString: string,\n    appSchema: object,\n    logger?: ExtensionLogger\n): void {\n    try {\n        const change = parseChangeString(changeString) as ChangeDefinition;\n        const changePropertyKey = change.content.property;\n        if (\n            change.controlId?.includes(PageTypeV2.ListReport) ||\n            change.controlId?.includes(PageTypeV2.AnalyticalListPage)\n        ) {\n            change.controlId = convertSelector(change.controlId);\n            switch (change.controlType) {\n                case ControlType.SmartFilterBar: {\n                    addSmartFilterBarFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                case ControlType.DynamicPage: {\n                    const schemaProperty = appSchema['properties'][changePropertyKey];\n                    if (schemaProperty) {\n                        config[change.content.property] = change.content.newValue;\n                    }\n                    break;\n                }\n                case ControlType.Button: {\n                    addActionFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                case ControlType.SmartChart: {\n                    addSmartChartFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                default: {\n                    addAdditionalFlexChanges(config, change, appSchema);\n                    break;\n                }\n            }\n        }\n    } catch (error) {\n        log(\n            logger,\n            {\n                severity: LogSeverity.Error,\n                message: i18next.t('FLEXERROR')\n            },\n            ...error\n        );\n    }\n}\n\n/**\n * Special post-processing for quickVariantSelectionX during the import\n * @param propertyKey - key of the current schema property\n * @param configPart  - part of the configuration to be enhanced\n */\nfunction adjustQuickVariantSelectionX(propertyKey: string, configPart: { [key: string]: any }) {\n    if (propertyKey === 'quickVariantSelectionX' && configPart[propertyKey]) {\n        for (const variant in configPart[propertyKey]['variants']) {\n            const currentQuickVariantX = configPart[propertyKey]['variants'][variant];\n            if (currentQuickVariantX['tableSettings']) {\n                for (const key in currentQuickVariantX['tableSettings']) {\n                    currentQuickVariantX[key] = currentQuickVariantX['tableSettings'][key];\n                }\n                delete currentQuickVariantX['tableSettings'];\n            }\n        }\n    }\n}\n\n/**\n * Transfers settings from manifest to object page config\n * @param configPart - part of the configuration to be filled\n * @param manifest - manifest.json of the app\n * @param appSchema - app specific schema\n * @param pageID - ID of the given object page\n * @param sectionId (optional) - ID of the given section (optional)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: object,\n    pageKey: string,\n    logger?: ExtensionLogger,\n    kpiKey?: string\n): void {\n    if (!appSchema) {\n        return;\n    }\n    let manifestSection = {};\n    const deprecatedProperties = configPart.getDeprecated ? configPart.getDeprecated() : undefined;\n\n    if (appSchema['properties']) {\n        for (const propertyKey in appSchema['properties']) {\n            const syncRule = getReflectMetadata(configPart, propertyKey);\n            if (syncRule?.manifest) {\n                const path = syncRule.manifest.path([pageKey], manifest, kpiKey);\n                manifestSection = ensureManifestSectionByPathV2(manifest, path);\n                importProperty(syncRule, manifestSection, propertyKey, configPart);\n                checkDeprecatedProperties(deprecatedProperties, manifestSection, path, logger);\n            }\n            // Adjustment of 'quickVariantSelectionX' - tableSettings\n            adjustQuickVariantSelectionX(propertyKey, configPart);\n        }\n    }\n}\n\n/**\n * Determines the table type for a given LR or ALP table, based on the component name and its table settings\n * This does not exactly reflect the run time behavior of Fiori elements but a best guess and expectation.\n * @param manifest - manifest.json file content of the app\n * @param pageKey - key of the page in the manifest\n */\nexport function determineTableType(manifest: Manifest, pageKey: string): v2.TableTypeV2 {\n    const page = manifest[ManifestSection.generic].pages[pageKey];\n    let tableType: v2.TableTypeV2 = v2.TableTypeV2.ResponsiveTable;\n    if (\n        manifest[ManifestSection.generic].pages[pageKey].component.settings &&\n        ((manifest[ManifestSection.generic].pages[pageKey].component.settings.tableSettings &&\n            manifest[ManifestSection.generic].pages[pageKey].component.settings.tableSettings['type']) ||\n            manifest[ManifestSection.generic].pages[pageKey].component.settings['tableType'])\n    ) {\n        tableType = page.component.settings?.tableSettings?.['type'] || page.component.settings['tableType'];\n    } else if (page.component.name === 'sap.suite.ui.generic.template.AnalyticalListPage') {\n        tableType = v2.TableTypeV2.AnalyticalTable;\n    }\n    return tableType;\n}\n\nfunction evaluateFragmentColumn(\n    column: any,\n    viewExtensionsOfPage: any,\n    manifestKey: string,\n    keyPart3: string,\n    config: v2.ListReportConfigV2,\n    extensionType: v2.TableColumnExtensionTypeV2,\n    cellsFragmentName?: string\n): void {\n    if (column['customData'] || column['table:customData']) {\n        const p13nData = column['customData']\n            ? column['customData']['core:CustomData']._attributes.value\n            : column['table:customData']['core:CustomData']._attributes.value;\n        const columnParts = JSON.parse(p13nData.substr(1, p13nData.length));\n        let columnText = column['Text'] && column['Text']._attributes && column['Text']._attributes['text'];\n        if (!columnText) {\n            columnText = column['Label'] && column['Label']._attributes && column['Label']._attributes['text'];\n        }\n        const customElement: TableCustomColumn = {\n            id: column._attributes && column._attributes['id'],\n            text: columnText,\n            ...columnParts,\n            columnKey: columnParts['columnKey'],\n            columnIndex: columnParts['columnIndex'] !== undefined ? Number(columnParts['columnIndex']) : undefined,\n            leadingProperty: columnParts['leadingProperty'],\n            className: viewExtensionsOfPage[manifestKey].className,\n            fragmentName: viewExtensionsOfPage[manifestKey].fragmentName,\n            tabKey: keyPart3,\n            extensionType\n        };\n        if (cellsFragmentName) {\n            customElement.cellsFragmentName = cellsFragmentName;\n        }\n        if (!config.table['columns']['custom']) {\n            config.table['columns']['custom'] = [];\n        }\n        const customColumns = config.table['columns']['custom'] as v2.TableCustomColumns;\n        customColumns.push(customElement);\n    }\n}\n\nfunction determineCellsFragmentName(\n    extensionType: any,\n    viewExtensionsOfPage: any,\n    keyEntitySet: string,\n    referenceId: string\n) {\n    let cellsFragmentName;\n    if (extensionType === ViewTemplateType.ResponsiveTableColumnsExtension) {\n        for (const cellsKey of Object.keys(viewExtensionsOfPage)) {\n            const [cellsKeyType, cellsKeyEntitySet, cellsKeyTab] = cellsKey.split('|');\n            if (\n                cellsKeyType === ViewTemplateType.ResponsiveTableCellsExtension &&\n                cellsKeyEntitySet === keyEntitySet &&\n                cellsKeyTab === referenceId\n            ) {\n                cellsFragmentName = viewExtensionsOfPage[cellsKey].fragmentName;\n            }\n        }\n    }\n    return cellsFragmentName;\n}\n\nfunction analzyeFilteredFragments(\n    filteredFragments: FileData[],\n    config: LROPConfigsType,\n    viewExtensionsOfPage: any,\n    manifestKey: string,\n    keyTab: string,\n    extensionType: any,\n    cellsFragmentName: any\n) {\n    if (filteredFragments[0]) {\n        const fragmentJson = JSON.parse(xml2json(filteredFragments[0].fileContent, { compact: true }));\n        const fragmentDefintion = fragmentJson[FRAGMENT_DEFINITION];\n        const columnDefinition = getRootCustomColumnFromFragmentJSON(fragmentDefintion);\n        if (columnDefinition) {\n            if (!config[PropertyName.table]?.['columns']) {\n                config[PropertyName.table]['columns'] = {};\n            }\n            if (Array.isArray(columnDefinition)) {\n                for (const def of columnDefinition) {\n                    evaluateFragmentColumn(\n                        def,\n                        viewExtensionsOfPage,\n                        manifestKey,\n                        keyTab,\n                        config,\n                        extensionType,\n                        cellsFragmentName\n                    );\n                }\n            } else {\n                evaluateFragmentColumn(\n                    columnDefinition,\n                    viewExtensionsOfPage,\n                    manifestKey,\n                    keyTab,\n                    config,\n                    extensionType,\n                    cellsFragmentName\n                );\n            }\n        }\n    }\n}\n\nfunction processViewExtensions(\n    viewExtensionsOfPage: object,\n    targetKeyEntitySet: string,\n    objectPageSectionData: ObjectPageSectionData,\n    config: LROPConfigsType,\n    fragments?: FileData[]\n) {\n    for (const manifestKey of Object.keys(viewExtensionsOfPage)) {\n        const manifestKeyParts = manifestKey.split('|');\n        const [keyExtensionType, keyEntitySet] = manifestKeyParts;\n        // If Object Page section have key, then Ignore it as it is not from QuickVariantSelectionX\n        const referenceId = manifestKeyParts[2];\n        const keyTab = objectPageSectionData && referenceId === objectPageSectionData.key ? undefined : referenceId;\n        const extensionType = ViewTemplateType[keyExtensionType];\n        if (extensionType && '|' + keyEntitySet === targetKeyEntitySet) {\n            const fragmentType = viewExtensionsOfPage[manifestKey].type\n                ? viewExtensionsOfPage[manifestKey].type.toLowerCase()\n                : 'xml';\n            let fragmentName = viewExtensionsOfPage[manifestKey].fragmentName;\n            if (!fragmentName) {\n                continue;\n            }\n            // Responsive Table ==> check cells' fragment name\n            const cellsFragmentName = determineCellsFragmentName(\n                extensionType,\n                viewExtensionsOfPage,\n                keyEntitySet,\n                referenceId\n            );\n\n            // Retrieve information from fragment\n            const fragmentParts = fragmentName.split('.');\n            fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n            const filteredFragments = fragments.filter((fragment) => fragment['dataSourceUri'].endsWith(fragmentName));\n            analzyeFilteredFragments(\n                filteredFragments,\n                config,\n                viewExtensionsOfPage,\n                manifestKey,\n                keyTab,\n                extensionType,\n                cellsFragmentName\n            );\n        }\n    }\n}\n\n/**\n * Adds custom column information from manifest and fragments to the configuration\n * @param config - configuration, to be enhanced\n * @param manifest - actual manifest.json\n * @param v2Page - actual page in the manifest\n * @param pageType - type of the page\n * @param fragments - list of all fragments\n * @param objectPageSectionData - optional information, for object page\n */\nexport function addFragments(\n    config: LROPConfigsType,\n    manifest: object,\n    v2Page: v2.SapUiAppPageV2,\n    pageType: PageTypeV2,\n    fragments?: FileData[],\n    objectPageSectionData?: ObjectPageSectionData\n): void {\n    if (!fragments) {\n        return;\n    }\n    const targetKeyEntitySet =\n        '|' + (objectPageSectionData && objectPageSectionData.target ? objectPageSectionData.target : v2Page.entitySet);\n\n    if (\n        manifest[ManifestSection.ui5] &&\n        manifest[ManifestSection.ui5]['extends'] &&\n        manifest[ManifestSection.ui5]['extends']['extensions'] &&\n        manifest[ManifestSection.ui5]['extends']['extensions']['sap.ui.viewExtensions']\n    ) {\n        const viewExtension = PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP.get(pageType);\n        const viewExtensionsOfPage =\n            manifest[ManifestSection.ui5]['extends']['extensions']['sap.ui.viewExtensions'][viewExtension];\n        if (!viewExtensionsOfPage) {\n            return;\n        }\n        processViewExtensions(viewExtensionsOfPage, targetKeyEntitySet, objectPageSectionData, config, fragments);\n    }\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName, VOCWITHCOLONS } from '@sap/ux-specification-types';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type FlexForTransfer = {\n    controlId: string;\n    controlType: string;\n    propertyId: string;\n    facetId?: string;\n    newValue: any;\n    creation: string;\n};\n\nexport interface FlexChangesForTransfer {\n    [controlId: string]: FlexForTransfer;\n}\n\nexport type ConfigTableType = v2.ResponsiveTable | v2.TreeTable | v2.AnalyticalTable | v2.GridTable | v2.TableALP;\n\nexport function addFlexForTable(config: ConfigTableType, change: FlexForTransfer, jsonSchema: Definition): void {\n    if (change.controlType.endsWith(DefinitionName.Table)) {\n        config[change.propertyId] = change.newValue;\n    } else if (change.controlType === ControlType.TableColumn) {\n        const schemaProperty = (jsonSchema?.definitions[DefinitionName.TableColumn] as Definition).properties[\n            change.propertyId\n        ];\n        if (!schemaProperty) {\n            return;\n        }\n        const idParts = change.controlId.split('-');\n        const lastIdPart = idParts[idParts.length - 1];\n        // As the last stable Id part is still too long in some cases, strip off the fixed parts.\n        // It must the be added again by the export!\n        const annotationPart = lastIdPart.split('template:::TableColumn:::');\n        const colId = annotationPart[annotationPart.length - 1]\n            .replace(/sSmartTableId.+?:::/, '')\n            .replace('::com.sap.vocabularies', VOCWITHCOLONS)\n            .replace('/', ':2f');\n        if (!config.columns) {\n            config.columns = {};\n        }\n        if (!config.columns[colId]) {\n            config.columns[colId] = {};\n        }\n        config.columns[colId][change.propertyId] = change.newValue;\n    }\n}\n", "import type { PageTypeV4 } from '@sap/ux-specification-types';\nimport { v2, PageTypeV2 } from '@sap/ux-specification-types';\n\n/**\n * Method searches in manifest object by passed path and returns found value.\n * If value was not found in manifest object,\n *   then method created empty object in manifest object within passed path.\n * @param manifest - target manifest object\n * @param path - path to lookup in manifest\n * @returns Found or created value\n */\nexport const ensureManifestSectionByPathV2 = (manifest: object, path: string): object => {\n    let manifestSection = manifest;\n    path.split('/').forEach(function (element) {\n        if (!manifestSection[element]) {\n            manifestSection[element] = {};\n        }\n        manifestSection = manifestSection && manifestSection[element];\n    });\n    return manifestSection ? manifestSection : {};\n};\n\n/**\n * Method searches in manifest object by passed path and returns found value.\n * If value was not found in manifest object, then 'undefined' is returned.\n * @param manifest - target manifest file\n * @param path - path to lookup in manifest\n * @returns Found value\n */\nexport const getManifestSectionByPathV2 = (manifest: object, path: string): object | undefined => {\n    let manifestSection = manifest;\n    const elements = path.split('/');\n    for (const element of elements) {\n        if (!manifestSection[element]) {\n            return undefined;\n        }\n        manifestSection = manifestSection && manifestSection[element];\n    }\n    return manifestSection ? manifestSection : {};\n};\n\nexport const deleteManifestSectionByPathV2 = (manifest: object, path: string): void => {\n    let manifestSection = manifest;\n    for (let index = 0; index < path.split('/').length; index++) {\n        const element = path.split('/')[index];\n        if (index === path.split('/').length - 1) {\n            delete manifestSection[element];\n        } else {\n            manifestSection = manifestSection && manifestSection[element];\n        }\n    }\n};\n\nfunction getNewPageTemplate(pageType: PageTypeV2 | PageTypeV4): object {\n    return {\n        component: {\n            name: 'sap.suite.ui.generic.template.' + pageType\n        }\n    };\n}\n\n/**\n * Method finds matching pages by 'entitySet' and 'navigationProperty' in passed pages object.\n * @param {SapUiAppPagesV2} pages Object with pages.\n * @param {string} [entitySet] Entity set.\n * @param {string} [navigationProperty] Navigation property.\n * @returns {SapUiAppPageV2 | undefined} Matching page object.\n */\nfunction findPageInManifest(\n    pages: v2.SapUiAppPagesV2,\n    entitySet?: string,\n    navigationProperty?: string\n): v2.SapUiAppPageV2 | undefined {\n    if (!pages) {\n        return;\n    }\n    for (const pageId in pages) {\n        const page = pages[pageId];\n        if (page.entitySet === entitySet && page.navigationProperty === navigationProperty) {\n            return page;\n        }\n    }\n}\n\nfunction transformPageFromAssociation(configPages: v2.Pages, association: string, manifestPage: object) {\n    //Handling partial deletion of a page\n    if (!configPages[association]) {\n        return;\n    }\n    if (manifestPage['pages'] && !Object.values(manifestPage['pages'])[0]) {\n        manifestPage['pages'][`${configPages[association].pageType}|${configPages[association].entitySet}`] =\n            getNewPageTemplate(configPages[association].pageType);\n    }\n    if (!manifestPage['pages']) {\n        manifestPage['pages'] = {\n            [`${configPages[association].pageType}|${configPages[association].entitySet}`]: getNewPageTemplate(\n                configPages[association].pageType\n            )\n        };\n    }\n    if (!Array.isArray(manifestPage['pages'])) {\n        let associatedManifestPage = findPageInManifest(\n            manifestPage['pages'],\n            configPages[association].entitySet,\n            configPages[association].navigationProperty\n        );\n\n        if (!associatedManifestPage) {\n            manifestPage['pages'][`${configPages[association].pageType}|${configPages[association].entitySet}`] =\n                associatedManifestPage = getNewPageTemplate(configPages[association].pageType);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transformPageToNewManifestV2(association, configPages, associatedManifestPage);\n    }\n}\n\nfunction deletePage(manifestPage: object, configPages: v2.Pages, configPage: v2.Page) {\n    if (manifestPage['pages']) {\n        Object.keys(manifestPage['pages']).forEach((key) => {\n            const currentPage = manifestPage['pages'][key];\n            if (currentPage.component.name === v2.FE_TEMPLATE_V2_OBJECT_PAGE) {\n                const configKey = `ObjectPage_${currentPage.entitySet}`;\n                if (!configPages[configKey]) {\n                    delete manifestPage['pages'][key];\n                }\n            }\n        });\n    }\n    if (\n        (configPage.pageType === PageTypeV2.ListReport || configPage.pageType === PageTypeV2.AnalyticalListPage) &&\n        Object.keys(configPage.navigation).length === 0\n    ) {\n        delete manifestPage['pages'];\n    }\n}\n\n/**\n * Transfers pages and routings from manifest to the config pages\n * @param pageId - page ID\n * @param configPages - config definitions of each page\n * @param manifestPage - top page definition in manifest\n */\nexport function transformPageToNewManifestV2(pageId: string, configPages: v2.Pages, manifestPage: object): void {\n    const configPage = configPages[pageId];\n    if (!configPage) {\n        return;\n    }\n    if (configPage.entitySet) {\n        manifestPage['entitySet'] = configPage.entitySet;\n    }\n    if (configPage.pageType === PageTypeV2.ListReport) {\n        manifestPage['component']['list'] = true;\n    }\n    if (configPage.navigationProperty) {\n        manifestPage['navigationProperty'] = configPage.navigationProperty;\n    }\n    if (configPage.defaultLayoutType) {\n        manifestPage['defaultLayoutType'] = configPage.defaultLayoutType;\n    } else if ('defaultLayoutType' in manifestPage) {\n        delete manifestPage['defaultLayoutType'];\n    }\n    if (configPage.navigation) {\n        for (const association in configPage.navigation) {\n            transformPageFromAssociation(configPages, association, manifestPage);\n        }\n        // Delete page\n        if (!Array.isArray(manifestPage['pages'])) {\n            deletePage(manifestPage, configPages, configPage);\n        }\n    }\n}\n", "export * from './Card';\nexport * from './Field';\nexport * from './FilterBar';\nexport * from './FormAction';\nexport * from './Fragment';\nexport * from './Table';\nexport * from './TableColumn';\nexport * from './ToolBar';\nexport * from './Action';\nexport * from './AnalyticalListPageChart';\nexport * from './AnalyticalListPageKPI';\nexport * from './ObjectPageHeader';\nexport * from './ObjectPageHeaderAction';\nexport * from './ObjectPageFooterAction';\nexport * from './ObjectPageLayout';\nexport * from './ObjectPageCustomSection';\nexport * from './ObjectPageSectionsV2';\nexport * from './ObjectPageChart';\nexport * from './ObjectPageTable';\nexport * from './ObjectPageToolBarAction';\n", "import { syncRule, childId, validity } from '../common/decoration';\nimport type {\n    TableColumnVerticalAlignment,\n    StatePreservationMode,\n    DraftDiscardConfirmationSettings,\n    Target,\n    Application,\n    FlexibleColumnLayout,\n    Manifest\n} from '@sap/ux-specification-types';\nimport { v2, ManifestSection, GENERICAPPSETTINGS, VOCWITHCOLONS } from '@sap/ux-specification-types';\n\nexport const getAppSettingPathV2 = (pageKeys: string[]): string => {\n    return `${ManifestSection.generic}/pages/${pageKeys[0]}/component/settings`;\n};\n\nexport const getTableSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/tableSettings';\n};\n\nexport const getChartSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/chartSettings';\n};\n\nexport const getDataLoadSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/dataLoadSettings';\n};\n\nexport const getCreationFieldsPathV2 = (pageKeys: string[], key: string): string => {\n    return `${getTableSettingPathV2(pageKeys)}/createWithParameterDialog/fields/${key}`;\n};\n\nexport const getOVPsettingPath = (): string => {\n    return ManifestSection.ovp;\n};\n\nexport const getCardSettingsPath = (cardKey: string[]): string => {\n    const pathParts: string[] = [ManifestSection.ovp + '/cards'];\n    cardKey.forEach((block) => {\n        if (block in v2.CardSettingsType) {\n            pathParts.push('settings');\n        } else {\n            pathParts.push(block);\n        }\n    });\n    pathParts.pop();\n    return pathParts.join('/');\n};\n\nexport const getGlobalSettingsPath = (cardKey: string[]): string => {\n    const pathParts: string[] = [ManifestSection.ovp];\n    cardKey.forEach((block) => {\n        pathParts.push(block);\n    });\n    pathParts.pop();\n    return pathParts.join('/');\n};\n\n// This corresponds to ALP KPI settings\nexport const getKPISettingsPath = (pageKeys: string[], kpiKey: string): string => {\n    return `${ManifestSection.generic}/pages/${pageKeys[0]}/component/settings/keyPerformanceIndicators/${kpiKey}`;\n};\n\n// This corresponds to List Report and Object page global settings\nexport const getAppRootSettingOBJPath = (pageKeys: string[]): string => {\n    const pathParts: string[] = [ManifestSection.generic];\n    pageKeys.forEach((pageKey) => {\n        pathParts.push('pages/' + pageKey);\n    });\n    return pathParts.join('/');\n};\n\n// This corresponds to global object page settings\nexport const getAppSettingOBJPathV2 = (pageKeys: string[]): string => {\n    const pathParts: string[] = [];\n    pathParts.push(getAppRootSettingOBJPath(pageKeys));\n    pathParts.push('component/settings');\n    return pathParts.join('/');\n};\n\nexport const getAppSettingOBJsectionPathV2 = (pageKeys: string[], _manifest: Manifest, sectionId: string): string => {\n    const pathParts: string[] = [];\n    pathParts.push(getAppRootSettingOBJPath(pageKeys));\n    const manifestSectionId = sectionId.replace(VOCWITHCOLONS, '::com.sap.vocabularies');\n    pathParts.push('component/settings/sections/' + manifestSectionId);\n    return pathParts.join('/');\n};\n\nexport const getTableSettingsOBJsectionPathV2 = (\n    pageKeys: string[],\n    _manifest: Manifest,\n    sectionId: string\n): string => {\n    const path = getAppSettingOBJsectionPathV2(pageKeys, {}, sectionId);\n    return path + '/tableSettings';\n};\n\nexport const getChartSettingsOBJsectionPathV2 = (\n    pageKeys: string[],\n    _manifest: Manifest,\n    sectionId: string\n): string => {\n    const path = getAppSettingOBJsectionPathV2(pageKeys, {}, sectionId);\n    return path + '/chartSettings';\n};\n\nexport const getViewExtensionsPath = (): string => {\n    return `sap.ui5/extends/extensions/${v2.SAPUI5_VIEW_EXTENSION}/${v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE}`;\n};\n\nexport const getObjectPageCustomSectionPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    ...pathParts: string[]\n): string => {\n    const separator = '|';\n    const sectionIdParts = sectionId.split(separator);\n    const pageNameParts = pageName[pageName.length - 1].split(separator);\n    let idLastPart = '';\n    if (sectionIdParts.length === 4) {\n        // Four parts ==> the last one is incremented to avoid getting the same path\n        // We need to merge 3 and 4\n        idLastPart = [sectionIdParts[2], sectionIdParts[3]].join(separator);\n    } else if (sectionIdParts.length === 3) {\n        idLastPart = sectionIdParts[2];\n    }\n    const customSectionId = [sectionIdParts[0], pageNameParts[pageNameParts.length - 1], idLastPart].join(separator);\n    // Sub-path parts are passed\n    pathParts.unshift(customSectionId);\n\n    return `${getViewExtensionsPath()}/${pathParts.join('/')}`;\n};\n\nexport class ApplicationV2 implements Application {\n    id?: string;\n    pages?: v2.Pages;\n    home?: string;\n    target?: Target;\n    @childId('settings')\n    settings?: AppSettings;\n}\n\nexport class AppSettings implements v2.AppSettings {\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    title?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    description?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    flexibleColumnLayout?: FlexibleColumnLayout;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    forceGlobalRefresh?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.74.0'\n    })\n    tableColumnVerticalAlignment?: TableColumnVerticalAlignment;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5'\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    flexEnabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.96.0'\n    })\n    draftDiscardConfirmationSettings?: DraftDiscardConfirmationSettings;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.96.0'\n    })\n    statePreservationMode?: StatePreservationMode;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport { getCardSettingsPath } from '../../application';\n\nexport class CommonCardSettings implements v2.CommonCardSettings {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    subTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    identificationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    presentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    defaultSpan?: v2.DefaultSpanDef;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    requireAppAuthorization?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    tabs?: [v2.TabSetting];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    addODataSelect?: boolean;\n}\n\nexport class CustomCard extends CommonCardSettings implements v2.CustomCard, v2.CustomCardSettings {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings?: v2.CustomCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    itemText?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    staticContent?: {\n        [k: string]: any;\n    }[];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: 'ascending' | 'descending';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    kpiAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionPresentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dynamicSubtitleAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    ignoreSapText?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    objectStreamCardsSettings?: {\n        showFirstActionInFooter?: boolean;\n        annotationPath?: string;\n    };\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    enableLocaleCurrencyFormatting?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    navigation?: 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showFilterInHeader?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showSortingInHeader?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    imageSupported?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showLineItemDetail?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showLabelText?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    customParams?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartProperties?: {\n        plotArea?: v2.PlotAreaDef;\n    };\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport class ListCard extends CommonCardSettings implements v2.ListCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.list | v2.CardTemplateType.listv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.ListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listCardSettings: v2.ListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n}\n\nexport class AnalyticalCard extends CommonCardSettings implements v2.AnalyticalCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.analytical | v2.CardTemplateType.analyticalv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.AnalyticalCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    analyticalCardSettings: v2.AnalyticalCardSettings | v2.AnalyticalCardSettingsv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n}\n\nexport class StackCard extends CommonCardSettings implements v2.StackCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.stack;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.StackCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    stackCardSettings: v2.StackCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    itemText?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    objectStreamCardsNavigationProperty?: string;\n}\n\nexport class LinklistCard extends CommonCardSettings implements v2.LinklistCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.linklist | v2.CardTemplateType.linklistv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.LinkListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    linkListCardSettings: v2.LinkListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    subTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    targetUri?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    headerAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    identificationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    defaultSpan?: v2.DefaultSpanDef;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    staticContent?: v2.StaticContent[];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    requireAppAuthorization?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n}\n\nexport class TableCard extends CommonCardSettings implements v2.TableCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.table | v2.CardTemplateType.tablev4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    disableTableCardFlexibility?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.TableCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    tableCardSettings: v2.TableCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionPresentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP, convertSectionId } from '../../../common';\n\n/**\n * Create stable ID for Object Page Form Field\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Form Action button\n */\nconst getSmartFieldControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const fieldCrumb = breadcrumbs.slice(-1)[0];\n    const breadcrumbsTrail = [convertedId, fieldCrumb, 'GroupElement'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport class Field implements v2.Field {\n    @syncRule({\n        flex: {\n            controlId: getSmartFieldControlId,\n            controlType: (): ControlType => ControlType.GroupElement,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n", "import { syncRule, validity } from '../../../common/decoration/decorators';\nimport { buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\nimport { getAppSettingPathV2 } from '../../application';\nimport { convertEnumToCSV } from '../../../common';\nimport { ControlType, DATESETTINGSPATH, v2 } from '@sap/ux-specification-types';\n\nexport function importDateSettings(manifestSection: object): DateRange {\n    if (!manifestSection || !manifestSection['dateSettings']) {\n        return undefined;\n    }\n    const configPart: DateRange = JSON.parse(JSON.stringify(manifestSection['dateSettings']));\n    // converted CSV format to array of strings\n    if (typeof manifestSection['dateSettings']['selectedValues'] === 'string') {\n        configPart.selectedValues = manifestSection['dateSettings']['selectedValues'].split(',') as v2.DateRangeType[];\n    }\n    delete configPart['fields'];\n    return configPart;\n}\n\nfunction importDateSettingsField(manifestSection: string | Array<object>, _sectionId: string, propertyKey: string) {\n    const configPart = manifestSection?.[propertyKey]\n        ? JSON.parse(JSON.stringify(manifestSection?.[propertyKey]))\n        : undefined;\n    let selectionField;\n    if (propertyKey === 'selectedValues' && typeof configPart === 'string') {\n        selectionField = configPart.split(',') as v2.DateRangeType[];\n    }\n    if (propertyKey === 'filter' && typeof configPart === 'object') {\n        selectionField = [];\n        configPart.forEach((section, index) => {\n            selectionField[index] = section;\n            if (section['equals'] && typeof section['equals'] === 'string') {\n                selectionField[index].equals = section['equals'].split(',') as v2.DateRangeType[];\n            }\n        });\n    }\n    return selectionField;\n}\n\nexport function exportDateSettingsField(manifestSection: unknown, configPart: DateRange, key: string): void {\n    manifestSection[key] = JSON.parse(JSON.stringify(configPart[key]));\n    const field = configPart[key];\n    if (key === 'selectedValues') {\n        manifestSection[key] = field.join();\n    }\n    if (key === 'filter') {\n        for (const filterKey in field) {\n            const filterValue = field[filterKey];\n            manifestSection[key][filterKey] = filterValue;\n            if (filterValue.equals && Array.isArray(filterValue.equals)) {\n                manifestSection[key][filterKey].equals = filterValue.equals.join();\n            }\n        }\n    }\n}\n\nexport class DateRange implements v2.DateRange {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => {\n                return getAppSettingPathV2(pageKeys) + DATESETTINGSPATH;\n            }\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    useDateRange?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + DATESETTINGSPATH,\n            import: importDateSettings,\n            export: convertEnumToCSV\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    selectedValues?: v2.DateRangeType[];\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + DATESETTINGSPATH\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    exclude?: boolean;\n}\n\nconst flexRuleForSmartFilterBar = {\n    controlId: buildControlIdFromParent,\n    controlType: (): ControlType => ControlType.SmartFilterBar,\n    createFlexChange: exportToFlexChange\n};\n\nconst manifestRuleForSelectionField = {\n    path: (pageKeys, _manifest, breadcrumbs): string =>\n        `${getAppSettingPathV2(pageKeys)}${DATESETTINGSPATH}/fields/${breadcrumbs}`\n};\n\nconst manifestRuleForSelectionFieldWithArrays = {\n    ...manifestRuleForSelectionField,\n    import: importDateSettingsField,\n    export: exportDateSettingsField\n};\n\nexport class DefaultDateRange implements v2.DefaultDateRange {\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.90.0'\n    })\n    operation: v2.DefaultDateRangeValueType;\n}\n\nexport class SelectionFieldDateSettings implements v2.SelectionFieldDateSettings {\n    @syncRule({\n        manifest: manifestRuleForSelectionFieldWithArrays\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    selectedValues?: v2.DateRangeType[];\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    exclude?: boolean;\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    customDateRangeImplementation?: string;\n\n    @syncRule({\n        manifest: manifestRuleForSelectionFieldWithArrays\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    filter?: v2.FilterType[];\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.90.0'\n    })\n    defaultValue?: DefaultDateRange;\n}\n\nexport class SelectionFields implements v2.SelectionFields {\n    [key: string]: v2.SelectionField | v2.SelectionFieldDateSettings;\n}\n\nexport class CommonFilterBar implements v2.CommonFilterBar {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    smartVariantManagement?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.40.0'\n    })\n    liveMode?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variantManagementHidden: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0' // Available in 1.52 so exact validity information is not required\n    })\n    subTitleIfVariantMgmtHidden?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + '/filterSettings',\n            import: importDateSettings\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    dateSettings?: DateRange;\n\n    selectionFields?: SelectionFields;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    showClearOnFB?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    showFilterConfiguration?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    showRestoreOnFB?: boolean;\n}\n\nexport class AnalyticalListPageFilterBar extends CommonFilterBar implements v2.AnalyticalListPageFilterBar {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    showGoButtonOnFilterBar?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n\nexport class ListReportFilterBar extends CommonFilterBar implements v2.ListReportFilterBar {\n    // This is replaced by an enum containing list of SelectionVariant annotations during generate\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    annotationPath?: string;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport {\n    syncRule,\n    exportToFlexChange,\n    buildControlIdFromParent,\n    validity,\n    convertSectionId\n} from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Form Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Form Action button\n */\nconst getFormActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction,\n    facetID: string\n): string => {\n    if (controlType() === ControlType.Button) {\n        const entity = breadcrumbs[breadcrumbs.length - 1];\n        const section = convertSectionId(breadcrumbs[1], facetID);\n        return `${baseId}action::${entity}::${section}::FormAction`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForFormAction = {\n    controlId: getFormActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class FormAction implements v2.FormAction {\n    @syncRule({\n        flex: flexRuleForFormAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    type?: ButtonType;\n}\n\nexport class FieldForAction implements v2.FormAction {\n    @syncRule({\n        flex: flexRuleForFormAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    @validity({\n        since: '1.73.0'\n    })\n    type?: ButtonType;\n}\n", "import { v2, FRAGMENTNAMEPART, ViewTemplateType, LogSeverity } from '@sap/ux-specification-types';\nimport type { ExportResults, FileData, ExtensionLogger } from '@sap/ux-specification-types';\nimport { xml2json, json2xml } from 'xml-js';\nimport {\n    getSingleColumnContent,\n    getColumnFragmentContent,\n    getResponsiveTableCellsFragment\n} from '../view-controller-generator';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { deleteManifestSectionByPathV2, ensureManifestSectionByPathV2 } from '../manifest';\nimport { sep } from 'path';\n\nexport const FRAGMENT_DEFINITION = 'core:FragmentDefinition';\nexport const SAP_UI_TABLE = 'sap.ui.table';\n\nconst VIEW_TEMPLATE_TAGTYPE_MAP: Map<ViewTemplateType, { namespace: string; name: string }> = new Map([\n    [ViewTemplateType.ResponsiveTableColumnsExtension, { namespace: 'sap.m', name: 'Column' }],\n    [ViewTemplateType.TreeTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'Column' }],\n    [ViewTemplateType.GridTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'Column' }],\n    [ViewTemplateType.AnalyticalTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'AnalyticalColumn' }]\n]);\n\nconst FE_TEMPLATE_VIEW_EXTENSION_MAP: Map<string, string> = new Map([\n    [v2.FE_TEMPLATE_V2_LIST_REPORT, v2.SAPUI5_VIEW_EXTENSION_LIST_REPORT],\n    [v2.FE_TEMPLATE_V2_ALP, v2.SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE],\n    [v2.FE_TEMPLATE_V2_OBJECT_PAGE, v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]\n]);\n\nconst dummyEntry = {\n    type: 'element',\n    name: 'Text',\n    attributes: { text: 'Placeholder' }\n};\nconst dummyEntryAsString = JSON.stringify(dummyEntry);\n\n/**\n * Lists namespaces available in fragment to consider\n * @param fragment - fragment content\n * @param isCoreFragmentDefinition - If set to true, only the namespaces in core definition will be considered\n * @returns {Map<string, string[]> | undefined} - If available, namespaces will be returned as Map (key: alias, values: name[])\n */\nfunction getFragmentNamespaces(fragment, isCoreFragmentDefinition: boolean): Map<string, string[]> | undefined {\n    const fragmentAttributes = isCoreFragmentDefinition\n        ? fragment[FRAGMENT_DEFINITION]['_attributes']\n        : fragment['_attributes'];\n    if (fragmentAttributes) {\n        const allFragmentNamespaces = new Map<string, string[]>();\n        Object.keys(fragmentAttributes)\n            .filter((attribute) => attribute.startsWith('xmlns'))\n            .forEach((xmlns) => {\n                const existingNamespaces = allFragmentNamespaces.get(fragmentAttributes[xmlns]);\n                allFragmentNamespaces.set(\n                    fragmentAttributes[xmlns],\n                    existingNamespaces\n                        ? [...existingNamespaces, xmlns.split(':')[1] || xmlns]\n                        : [xmlns.split(':')[1] || xmlns]\n                );\n            });\n        return allFragmentNamespaces;\n    }\n}\n\n/**\n * Considers namespace of fragment and returns combined tag name\n * @param tag - tag name and namespace\n * @param {string[]} fragmentNamespace namespaces of fragment\n * @returns {string} tag name consisting of namespace and name\n */\nfunction getTagName(tag: { namespace: string; name: string }, fragmentNamespaces: string[]): string {\n    if (!fragmentNamespaces) {\n        return `${tag.namespace}:${tag.name}`;\n    } else if (fragmentNamespaces.includes('xmlns')) {\n        return tag.name;\n    } else {\n        return `${fragmentNamespaces}:${tag.name}`;\n    }\n}\n\n/**\n * Maps the column template type to the fragment namespace and returns the tag name with namespace of root column definition.\n * @param definition - fragment or content definition\n * @param viewTemplateType - name of the view template that shall be applied\n * @param fragment - fragment definition\n * @returns {unknown | undefined} Root column tag name.\n */\nfunction getTagNameFromFragmentJSON(\n    definition: unknown,\n    viewTemplateType?: ViewTemplateType,\n    fragment: unknown = definition\n): string | undefined {\n    const namespaces = getFragmentNamespaces(fragment, viewTemplateType || fragment !== definition ? true : false);\n    if (viewTemplateType) {\n        const tag = VIEW_TEMPLATE_TAGTYPE_MAP.get(viewTemplateType);\n        return getTagName(tag, namespaces.get(tag.namespace));\n    } else {\n        const keys = VIEW_TEMPLATE_TAGTYPE_MAP.keys();\n        for (const key of keys) {\n            const tag = VIEW_TEMPLATE_TAGTYPE_MAP.get(key);\n            const tagName = namespaces ? getTagName(tag, namespaces.get(tag.namespace)) : tag.name;\n            if (definition[tagName]) {\n                return tagName;\n            }\n        }\n    }\n    return undefined;\n}\n\n/**\n * Method which receives fragment definition node and reads root column definition.\n * @param {unknown} definition - Application or Page Config object.\n * @param {unknown} fragment - fragment definition\n * @returns {unknown | undefined} Root column read from definition.\n */\nexport function getRootCustomColumnFromFragmentJSON(\n    definition: unknown,\n    fragment = definition\n): string | unknown | undefined {\n    const name = getTagNameFromFragmentJSON(definition, undefined, fragment);\n    return definition[name];\n}\n\n/**\n * Internal function adding content to config column\n * @param configColumns - list of all columns in the config\n * @param columnIndex - index of column\n * @returns - filled personalization data\n */\nfunction addP13nData(configColumns: v2.TableCustomColumns, columnIndex: number): string {\n    const columnProperties = [\n        'id',\n        'text',\n        'className',\n        'fragmentName',\n        'tabKey',\n        'extensionType',\n        'cellsFragmentName'\n    ];\n    let p13nData = `\\\\{`;\n    for (const key in configColumns[columnIndex]) {\n        const value = configColumns[columnIndex][key];\n        if (!columnProperties.includes(key) && value !== undefined && value.length !== 0) {\n            if (p13nData !== '\\\\{') {\n                p13nData += `, `;\n            }\n            p13nData += `\"${key}\": \"${value.toString()}\"`;\n        }\n    }\n    p13nData += '}';\n    return p13nData;\n}\n\n/**\n * Internal function handling a single fragment column if detected in the fragment\n * @param columnsInFragment - list of all columns in fragment\n * @param configColumns - list of all columns in the config\n */\nfunction handleFragmentColumn(columnsInFragment: object, configColumns: v2.TableCustomColumns): boolean {\n    let foundInConfig = false;\n    const customData = columnsInFragment['customData'] || columnsInFragment['table:customData'];\n    if (!customData) {\n        return false;\n    }\n\n    let p13nData = customData['core:CustomData']._attributes.value;\n    const columnParts = JSON.parse(p13nData.substr(1, p13nData.length));\n    const columnIndex = configColumns.findIndex((column) => {\n        return column.columnKey === columnParts.columnKey;\n    });\n    if (columnIndex < 0) {\n        return false;\n    }\n\n    //Found ==> update scenario\n    foundInConfig = true;\n    p13nData = addP13nData(configColumns, columnIndex);\n    customData['core:CustomData']._attributes.value = p13nData;\n    if (!columnsInFragment['Text'] && !columnsInFragment['Label'] && configColumns[columnIndex]?.text) {\n        columnsInFragment['Text'] = {\n            _attributes: {}\n        };\n    }\n    if (columnsInFragment['Text'] && columnsInFragment['Text']['_attributes']) {\n        columnsInFragment['Text']._attributes['text'] = configColumns[columnIndex]?.text;\n    } else if (columnsInFragment['Label'] && columnsInFragment['Label']['_attributes']) {\n        columnsInFragment['Label']._attributes['text'] = configColumns[columnIndex]?.text;\n    }\n    if (!columnsInFragment['_attributes']) {\n        columnsInFragment['_attributes'] = {};\n    }\n    columnsInFragment['_attributes']['id'] = configColumns[columnIndex].id;\n    configColumns.splice(columnIndex, 1);\n    return foundInConfig;\n}\n\n/**\n * Deletes obsolete custom columns from the relevant fragment(s)\n * @param manifestSection - Section in manifest.json comprising the extensions\n * @param fragments - list of all fragments\n * @param pattern - Search string to identify the extension in manifest\n * @param appId - application ID\n */\nfunction deleteColumnsFromFragment(\n    manifestSection: object,\n    fragments: FileData[],\n    pattern: string,\n    appId: string\n): void {\n    const fragmentId = manifestSection[pattern].fragmentName.substr(appId.length + 1);\n    const fragmentType = manifestSection['type'] ? manifestSection['type'].toLowerCase() : 'xml';\n    const fragmentParts = fragmentId.split('.');\n    const fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n    for (const fragment of fragments) {\n        const fragmentPathArray = fragment['dataSourceUri'].split(sep);\n        if (fragmentPathArray[fragmentPathArray.length - 1] === fragmentName) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }));\n            const tagName = getTagNameFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n            if (tagName) {\n                delete fragmentJson[FRAGMENT_DEFINITION][tagName];\n                fragment.fileContent = json2xml(JSON.stringify(fragmentJson), { compact: true, spaces: 4 });\n            }\n            break;\n        }\n    }\n}\n\n/**\n * Deletes a given number of (dummy) cells from a fragment\n * @param fragmentCells - list of all cells in the parsed fragment\n * @param noOfEntriesToBeDeleted - number of entries to be deleted\n */\nfunction deleteNumberOfCells(fragmentCells: any, noOfEntriesToBeDeleted: number): void {\n    //only dummy entry will be deleted automatically!\n    for (let index = 0; index < Object.keys(fragmentCells).length; index++) {\n        if (JSON.stringify(fragmentCells[index]) === dummyEntryAsString) {\n            fragmentCells.splice(index, 1);\n            noOfEntriesToBeDeleted -= 1;\n            if (noOfEntriesToBeDeleted === 0) {\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Deletes cells from the relevant fragment\n * @param cellManifestSection - section in mnifest referring the cells'fragment\n * @param fragments - list of all fragments\n * @param appId - application ID\n */\nfunction deleteCellsFromFragment(cellManifestSection: object, fragments: FileData[], appId: string): void {\n    const fragmentType = cellManifestSection['type'] ? cellManifestSection['type'].toLowerCase() : 'xml';\n    const fragmentParts = cellManifestSection['fragmentName'].substr(appId.length + 1).split('.');\n    const fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n    for (const fragment of fragments) {\n        if (fragment['dataSourceUri'].endsWith(fragmentName)) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent));\n            const fragmentCells =\n                fragmentJson.elements[0].elements &&\n                fragmentJson.elements[0].elements.filter((element) => {\n                    return element.type === 'element';\n                });\n            if (fragmentCells) {\n                deleteNumberOfCells(fragmentJson.elements[0].elements, fragmentCells.length);\n            }\n            fragment.fileContent = json2xml(JSON.stringify(fragmentJson), { spaces: 4 });\n            break;\n        }\n    }\n}\n\n/**\n * Identifies the right extensions based on a pattern, then deletes all corresponding columns and cells\n * @param manifestSection - Section in manifest.json comprising the extensions\n * @param pattern - Search string to identify the extension in manifest\n * @param appId - application ID\n * @param fragments - list of all fragments\n */\nexport function deleteColumnFromFragment(\n    manifestSection: object,\n    pattern: string,\n    appId: string,\n    fragments: FileData[]\n): void {\n    if (fragments) {\n        //delete columns\n        deleteColumnsFromFragment(manifestSection, fragments, pattern, appId);\n        //delete cells\n        const cellsPath = pattern.replace(\n            ViewTemplateType.ResponsiveTableColumnsExtension,\n            ViewTemplateType.ResponsiveTableCellsExtension\n        );\n        const cellManifestSection = manifestSection[cellsPath];\n        if (cellManifestSection) {\n            deleteCellsFromFragment(cellManifestSection, fragments, appId);\n        }\n    }\n}\n\n/**\n * Adds new (dummy) columns to a given fragment, as many as we have entries in the config\n * @param fragmentCells - list of all cells in fragment\n * @param fragmentJson - complete fragment, parsed as JSON\n * @param config - actual config.json\n */\nfunction addNewColumnsInFragment(fragmentCells: any, fragmentJson: any, config: v2.TableCustomColumns): void {\n    const startIndex = fragmentCells ? Object.keys(fragmentCells).length : 0;\n    if (!fragmentJson.elements[0].elements) {\n        fragmentJson.elements[0].elements = [];\n    }\n    for (let index = startIndex; index < Object.keys(config).length; index++) {\n        fragmentJson.elements[0].elements.push(dummyEntry);\n    }\n}\n\n/**\n * Updates non-empty cells in a given fragment, from the config information\n * @param fragment - identified cells' fragment\n * @param config - config.json that lists the new cells' information\n */\nfunction updateNonEmptyCellsFragment(fragment: FileData, config: v2.TableCustomColumns): void {\n    const fragmentJson = JSON.parse(xml2json(fragment.fileContent));\n    const fragmentCells =\n        fragmentJson.elements[0].elements &&\n        fragmentJson.elements[0].elements.filter((element) => {\n            return element.type === 'element';\n        });\n    if (!fragmentCells || Object.keys(fragmentCells).length !== Object.keys(config).length) {\n        if (!fragmentCells || Object.keys(fragmentCells).length < Object.keys(config).length) {\n            addNewColumnsInFragment(fragmentCells, fragmentJson, config);\n        } else if (Object.keys(fragmentCells).length > Object.keys(config).length) {\n            const noOfEntriesToBeDeleted = Object.keys(fragmentCells).length - Object.keys(config).length;\n            const fragmentElements = fragmentJson.elements[0].elements;\n            deleteNumberOfCells(fragmentElements, noOfEntriesToBeDeleted);\n        }\n        fragment.fileContent = json2xml(JSON.stringify(fragmentJson), { spaces: 4 });\n    }\n}\n\n/**\n * Updates the content of a cell fragment file\n * @param fragments - list of existing fragments, to be enhanced\n * @param cellFragmentFileName - file name of the given cell fragment, as calculated from the config entry\n * @param config - current config JSON\n * @returns a boolean value to indicate if the cell fragment could be found n the given list of fragments\n */\nfunction updateCellsFragment(\n    fragments: FileData[],\n    cellFragmentFileName: string,\n    config: v2.TableCustomColumns\n): boolean {\n    let cellsFragmentFound = false;\n    for (const fragment of fragments) {\n        const fragmentPathArray = fragment['dataSourceUri'].split(sep);\n        if (fragmentPathArray[fragmentPathArray.length - 1] === cellFragmentFileName) {\n            cellsFragmentFound = true;\n            if (!fragment.fileContent || Object.keys(fragment.fileContent).length === 0) {\n                // Empty fragment - use template\n                fragment.fileContent = getResponsiveTableCellsFragment(config);\n            } else {\n                updateNonEmptyCellsFragment(fragment, config);\n            }\n            break;\n        }\n    }\n    return cellsFragmentFound;\n}\n\n/**\n * Adapt manifest from the given custom columns' definition in manifest\n * @param manifestPath - path to the current section of the manifest that describes the extension\n * @param {ExportResults} exportResults - export result comprising fragments and manifest\n * @param config - current config part, describing the new image of the extension\n * @param appId - application ID\n * @param {ExtensionLogger} logger - logger instance for exceptions\n * @returns everything that is needed for further processing the fragment\n */\nfunction exportCustomColumnsToManifest(\n    manifestPath: string,\n    exportResults: ExportResults,\n    config: v2.TableCustomColumns,\n    appId: string,\n    logger?: ExtensionLogger\n): { manifestSection: object; lsFilePath: string; cellsFragmentName: string; fragmentType: string } {\n    let lsFilePath: string;\n    let cellsFragmentName: string;\n    const manifest = exportResults.manifest;\n    const manifestSection = ensureManifestSectionByPathV2(manifest, manifestPath);\n    const fragmentType = manifestSection['type'] ? manifestSection['type'].toLowerCase() : 'xml';\n    manifestSection['type'] = fragmentType.toUpperCase();\n\n    for (const configElement of config) {\n        //last one wins -as there can only be one reference in the manifest\n        if (!configElement.fragmentName) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOFRAGMENT', { columnKey: configElement.columnKey })\n            });\n            continue;\n        }\n        manifestSection['fragmentName'] = configElement.fragmentName;\n        manifestSection['className'] = configElement.className;\n        lsFilePath =\n            configElement.fragmentName?.replace(appId, '<root>/webapp').replace(/[.]/g, sep) +\n            FRAGMENTNAMEPART +\n            fragmentType;\n    }\n    if (manifestPath.indexOf(ViewTemplateType.ResponsiveTableColumnsExtension) > -1) {\n        const cellsPath = manifestPath.replace(\n            ViewTemplateType.ResponsiveTableColumnsExtension,\n            ViewTemplateType.ResponsiveTableCellsExtension\n        );\n        const cellManifestSection = ensureManifestSectionByPathV2(manifest, cellsPath);\n        const cellsFragmentColumn = config.reduce((previousColumn, column) => {\n            return column.cellsFragmentName ? column : previousColumn;\n        });\n        if (cellsFragmentColumn && cellsFragmentColumn.cellsFragmentName) {\n            cellManifestSection['fragmentName'] = cellsFragmentName = cellsFragmentColumn.cellsFragmentName;\n            cellManifestSection['className'] = config[0].className;\n            cellManifestSection['type'] = fragmentType.toUpperCase();\n        } else {\n            deleteManifestSectionByPathV2(manifest, cellsPath);\n        }\n    }\n    return { manifestSection, lsFilePath, cellsFragmentName, fragmentType };\n}\n\n/**\n * Method inserts new custom column into array of existing columns in same place as it appears in column configs.\n * @param {TableCustomColumn} column - Custom column config object.\n * @param {ViewTemplateType} viewTemplateType - template type\n * @param {Object} columnsInFragmentDefinition - Existing columns definition\n * @param {unknown} fragment - fragment definition\n * @param {number} colPos - column position from config\n * @returns {object} Columns object.\n */\nfunction insertNewColumnInFragment(\n    column: v2.TableCustomColumn,\n    viewTemplateType: ViewTemplateType,\n    columnsInFragmentDefinition: {},\n    fragment: unknown,\n    colPos: number\n): object {\n    const newColumnFragment = getSingleColumnContent(column, viewTemplateType);\n    if (newColumnFragment) {\n        const newColumnDefinition = JSON.parse(xml2json(newColumnFragment, { compact: true }));\n        const newColumn = getRootCustomColumnFromFragmentJSON(newColumnDefinition, fragment);\n        if (Array.isArray(columnsInFragmentDefinition)) {\n            // avoid having same columns\n            const columnExists = columnsInFragmentDefinition.some(\n                (col) => JSON.stringify(col) === JSON.stringify(newColumn)\n            );\n            if (!columnExists) {\n                columnsInFragmentDefinition.push(newColumn);\n            }\n        } else {\n            if (columnsInFragmentDefinition) {\n                // insert new column in array at specific position\n                const newColumnsInFragmentDefinition = [columnsInFragmentDefinition];\n                newColumnsInFragmentDefinition.splice(colPos, 0, newColumn);\n                columnsInFragmentDefinition = newColumnsInFragmentDefinition;\n            } else {\n                columnsInFragmentDefinition = [newColumn];\n            }\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\nfunction processCustomColumnInArray(columnsInFragmentDefinition: any[], configColumns: v2.TableCustomColumns) {\n    for (let j = 0; j < columnsInFragmentDefinition.length; j++) {\n        const columnFoundInConfig = handleFragmentColumn(columnsInFragmentDefinition[j], configColumns);\n        if (!columnFoundInConfig) {\n            columnsInFragmentDefinition.splice(j, 1);\n        }\n    }\n}\n\nfunction maintainExistingColumnInFragment(\n    columnsInFragmentDefinition: {},\n    configColumns: v2.TableCustomColumns,\n    fragmentJson: any\n) {\n    if (columnsInFragmentDefinition) {\n        //find the right column in the identified fragment file\n        if (Array.isArray(columnsInFragmentDefinition)) {\n            processCustomColumnInArray(columnsInFragmentDefinition, configColumns);\n        } else {\n            const columnFoundInConfig = handleFragmentColumn(columnsInFragmentDefinition, configColumns);\n            if (!columnFoundInConfig) {\n                const coreTagName = getTagNameFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n                if (coreTagName) {\n                    delete fragmentJson[FRAGMENT_DEFINITION][coreTagName];\n                    columnsInFragmentDefinition = undefined;\n                }\n            }\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\n/**\n * Method inserts new custom columns into existing columns.\n * @param {v2.TableCustomColumns} configColumns - Custom columns config object.\n * @param {string} fragmentId - fragment file name\n * @param {Object} columnsInFragmentDefinition - Existing columns definition\n * @param {ViewTemplateType} viewTemplateType - template type\n * @param {unknown} fragment - fragment definition\n * @returns {object} Columns object.\n */\nfunction insertNewColumnsInFragment(\n    configColumns: v2.TableCustomColumns,\n    fragmentId: string,\n    columnsInFragmentDefinition: {},\n    viewTemplateType: ViewTemplateType,\n    fragment: unknown\n) {\n    for (const column of configColumns) {\n        if (column.fragmentName.endsWith(fragmentId)) {\n            const colPos = configColumns.indexOf(column);\n            columnsInFragmentDefinition = insertNewColumnInFragment(\n                column,\n                viewTemplateType,\n                columnsInFragmentDefinition,\n                fragment,\n                colPos\n            );\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\n/**\n * Actualizes the column information in a fragment\n * @param fragments - list of all fragments\n * @param fragmentName - name of the relevant fragment, as maintained in manifest\n * @param fragmentId - ID = substring of the fragment name without the app ID\n * @param configColumns - list of all custom columns in the config\n * @param viewTemplateType - enum value that determines the view template\n * @returns a boolean value indicating if the fragment was found\n */\nfunction updateColumnsInFragment(\n    fragments: FileData[],\n    fragmentName: string,\n    fragmentId: string,\n    configColumns: v2.TableCustomColumns,\n    viewTemplateType: ViewTemplateType\n): boolean {\n    let fragmentFound = false;\n\n    if (!fragments) {\n        return fragmentFound;\n    }\n\n    //find and update the columns' fragment file\n    for (const fragment of fragments) {\n        if (fragment['dataSourceUri'].endsWith(fragmentName)) {\n            let columnsInFragmentDefinition = {};\n            fragmentFound = true;\n            if (!fragment.fileContent || fragment.fileContent.length === 0) {\n                // Empty fragment - use template\n                fragment.fileContent = getColumnFragmentContent(configColumns, viewTemplateType);\n            } else {\n                const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }));\n                const originalFragmentJson = JSON.stringify(fragmentJson);\n                //find the right column in the fragment file\n                columnsInFragmentDefinition = getRootCustomColumnFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n                columnsInFragmentDefinition = maintainExistingColumnInFragment(\n                    columnsInFragmentDefinition,\n                    configColumns,\n                    fragmentJson\n                );\n                //Insert scenario for the remaining entries\n                columnsInFragmentDefinition = insertNewColumnsInFragment(\n                    configColumns,\n                    fragmentId,\n                    columnsInFragmentDefinition,\n                    viewTemplateType,\n                    fragmentJson\n                );\n                const tagName = getTagNameFromFragmentJSON(fragmentJson, viewTemplateType);\n                fragmentJson[FRAGMENT_DEFINITION][tagName] = columnsInFragmentDefinition;\n                const fragmentContent = JSON.stringify(fragmentJson);\n                if (fragmentContent !== originalFragmentJson) {\n                    fragment.fileContent = json2xml(fragmentContent, { compact: true, spaces: 4 });\n                }\n            }\n            break;\n        }\n    }\n    return fragmentFound;\n}\n\n/**\n * The function transfers ALL properties of one or more custom columns to a given fragment, or creates a new one if necesary.\n * @param {ExportResults} exportResults - export result comprising fragments and manifest\n * @param manifestPath - path to the current section of the manifest that describes the extension\n * @param config - current config part, describing the new image of the extension\n * @param appId - application ID\n * @param viewTemplateType - name of the view template that shall be applied\n * @param {ExtensionLogger} logger - logger instance for exceptions\n */\nexport function exportCustomColumnsToFragment(\n    exportResults: ExportResults,\n    manifestPath: string,\n    config: v2.TableCustomColumns,\n    appId: string,\n    viewTemplateType: ViewTemplateType,\n    logger?: ExtensionLogger\n): void {\n    const fragments: FileData[] = exportResults.fragments;\n\n    //Find and adapt manifest\n    const { manifestSection, lsFilePath, cellsFragmentName, fragmentType } = exportCustomColumnsToManifest(\n        manifestPath,\n        exportResults,\n        config,\n        appId,\n        logger\n    );\n\n    //Find and adapt fragment\n    const configColumns = JSON.parse(JSON.stringify(config));\n    let fragmentName = manifestSection['fragmentName'];\n    const fragmentId = fragmentName.substr(appId.length + 1);\n    const fragmentParts = fragmentId.split('.');\n    const templateType = fragmentParts[fragmentParts.length - 1];\n    fragmentName = templateType + FRAGMENTNAMEPART + fragmentType;\n    const cellFragmentParts = cellsFragmentName?.split('.');\n    const cellTemplateType = cellFragmentParts ? cellFragmentParts[cellFragmentParts.length - 1] : null;\n    const cellFragmentFileName = cellTemplateType ? cellTemplateType + FRAGMENTNAMEPART + fragmentType : null;\n\n    // update columns in fragment\n    const fragmentFound = updateColumnsInFragment(fragments, fragmentName, fragmentId, configColumns, viewTemplateType);\n\n    let cellsFragmentFound = false;\n    if (cellsFragmentName) {\n        //find an update the cells' fragment file\n        cellsFragmentFound = updateCellsFragment(fragments, cellFragmentFileName, config);\n    } else {\n        cellsFragmentFound = true; //not relevant\n    }\n    if (!fragmentFound) {\n        const fragment: FileData = {\n            fileContent: getColumnFragmentContent(configColumns, viewTemplateType),\n            dataSourceUri: lsFilePath\n        };\n        exportResults.fragments.push(fragment);\n    }\n    if (!cellsFragmentFound) {\n        const fragment: FileData = {\n            fileContent: getResponsiveTableCellsFragment(config),\n            dataSourceUri: lsFilePath.replace(fragmentName, cellFragmentFileName)\n        };\n        exportResults.fragments.push(fragment);\n    }\n}\n\n/**\n * Determines the manifest path of a column extension.\n * @param {string[]} page Page object from manifest.\n * @param {string} entitySet Table's entity set.\n * @param {string} [additionalKey] Key provided when defining the FacetID or QuickVariantSelectionX.\n * @param {string} [tableColumnExtensionType] Column extension type.\n */\nexport const getCustomColumnPath = (\n    page: v2.SapUiAppPageV2,\n    entitySet: string,\n    additionalKey?: string,\n    tableColumnExtensionType?: string\n): { path: string; viewTemplateType: ViewTemplateType } => {\n    const extension: string = FE_TEMPLATE_VIEW_EXTENSION_MAP.get(page.component.name);\n    if (!tableColumnExtensionType) {\n        let tableType =\n            page.component.settings &&\n            page.component.settings.tableSettings &&\n            page.component.settings.tableSettings['type'];\n        if (!tableType) {\n            tableType = 'ResponsiveTable';\n        }\n        if (extension === 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage') {\n            tableType = 'AnalyticalTable';\n        }\n        tableColumnExtensionType = tableType + 'ColumnsExtension';\n    }\n    const viewTemplateType = tableColumnExtensionType as ViewTemplateType;\n    let extensionKey = `${tableColumnExtensionType}|${entitySet}`;\n    if (additionalKey) {\n        extensionKey += '|' + additionalKey;\n    }\n    const path = 'sap.ui5/extends/extensions/sap.ui.viewExtensions/' + extension + '/' + extensionKey;\n\n    return { path, viewTemplateType };\n};\n", "import { join } from 'path';\nimport type { v2, ViewTemplateType } from '@sap/ux-specification-types';\nimport { DirName } from '@sap/ux-specification-types';\n\nimport { render } from 'ejs';\nimport { readFileSync } from 'fs';\n\nconst templatesPath = join(__dirname, 'templates');\n\nexport enum ViewTypes {\n    XML = 'xml',\n    HTML = 'html',\n    JSON = 'json'\n}\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} templatePath - Path to template.\n * @param {{ [key: string]: string }} templateData - Template data object.\n * @return {string} the rendered template's string\n */\nexport const renderTemplate = (templatePath: string, templateData: { [key: string]: string | boolean }): string => {\n    const template = readFileSync(templatePath, 'utf8');\n    return render(template, templateData);\n};\n\n/**\n * Method escapes view name.\n * @param {string} name - View's name.\n * @return {string} Escaped view name.\n */\nconst escapeViewName = (name: string): string => {\n    // Remove all special characters\n    return name.replace(/[^\\w\\s-]/gi, '');\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @return {string} the rendered template's string\n */\nexport const getControllerContent = (\n    name: string,\n    namespace: string,\n    fcl = false,\n    newControllerRouting = false\n): string => {\n    const templateData = {\n        name: namespace + '.' + escapeViewName(name),\n        newControllerRouting\n    };\n    return renderTemplate(join(templatesPath, fcl ? 'controllerFcl.js' : 'controller.js'), templateData);\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @param {ViewTypes} sourceType - View's source type like XML, HTML, JSON or JS.\n * @param {boolean} [controller=false] - Generate controller.\n * @param {boolean} [page=false] - Is view should contains page structure or not - page structure uses 'sap.m.App' in view template.\n * @return {string} the rendered template's string\n */\nexport const getViewContent = (\n    name: string,\n    namespace: string,\n    sourceType: ViewTypes,\n    controller = false,\n    page = true\n): string => {\n    const escapedName = escapeViewName(name);\n    const templateData: { [key: string]: string | boolean } = {\n        name: escapedName,\n        controllerName: '',\n        page\n    };\n    if (controller) {\n        templateData.controllerName = namespace + '.controller.' + escapedName;\n    }\n    return renderTemplate(join(templatesPath, 'view.' + sourceType), templateData);\n};\n\n/**\n * Method which reads template for fragment and returns rendered result of fragment.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @param {ViewTypes} sourceType - View's source type like XML, HTML, JSON or JS.\n * @param {boolean} handler - JS handler.\n * @return {string} the rendered template's string\n */\nexport const getFragmentContent = (name: string, namespace: string, sourceType: ViewTypes, handler = false): string => {\n    const escapedName = escapeViewName(name);\n    const templateData: { [key: string]: string } = {\n        name: escapedName,\n        handler: ''\n    };\n    if (handler) {\n        templateData.handler = `${namespace.replace(/\\./g, '/')}/${DirName.Fragment}/${escapedName}`;\n    }\n    return renderTemplate(join(templatesPath, 'fragment.' + sourceType), templateData);\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @return {string} the rendered template's string\n */\nexport const getFragmentJsContent = (): string => {\n    return renderTemplate(join(templatesPath, 'fragment.js'), {});\n};\n\n/**\n * Method which reads the template for a single column extension that shall be added to a fragment\n * @param {TableCustomColumn} column - data (from config) to be inserted in the template\n * @return {string} the rendered template's string\n */\nexport const getSingleColumnContent = (column: v2.TableCustomColumn, template: ViewTemplateType): string => {\n    const templateData: { [key: string]: string } = {\n        id: column.id,\n        text: column.text,\n        columnKey: column.columnKey,\n        columnIndex: column.columnIndex !== undefined ? column.columnIndex.toString() : undefined,\n        leadingProperty: column.leadingProperty\n    };\n    return renderTemplate(join(templatesPath, template + '.xml'), templateData);\n};\n\n/**\n * Method which reads the template for a column extension fragment and returns rendered result of fragment.\n * @param {TableCustomColumns} customColumns - array of all column extensions' data\n * @return {string} the rendered template's string\n */\nexport const getColumnFragmentContent = (\n    customColumns: v2.TableCustomColumns,\n    templateType: ViewTemplateType\n): string => {\n    let fragment = '';\n    fragment = '<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns:table=\"sap.ui.table\" xmlns=\"sap.m\">';\n    if (customColumns) {\n        for (const column of customColumns) {\n            const newContent = getSingleColumnContent(column, templateType);\n            fragment = fragment + '\\n' + newContent;\n        }\n    }\n    return fragment + '\\n' + '</core:FragmentDefinition>';\n};\n\n/**\n * Creates the content for a ResponsiveTableCellsExtesnion fragment\n * @param customColumns - list of custom columns; for each of them a dummy entry gets created in the view content.\n * @returns {string} the rendered template's string\n */\nexport const getResponsiveTableCellsFragment = (customColumns: v2.TableCustomColumns): string => {\n    let fragment = '<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\">';\n    if (customColumns) {\n        customColumns.forEach(() => {\n            fragment = fragment + '\\n<Text text=\"Placeholder\"></Text>';\n        });\n    }\n    return fragment + '\\n' + '</core:FragmentDefinition>';\n};\n", "import type { v2, ControlTypeFunction, DeprecatedProperties } from '@sap/ux-specification-types';\nimport {\n    ControlType,\n    GENERICAPPSETTINGS,\n    PropertyName,\n    QUICKVARPATH,\n    QUICKVARPATHX\n} from '@sap/ux-specification-types';\nimport { addPatternForBindingChangeOfEnumLR, convertEnumToCSV } from '../../../common';\nimport { buildControlIdFromParent, exportToFlexChange, childId, syncRule, validity } from '../../../common/decoration';\nimport { getAppSettingPathV2, getDataLoadSettingPathV2, getTableSettingPathV2 } from '../../application';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nconst MULTIEDITPATH = '/multiEdit';\nexport const getSmartTableControlId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    _breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === 'sap.m.Table') {\n        return baseId + 'responsiveTable';\n    } else if (controlType() === 'sap.ui.comp.smarttable.SmartTable' && baseId.includes('AnalyticalListPage')) {\n        return baseId + PropertyName.table;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\n// import createWithParameterDialog (only) fields to Array: { field: { path: field } } => fields[]\nexport function importCreateParameters(manifestSection: object): object {\n    if (!manifestSection['createWithParameterDialog']?.fields) {\n        return undefined;\n    }\n    const manifestDialogFields = JSON.parse(JSON.stringify(manifestSection['createWithParameterDialog'].fields));\n    const configPart = { fields: [] } as Fields4Dialog;\n    for (const manifestField in manifestDialogFields) {\n        configPart.fields.push(manifestField);\n    }\n    return configPart;\n}\n\n// export createWithParameterDialog fields[] => { field: { path: field } }\nexport function exportCreateParametersFields(manifestSection: unknown, configPart: Fields4Dialog, key: string): void {\n    const fields: string[] = configPart[key];\n    if (fields.length === 0) {\n        delete manifestSection[key];\n        return;\n    }\n    const manifestFields = {};\n    if (!manifestSection[key]) {\n        manifestSection[key] = {};\n    }\n    fields.forEach((entry) => (manifestFields[entry] = manifestSection[key][entry] || { path: entry }));\n    manifestSection[key] = manifestFields;\n}\n\nfunction exportVariants(manifestSection: object, configObject: object): void {\n    for (const variant in configObject['variants']) {\n        const variantConfig = configObject['variants'][variant];\n        const tablesettings: string[] = ['type', 'multiSelect', 'selectAll', 'selectionLimit', 'inlineDelete'];\n        for (const key in variantConfig) {\n            if (tablesettings.indexOf(key) !== -1) {\n                if (!variantConfig['tableSettings']) {\n                    variantConfig['tableSettings'] = {};\n                }\n                variantConfig['tableSettings'][key] = variantConfig[key];\n                delete variantConfig[key];\n            }\n        }\n        if (manifestSection['variants']) {\n            manifestSection['variants'][variant] = variantConfig;\n        } else {\n            manifestSection['variants'] = {\n                [variant]: variantConfig\n            };\n        }\n    }\n}\n\nfunction exportQuickVariantSelectionX(manifestSection: object, configObject: object): void {\n    if (!configObject['variants']) {\n        return;\n    }\n    if (Object.keys(configObject['variants']).length > 0) {\n        exportVariants(manifestSection, configObject);\n    } else {\n        delete manifestSection['variants'];\n    }\n}\n\nfunction importMultiEdit(manifestSection) {\n    if (!manifestSection || !manifestSection['multiEdit']) {\n        return undefined;\n    }\n    const configPart: v2.MultiEdit = JSON.parse(JSON.stringify(manifestSection['multiEdit']));\n\n    // convert CSV format to array of strings\n    configPart.ignoredFields = manifestSection['multiEdit']?.['ignoredFields']?.split(',');\n\n    return configPart;\n}\n\nexport class CreateWithFilters {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + '/createWithFilters'\n        }\n    })\n    strategy: v2.Strategy;\n}\n\nexport class MultiEdit implements v2.MultiEdit {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH\n        }\n    })\n    enabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH,\n            export: convertEnumToCSV\n        }\n    })\n    ignoredFields?: v2.IgnoredFieldsType[];\n}\n\n//import table type\nfunction importType(manifestSection: object): string {\n    if (manifestSection?.['tableSettings']?.['type']) {\n        return manifestSection['tableSettings']['type'];\n    } else if (manifestSection?.['tableType']) {\n        return manifestSection['tableType'];\n    }\n}\n\n//export table type\nexport function exportType(manifestSection: unknown, configPart: object): void {\n    if (configPart?.['type']) {\n        if (!manifestSection['tableSettings']) {\n            manifestSection['tableSettings'] = {};\n        }\n        manifestSection['tableSettings']['type'] = configPart['type'];\n        if (manifestSection?.['tableType']) {\n            //old format\n            delete manifestSection['tableType'];\n        }\n    }\n}\n\nexport function deleteType(manifestSection: unknown): void {\n    if (manifestSection?.['tableSettings']?.['type']) {\n        delete manifestSection['tableSettings']['type'];\n    }\n    if (manifestSection?.['tableType']) {\n        //old format\n        delete manifestSection['tableType'];\n    }\n}\n\nexport class DataLoadSettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getDataLoadSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.75.2'\n    })\n    loadDataOnAppLaunch: v2.LoadDataOnAppLaunchSettings;\n}\n\nexport class Fields4Dialog implements v2.Fields4Dialog {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + '/createWithParameterDialog',\n            export: exportCreateParametersFields\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fields: string[];\n}\n\nexport class QuickVariantSelection {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariant;\n    };\n}\n\nexport class QuickVariantSelectionX implements v2.QuickVariantSelectionX {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    enableAutoBinding?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX,\n            export: exportQuickVariantSelectionX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariantX;\n    };\n}\n\nexport class CommonTableSettings<COLS = v2.GenericColumns> implements v2.CommonTableSettings<COLS> {\n    getDeprecated = (): DeprecatedProperties => {\n        return {\n            tableType: {\n                since: '1.50.0',\n                deprecated: {\n                    since: '1.70.0',\n                    text: 'Use tableSettings.type instead'\n                }\n            },\n            enableAutoBinding: {\n                since: '1.40.0',\n                deprecated: {\n                    since: '1.75.2',\n                    text: 'Use tableSettings.loadDataOnAppLaunch instead'\n                }\n            }\n        };\n    };\n\n    @syncRule({\n        manifest: {\n            key: 'createWithParameterDialog',\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys),\n            import: importCreateParameters\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    createWithParameterDialog?: Fields4Dialog;\n\n    @syncRule({\n        flex: {\n            controlId: buildControlIdFromParent,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    showTablePersonalisation?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.26.0'\n    })\n    useExportToExcel?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    exportType?: smarttable.ExportType;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContainer?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    quickVariantSelection?: QuickVariantSelection;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    quickVariantSelectionX?: QuickVariantSelectionX;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    multiSelect?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.75.2'\n    })\n    dataLoadSettings?: DataLoadSettings;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.42.0'\n    })\n    condensedTableLayout?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    enableTableFilterInPageVariant?: boolean;\n\n    @childId('toolBar')\n    toolBar?: v2.ToolBar;\n}\nexport class ResponsiveTable extends CommonTableSettings implements v2.ResponsiveTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.ResponsiveTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    popinLayout?: PopinLayout;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    includeItemInSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    inlineDelete?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys),\n            import: importMultiEdit\n        }\n    })\n    @validity({\n        since: '1.98.0'\n    })\n    multiEdit?: MultiEdit;\n}\n\nexport class TreeTable extends CommonTableSettings implements v2.TreeTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.TreeTable;\n}\n\nexport class AnalyticalTable extends CommonTableSettings implements v2.AnalyticalTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.AnalyticalTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultContentView?: v2.DefaultContentView;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultFilterMode?: v2.DefaultFilterMode;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    contentTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    autoHide?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    allFiltersAsInParameters?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n}\n\nexport class TableALP extends CommonTableSettings implements v2.TableALP {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.AnalyticalTable & v2.TableTypeV2.ResponsiveTable & v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultContentView?: v2.DefaultContentView;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultFilterMode?: v2.DefaultFilterMode;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    contentTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    autoHide?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    allFiltersAsInParameters?: boolean;\n}\n\nexport class ALPResponsiveTable extends TableALP {\n    /*No sync rule needed for type as it is already part of TableALP. This also caused sync issues with flexChanges in release 1.60 as tabletype is not explicity set to ResponsiveTable in 1.60\n    During import, Table type is used in function \"addFlex\" to refer to correct definition in schema.\n    */\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n}\n\nexport class ALPGridTable extends TableALP {}\n\nexport class ALPAnalyticalTable extends TableALP {}\n\nexport class GridTable extends CommonTableSettings implements v2.GridTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange } from '../../../common/decoration';\nimport { getActionBreadcrumbParts, convertActionKeyToStableId } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Simple Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action button\n */\nconst getActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}`;\n};\n\n/**\n * Create stable ID for Intent Based Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Intent Based Action button\n */\nexport const buildIntentBasedActionId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { semanticObjectId, actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${semanticObjectId}::${convertActionKeyToStableId(actionId)}`;\n};\n\n/**\n * Create stable ID for (Intent Based) Footer Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Footer Action button\n */\nconst getFooterActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}::Determining`;\n};\n\nconst flexRuleForAction = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nconst flexRuleForFooterAction = {\n    controlId: getFooterActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class Action implements v2.Action {\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    type?: ButtonType;\n}\n\nexport class ToolBarAction implements v2.Action {\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    type?: ButtonType;\n}\n\nexport class FooterAction implements v2.Action {\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    type?: ButtonType;\n}\n", "import { buildIntentBasedActionId } from './Action';\nimport type { v2, SAPUI5_FRAGMENT_CLASS } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildColumnControlId } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumLR, getActionBreadcrumbParts } from '../../../common';\nimport type { TextAlign, URI } from 'sap/ui/core/library';\nimport type { ButtonType } from 'sap/m/library';\n\n/**\n * Create stable ID for Action Column\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action Column\n */\nconst buildColumnActionId = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const columnTemplate = 'template:::TableColumn';\n    const { actionType, actionId } = getActionBreadcrumbParts(breadcrumbs);\n    const smartTableId = `sSmartTableId::${idBreadcrumbs[0]}`;\n    return `${baseId}${columnTemplate}:::${actionType}:::${smartTableId}:::sAction::${actionId}`;\n};\n/**\n * Create stable ID for Intent Based Action Column\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action Column\n */\nconst buildColumnIntentBasedId = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const columnTemplate = 'template:::TableColumn';\n    const { actionType, actionId, semanticObjectId } = getActionBreadcrumbParts(breadcrumbs);\n    const smartTableId = `sSmartTableId::${idBreadcrumbs[0]}`;\n    return `${baseId}${columnTemplate}:::${actionType}:::${smartTableId}:::sSemanticObject::${semanticObjectId}:::sAction::${actionId}`;\n};\n\n/**\n * Create stable ID for Column Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Column Action button\n */\nconst buildColumnActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${actionId.replace(':2f', '::')}`;\n};\n\n// TableColumnAction column properties\nconst flexRuleForColumn = {\n    controlId: buildColumnActionId,\n    controlType: (): ControlType => ControlType.TableColumn,\n    createFlexChange: exportToFlexChange\n};\n\n// TableColumnAction action properties\nconst flexRuleForColumnAction = {\n    controlId: buildColumnActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\n// TableColumnActionIntentBased main properties\nconst flexRuleForColumnIntentBased = {\n    ...flexRuleForColumn,\n    controlId: buildColumnIntentBasedId\n};\n\n// TableColumnActionIntentBased action properties\nconst flexRuleForColumnIntentBasedAction = {\n    ...flexRuleForColumnAction,\n    controlId: buildIntentBasedActionId\n};\n\nexport class TableColumn implements v2.TableColumn {\n    @syncRule({\n        flex: {\n            controlId: buildColumnControlId,\n            controlType: (): ControlType => ControlType.TableColumn,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    width?: string;\n    @syncRule({\n        flex: {\n            controlId: buildColumnControlId,\n            controlType: (): ControlType => ControlType.TableColumn,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n}\n\nexport class TableColumnAction implements v2.TableColumnAction {\n    @syncRule({\n        flex: flexRuleForColumn\n    })\n    width?: string;\n\n    @syncRule({\n        flex: flexRuleForColumn,\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    type?: ButtonType;\n}\n\nexport class TableColumnActionIntentBased extends TableColumnAction {\n    @syncRule({\n        flex: flexRuleForColumnIntentBased\n    })\n    width?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBased,\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    type?: ButtonType;\n}\n\n/**\n * No sync rules are defined for table custom columns, as they are transferred altogether.\n * This approach is needed to support inserts as well as deletions of manifest extensions and fragments\n */\nexport class TableCustomColumn implements v2.TableCustomColumn {\n    id?: string;\n    text?: string;\n    columnKey: string;\n    columnIndex?: number;\n    leadingProperty?: string;\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    cellsFragmentName?: string;\n    tabKey?: string;\n    extensionType: v2.TableColumnExtensionTypeV2;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\n\nexport class ToolBar implements v2.ToolBar {\n    actions: v2.Actions;\n}\n", "import type { v2, ChangeDefinitionInCreation } from '@sap/ux-specification-types';\nimport { ControlType, PropertyName } from '@sap/ux-specification-types';\nimport { exportToFlexChange } from '../../../common/decoration';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getChartSettingPathV2 } from '../../application';\n\nexport const getSmartChartControlId = (baseId: string): string => {\n    return baseId + PropertyName.chart;\n};\n\nexport class ChartSettings implements v2.ChartSettings {\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showLegendButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showDownloadButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showChartTypeSelectionButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            exportFlexValue: (flexChange: ChangeDefinitionInCreation, configObject: object, key: string): void => {\n                flexChange.content.newValue = configObject[key].join();\n            },\n            importFlexValue: (flexChange: ChangeDefinitionInCreation, configObject: object, key: string): void => {\n                flexChange.content['newValue'] = flexChange.content['newValue'] as string;\n                configObject[key] = flexChange.content['newValue'].split(',') as v2.ChartType[];\n            },\n            createFlexChange: exportToFlexChange\n        }\n    })\n    ignoredChartTypes?: v2.ChartType[];\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getChartSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    showDataLabel: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport { getKPISettingsPath } from '../../application';\n\nexport class KPISettings implements v2.KPISettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    filterable?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    detailNavigation?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    groupId?: string;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, validity, buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\nimport { getAppSettingOBJPathV2 } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport type AvatarShape from 'sap/m/AvatarShape';\n\nconst getAvatarControlId = (baseId: string, idBreadcrumbs: string[]): string => {\n    const idBreadcrumbsCopy = idBreadcrumbs.slice(0);\n    idBreadcrumbsCopy[idBreadcrumbs.length - 1] = 'objectImage';\n    return buildControlIdFromParent(baseId, idBreadcrumbsCopy);\n};\n\nexport class ObjectPageHeader implements v2.ObjectPageHeader {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    showRelatedApps?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    editableHeaderContent?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    simpleHeaderFacets?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getAvatarControlId,\n            controlType: (): ControlType => ControlType.Avatar,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    displayShape?: AvatarShape;\n\n    actions?: v2.ObjectPageHeaderActions;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP, convertActionKeyToStableId } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Header Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @returns {string} stable ID of Object Page Header Action button\n */\nconst getActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === ControlType.Button || controlType() === ControlType.HeaderAction) {\n        const actionId = breadcrumbs[2];\n        return `${baseId}action::${convertActionKeyToStableId(actionId)}`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForHeaderAction = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.HeaderAction,\n    createFlexChange: exportToFlexChange\n};\n\nexport class ObjectPageHeaderAction implements v2.ObjectPageHeaderAction {\n    @syncRule({\n        flex: flexRuleForHeaderAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    type?: ButtonType;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    getActionBreadcrumbParts,\n    convertActionKeyToStableId\n} from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Footer Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @returns {string} stable ID of Object Page Footer Action button\n */\nconst getFooterActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === ControlType.Button) {\n        const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n        return `${baseId}action::${convertActionKeyToStableId(actionId)}::Determining`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForFooterAction = {\n    controlId: getFooterActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class ObjectPageFooterAction implements v2.ObjectPageFooterAction {\n    @syncRule({\n        flex: flexRuleForFooterAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    type?: ButtonType;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\n\nconst getControlId = (baseId: string, idBreadcrumbs: string[]): string => {\n    const idBreadcrumbsCopy = idBreadcrumbs.slice(0);\n    idBreadcrumbsCopy[idBreadcrumbs.length - 1] = 'objectPage';\n    return buildControlIdFromParent(baseId, idBreadcrumbsCopy);\n};\n\nexport class ObjectPageLayout implements v2.ObjectPageLayout {\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showHeaderContent?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showAnchorBar?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    useIconTabBar?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.34.0'\n    })\n    alwaysShowContentHeader?: boolean;\n}\n", "import { ManifestSection } from '@sap/ux-specification-types';\nimport type { SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS, Manifest, ViewTypes, v2 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getObjectPageCustomSectionPath } from '../../application';\n\nexport class BaseCustomSection implements v2.ObjectPageCustomSectionBase {\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath,\n            export: false,\n            import: (\n                _manifest: v2.SapUi5ViewExtensionView | v2.SapUi5ViewExtensionFragment,\n                sectionId: string\n            ): string => {\n                const sectionParts = sectionId.split('|');\n                return sectionParts[2];\n            }\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    relatedFacet: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath,\n            export: false,\n            import: (\n                _manifest: v2.SapUi5ViewExtensionView | v2.SapUi5ViewExtensionFragment,\n                sectionId: string\n            ): string => {\n                return sectionId.split('|')[0];\n            }\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    relativePosition: v2.SectionPosition;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[], _manifest: Manifest, sectionId: string): string =>\n                getObjectPageCustomSectionPath(entitySet, {}, sectionId, ManifestSection.generic)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    className: string;\n}\n\nexport class ObjectPageCustomSectionFragment extends BaseCustomSection implements v2.ObjectPageCustomSectionFragment {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    fragmentName: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    type: v2.ExtensionFragmentTypes;\n}\n\nexport class ObjectPageCustomSectionView extends BaseCustomSection implements v2.ObjectPageCustomSectionView {\n    className: typeof SAPUI5_VIEW_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    viewName: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    type: ViewTypes;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    buildControlIdFromParent,\n    exportToFlexChange,\n    convertSectionId\n} from '../../../common';\n\nexport const getTableSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, DefinitionName.Table];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\nexport const getFormSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'FormGroup'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getChartSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetID: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetID);\n    const breadcrumbsTrail = [convertedId, 'Chart'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'Section'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getSubSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'SubSection'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport class ObjectPageSectionV2 implements v2.ObjectPageSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionFormV2 implements v2.ObjectPageSectionFormV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionChartV2 implements v2.ObjectPageSectionChartV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionTableV2 implements v2.ObjectPageSectionTableV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionAddressV2 implements v2.ObjectPageSectionAddressV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionContactV2 implements v2.ObjectPageSectionContactV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionFormV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getFormSectionControlId,\n            controlType: (): ControlType => ControlType.Group,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionChartV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getChartSectionControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionAddressV2 implements v2.ObjectPageSubSectionAddressV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionContactV2 implements v2.ObjectPageSubSectionContactV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionTableV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getTableSectionControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { getAppSettingOBJPathV2, getChartSettingsOBJsectionPathV2 } from '../../application';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\n\nexport class ObjectPageChart implements v2.ObjectPageChart {\n    @syncRule({\n        manifest: {\n            path: getChartSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n}\n\nexport class GlobalChartSettings implements v2.GlobalChartSettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys) + '/chartSettings'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n}\n", "import type { v2, DeprecatedProperties, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName, QUICKVARPATH } from '@sap/ux-specification-types';\nimport {\n    syncRule,\n    validity,\n    buildControlIdFromParent,\n    exportToFlexChange,\n    convertSectionId,\n    childId\n} from '../../../common/decoration';\nimport { getAppSettingOBJsectionPathV2, getTableSettingsOBJsectionPathV2 } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport { importCreateParameters, exportCreateParametersFields } from './Table';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nconst getSmartTableControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction,\n    title: string\n): string => {\n    const breadCrumbsCopy = breadcrumbs.slice(1, 2);\n    let suffixId: string;\n\n    if (controlType() === 'sap.ui.comp.smarttable.SmartTable') {\n        suffixId = DefinitionName.Table;\n    } else if (controlType() === 'sap.m.Table') {\n        suffixId = 'responsiveTable';\n    }\n    breadCrumbsCopy.push(suffixId);\n    breadCrumbsCopy[0] = convertSectionId(breadCrumbsCopy[0], title);\n    return buildControlIdFromParent(baseId, breadCrumbsCopy);\n};\n\nexport class QuickVariantSelectionOP {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getAppSettingOBJsectionPathV2(pageKeys, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getAppSettingOBJsectionPathV2(pageKeys, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariant;\n    };\n}\n\nexport class Fields4DialogOP implements v2.Fields4Dialog {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getTableSettingsOBJsectionPathV2(pageKeys, manifest, sectionId) + '/createWithParameterDialog',\n            export: exportCreateParametersFields\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fields: string[];\n}\n\nexport class ObjectPageCommonTableSettings<COLS = v2.GenericColumns> implements v2.ObjectPageCommonTableSettings<COLS> {\n    getDeprecated = (): DeprecatedProperties => {\n        return {\n            tableType: {\n                since: '1.50.0',\n                deprecated: {\n                    since: '1.70.0',\n                    text: 'Use tableSettings.type instead'\n                }\n            }\n        };\n    };\n\n    @syncRule({\n        manifest: {\n            key: 'createWithParameterDialog',\n            path: getTableSettingsOBJsectionPathV2,\n            import: importCreateParameters\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    createWithParameterDialog?: Fields4DialogOP;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    editable?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    multiSelect?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionOP;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.26.0'\n    })\n    useExportToExcel?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    exportType?: smarttable.ExportType;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.48.5'\n    })\n    createMode?: v2.CreateMode;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.61.0'\n    })\n    disableDefaultInlineCreateSort?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n\n    @childId('toolBar')\n    toolBar?: v2.ObjectPageToolBar;\n}\n\nexport class ObjectPageResponsiveTable extends ObjectPageCommonTableSettings implements v2.ObjectPageResponsiveTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.ResponsiveTable;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    includeItemInSelection?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    popinLayout?: PopinLayout;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    inlineDelete?: boolean;\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n}\n\nexport class ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings implements v2.ObjectPageAnalyticalTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.AnalyticalTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nexport class ObjectPageGridTable extends ObjectPageCommonTableSettings implements v2.ObjectPageGridTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nexport class ObjectPageTreeTable extends ObjectPageCommonTableSettings implements v2.ObjectPageTreeTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.TreeTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange } from '../../../common/decoration';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    convertSectionId,\n    getActionBreadcrumbParts,\n    convertActionKeyToStableId\n} from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Toolbar Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Toolbar Action button\n */\nconst getActionButtonId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType,\n    facetID: string\n): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    const section = convertSectionId(breadcrumbs[1], facetID);\n    return `${baseId}${section}::action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}`;\n};\n\nconst flexRuleForToolBarActionOP = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class ObjectPageToolBarAction implements v2.ObjectPageToolBarAction {\n    @syncRule({\n        flex: flexRuleForToolBarActionOP,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    type?: ButtonType;\n}\n", "import type { UI5Version, ExtensionLogger, ExportResults } from '../..';\nimport type { v2, PageTypeV2 } from '@sap/ux-specification-types';\nimport type { FlexChangesForTransfer } from './import/controls/table';\nimport type { MetadataFactory, MetadataInstanceInterface } from '../common/decoration/factory';\nimport type * as v2controls from './export/controls';\nimport type * as v2pages from './export/pages';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type V2Controls = typeof v2controls;\nexport type V2Pages = typeof v2pages;\n\nexport type TransferParameterTypeV2 = {\n    v2Page: v2.SapUiAppPageV2;\n    exportResults: ExportResults;\n    appId: string;\n    baseId: string;\n    appSchema: object;\n    ui5Version: UI5Version;\n    factory: MetadataFactory;\n    pageKeys: string[];\n    pageType: PageTypeV2;\n    logger: ExtensionLogger;\n    propertyDefinition?: object;\n    nextDefinition?: object;\n};\n\nexport const MULTISELECTTABLE = 'ResponsiveTableWithMultiSelect<LineItems>';\nexport const INLINEDELETETABLE = 'ResponsiveTableWithInlineDelete<LineItems>';\nexport const TREETABLE = 'TreeTable<LineItems>';\nexport const ANALYTICALTABLE = 'AnalyticalTable<LineItems>';\nexport const GRIDTABLE = 'GridTable<LineItems>';\n\nexport enum SectionTypeV2 {\n    SectionAddress = 'ObjectPageSectionAddressV2',\n    SectionChart = 'ObjectPageSectionChartV2',\n    SectionContact = 'ObjectPageSectionContactV2',\n    SectionForm = 'ObjectPageSectionFormV2',\n    Section = 'ObjectPageSectionV2',\n    SubSection = 'ObjectPageSubSectionV2',\n    SectionTable = 'ObjectPageSectionTableV2',\n    SubSectionForm = 'ObjectPageSubSectionFormV2',\n    SubSectionTable = 'ObjectPageSubSectionTableV2',\n    SubSectionAddress = 'ObjectPageSubSectionAddressV2',\n    SubSectionContact = 'ObjectPageSubSectionContactV2',\n    SubSectionChart = 'ObjectPageSubSectionChartV2'\n}\n\nexport enum ActionTypeV2 {\n    Form = 'FormAction',\n    OPHeader = 'ObjectPageHeaderAction',\n    OPToolBar = 'ObjectPageToolBarAction',\n    OPFooter = 'ObjectPageFooterAction',\n    OPColumn = 'ObjectPageTableColumnAction',\n    ToolBar = 'ToolBarAction',\n    Footer = 'FooterAction',\n    Column = 'TableColumnAction',\n    ToolBarIntentBased = 'ToolBarActionIntentBased',\n    FooterIntentBased = 'FooterActionIntentBased',\n    ColumnIntentBased = 'TableColumnActionIntentBased'\n}\n\nexport type ObjectPageV2ConfigParameters = {\n    factory: MetadataInstanceInterface;\n    pageKeys: string[];\n    flexChanges: FlexChangesForTransfer;\n    v2Page: v2.SapUiAppPageV2;\n    objectPageConfig?: v2.ObjectPageConfigV2;\n};\n\nexport type SectionPartProperties = {\n    id?: string;\n    type?: SectionTypeV2;\n    schema?: Definition;\n    title?: string;\n};\n", "import { determineTableType, transferSettingsOfObject, addFlex, addFragments, convertActionKey } from '../common/index';\nimport type { v2, ImportListReportV2Parameters } from '@sap/ux-specification-types';\nimport { LogSeverity, DefinitionName, MANIFESTPATH, ManifestSection, PageTypeV2 } from '@sap/ux-specification-types';\nimport { parseChangeString } from '../../../common';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { findListReportPageV2, removeEmptySettings } from '../../import/utils';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport { INLINEDELETETABLE, MULTISELECTTABLE } from '../../types';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Imports filterbar information into the LR config\n * @param {ListReportConfig} listReportConfig - LR config, to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {Definition} schemaDefinitions - app schema definitions\n * @param {string} pageKey - key of the page in manifest\n */\nfunction importFilterBar(\n    listReportConfig: v2.ListReportConfigV2,\n    factory: MetadataInstanceInterface,\n    importParameters: ImportListReportV2Parameters,\n    schemaDefinitions: Definition,\n    pageKey: string\n) {\n    listReportConfig.filterBar = factory.createInstance(\n        PageTypeV2.ListReport,\n        DefinitionName.ListReportFilterBar,\n        listReportConfig.filterBar\n    );\n    transferSettingsOfObject(\n        listReportConfig.filterBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ListReportFilterBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions['SelectionFields']) {\n        listReportConfig.filterBar.selectionFields = factory.createInstance(\n            PageTypeV2.ListReport,\n            DefinitionName.ListReportFilterBar,\n            listReportConfig.filterBar.selectionFields\n        );\n        const schemaSelectionFields = schemaDefinitions['SelectionFields'].properties;\n        for (const selectionProperty in schemaSelectionFields) {\n            const selectionKey = selectionProperty;\n            listReportConfig.filterBar.selectionFields[selectionKey] = factory.createInstance(\n                PageTypeV2.ListReport,\n                'SelectionFieldDateSettings'\n            );\n            transferSettingsOfObject(\n                listReportConfig.filterBar.selectionFields[selectionKey],\n                importParameters.manifest,\n                schemaDefinitions['SelectionFieldDateSettings'],\n                pageKey,\n                importParameters.logger,\n                selectionKey\n            );\n        }\n    }\n}\n\n/**\n * Imports table information into the LR config\n * @param {TableTypeV2} tableType - table type\n * @param {Definition} schemaDefinitions - app schema definitions\n * @param {ListReportConfig} listReportConfig - LR config, to be filled\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {string} pageKey - key of the page in manifest\n */\nfunction importTable(\n    tableType: v2.TableTypeV2,\n    schemaDefinitions: Definition,\n    listReportConfig: v2.ListReportConfigV2,\n    importParameters: ImportListReportV2Parameters,\n    pageKey: string\n) {\n    let localJsonSchema: Definition;\n\n    if (tableType === 'TreeTable' || tableType === 'AnalyticalTable' || tableType === 'GridTable') {\n        localJsonSchema = schemaDefinitions[tableType + '<LineItems>'];\n    } else {\n        if (schemaDefinitions[MULTISELECTTABLE] && schemaDefinitions[INLINEDELETETABLE]) {\n            localJsonSchema = JSON.parse(JSON.stringify(schemaDefinitions[MULTISELECTTABLE])) as Definition;\n            localJsonSchema.properties = {\n                ...localJsonSchema.properties,\n                ...(schemaDefinitions[INLINEDELETETABLE] as Definition).properties\n            };\n        }\n    }\n    transferSettingsOfObject(\n        listReportConfig.table,\n        importParameters.manifest,\n        localJsonSchema,\n        pageKey,\n        importParameters.logger\n    );\n}\n\n/**\n * Adds manifest settings to the config.json of List Report V2\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfig} listReportConfig - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {string} pageKey - key of the page in manifest\n */\nfunction addSettings(\n    importParameters: ImportListReportV2Parameters,\n    listReportConfig: v2.ListReportConfigV2,\n    factory: MetadataInstanceInterface,\n    pageKey: string\n): void {\n    const tableType = determineTableType(importParameters.manifest, pageKey);\n    listReportConfig.table = factory.createInstance(PageTypeV2.ListReport, tableType, listReportConfig.table);\n    const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions as Definition;\n\n    //Import table:\n    importTable(tableType, schemaDefinitions, listReportConfig, importParameters, pageKey);\n\n    //Import ToolBar:\n    listReportConfig.table.toolBar = factory.createInstance(PageTypeV2.ListReport, DefinitionName.ToolBar, {\n        actions: {}\n    });\n    transferSettingsOfObject(\n        listReportConfig.table.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ToolBarLR],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.ActionsLR]) {\n        for (const actionProperty in schemaDefinitions[DefinitionName.ActionsLR].properties) {\n            const actionKey = convertActionKey(actionProperty);\n            listReportConfig.table.toolBar.actions[actionKey] = factory.createInstance(\n                PageTypeV2.ListReport,\n                DefinitionName.Action\n            );\n            transferSettingsOfObject(\n                listReportConfig.table.toolBar.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n\n    //Import FilterBar:\n    importFilterBar(listReportConfig, factory, importParameters, schemaDefinitions, pageKey);\n\n    //Import Footer:\n    listReportConfig.footer = { actions: {} };\n    const footerAction = schemaDefinitions[DefinitionName.FooterActionsLR];\n    if (footerAction) {\n        for (const actionProperty in footerAction.properties) {\n            const actionKey = convertActionKey(actionProperty);\n            listReportConfig.footer.actions[actionKey] = factory.createInstance(\n                PageTypeV2.ListReport,\n                DefinitionName.FooterAction\n            );\n            transferSettingsOfObject(\n                listReportConfig.footer.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n}\n\n/**\n * Creates the configuration file content for a list report V2\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {ListReportConfig} - the configuration (JSON) for the list report\n */\nexport function createListReportConfig(\n    importParameters: ImportListReportV2Parameters\n): v2.ListReportConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages as v2.SapUiAppPagesV2;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageTypeV2.ListReport);\n\n    const pageKeys: string[] = [];\n    const v2Page = findListReportPageV2(importParameters.manifest[ManifestSection.generic].pages, pageKeys);\n    if (!v2Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLR'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    //Add manifest settings to config\n    addSettings(importParameters, config, factory, pageKeys[0]);\n\n    // Add flex changes to config\n    importParameters.flex.forEach((change) => {\n        if (parseChangeString(change)) {\n            addFlex(config, change, importParameters.jsonSchema, importParameters.logger);\n        }\n    });\n    addFragments(config, importParameters.manifest, v2Page, PageTypeV2.ListReport, importParameters.fragments);\n    removeEmptySettings(config);\n    return config;\n}\n", "import i18next from 'i18next';\nimport i18nEn from '@sap/ux-specification-types';\nimport { initI18n as initSyncI18n } from '../sync/i18n';\n\nexport function initI18n(language = 'en'): void {\n    // Initialize i18next of ide-extension\n    i18next.init({\n        resources: {\n            en: {\n                translation: i18nEn\n            }\n        },\n        lng: language,\n        fallbackLng: 'en',\n        joinArrays: '\\n\\n'\n    });\n\n    // Initialize i18next of core module\n    initSyncI18n(i18next);\n}\n", "import type { i18n } from 'i18next';\nimport * as i18nSyncEn from './common/i18n.json';\n\nexport function initI18n(i18nInstance: i18n): void {\n    i18nInstance.addResourceBundle(i18nInstance.language, 'translation', i18nSyncEn);\n}\n", "import { v2, ManifestSection, PageTypeV2, MANIFESTPATH, LogSeverity } from '@sap/ux-specification-types';\nimport { ensureManifestSectionByPathV2 } from '../export/manifest';\nimport { getPageTypeV2 } from '../../common';\nimport i18next from 'i18next';\nimport type { ExtensionLogger } from '../../..';\nimport { log } from '../../../extensionLogger';\n\n/**\n * Determines a V2 object page in the manifest, based on the given entity set\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param entitySet - current entityset\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findObjectPageV2(\n    v2Pages: v2.SapUiAppPagesV2,\n    entitySet: string,\n    pageKeys: string[]\n): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        if (getPageTypeV2(v2Page.component.name) === PageTypeV2.ObjectPage && v2Page.entitySet === entitySet) {\n            pageKeys.push(key);\n            return v2Page;\n        } else if (v2Page.pages) {\n            pageKeys.push(key);\n            return findObjectPageV2(v2Page.pages, entitySet, pageKeys);\n        }\n    }\n}\n\n/**\n * Determines a V2 list report page in the manifest\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findListReportPageV2(v2Pages: v2.SapUiAppPagesV2, pageKeys: string[]): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        pageKeys.push(key);\n        if (getPageTypeV2(v2Page.component.name) === PageTypeV2.ListReport) {\n            return v2Page;\n        }\n    }\n}\n\n/**\n * Determines a V2 analytical list page in the manifest\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findAnalyticalListPage(\n    v2Pages: v2.SapUiAppPagesV2,\n    pageKeys: string[],\n    logger?: ExtensionLogger\n): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        pageKeys.push(key);\n        if (getPageTypeV2(v2Page.component.name) === PageTypeV2.AnalyticalListPage) {\n            return v2Page;\n        }\n    }\n    //Not found ==> log\n    log(logger, {\n        severity: LogSeverity.Error,\n        message: i18next.t('NOALP'),\n        location: {\n            path: MANIFESTPATH,\n            range: [ManifestSection.generic]\n        }\n    });\n}\n\n/**\n * Method checks if passed extension key is associated to custom section with passed entity.\n * @param {string} extensionKey - Extension key.\n * @param {string} entity - Entity to check in extension.\n * @returns {boolean} Is extension key relates to custom section and associated to passed entity.\n */\nexport function isAssociatedCustomSection(extensionKey: string, entity: string): boolean {\n    const keyParts = extensionKey.split('|');\n    return v2.SectionPosition[keyParts[0]] && keyParts[1] === entity;\n}\n\n/**\n * Method which finds custom section extensions in manifest for passed entitySet\n * @param manifest - manifest.\n * @param entitySet - Entity set to lookup while searching custom section extensions.\n * @returns {object} Found object with custom sections\n */\nexport function findCustomSectionExtensions(manifest: object, entitySet: string): object {\n    const customSectionViews = ensureManifestSectionByPathV2(\n        manifest,\n        `sap.ui5/extends/extensions/${v2.SAPUI5_VIEW_EXTENSION}/${v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE}`\n    );\n    const pageCustomSections = {};\n    for (const key in customSectionViews) {\n        if (isAssociatedCustomSection(key, entitySet)) {\n            pageCustomSections[key] = customSectionViews[key];\n        }\n    }\n    return pageCustomSections;\n}\n\n/**\n * Removes empty properties of Footer\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfFooter(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.footer?.actions) {\n        for (const actionKey in config.footer.actions) {\n            if (Object.keys(config.footer.actions[actionKey]).length === 0) {\n                delete config.footer.actions[actionKey];\n            }\n        }\n        if (Object.keys(config.footer.actions).length === 0) {\n            delete config.footer.actions;\n        }\n        if (Object.keys(config.footer).length === 0) {\n            delete config.footer;\n        }\n    }\n}\n\n/**\n * Removes empty properties of FilterBar\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfFilterBar(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.filterBar?.selectionFields) {\n        for (const fieldKey in config.filterBar.selectionFields) {\n            if (Object.keys(config.filterBar.selectionFields[fieldKey]).length === 0) {\n                delete config.filterBar.selectionFields[fieldKey];\n            }\n        }\n        if (Object.keys(config.filterBar?.selectionFields)?.length === 0) {\n            delete config.filterBar.selectionFields;\n        }\n    }\n}\n\n/**\n * Removes empty properties of ToolBar\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfToolBar(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.table?.toolBar) {\n        for (const actionKey in config.table.toolBar.actions) {\n            if (Object.keys(config.table.toolBar.actions[actionKey]).length === 0) {\n                delete config.table.toolBar.actions[actionKey];\n            }\n        }\n        if (Object.keys(config.table.toolBar.actions).length === 0) {\n            delete config.table.toolBar.actions;\n        }\n        if (Object.keys(config.table.toolBar).length === 0) {\n            delete config.table.toolBar;\n        }\n    }\n}\n\n/**\n * Removes empty properties in the config.json of Analytical List Page V2 | ListReport Page V2\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nexport function removeEmptySettings(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2): void {\n    // Check ToolBar\n    removeEmptySettingsOfToolBar(config);\n    // Check FilterBar\n    removeEmptySettingsOfFilterBar(config);\n    // Check Footer\n    removeEmptySettingsOfFooter(config);\n}\n", "export * from './AnalyticalListPage';\nexport * from './ListReport';\nexport * from './ObjectPage';\nexport * from './OverviewPage';\n", "import { ControlType, v2 } from '@sap/ux-specification-types';\nimport type { AnalyticalTable } from '../controls/Table';\nimport { pageLayoutInformation, childId, syncRule } from '../../../common/decoration/decorators';\nimport { buildControlIdForPage, exportToFlexChange } from '../../../common/decoration';\n\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage',\n    pageId: v2.FE_TEMPLATE_V2_ALP\n})\nexport class AnalyticalListPage implements v2.AnalyticalListPageConfigV2 {\n    @syncRule({\n        flex: {\n            controlId: buildControlIdForPage,\n            controlType: (): ControlType => ControlType.DynamicPage,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContent?: boolean;\n\n    @childId('table')\n    table?: AnalyticalTable;\n\n    @childId('template::SmartFilterBar')\n    filterBar?: v2.AnalyticalListPageFilterBar;\n\n    @childId('analyticalListPageChart')\n    chart?: v2.ChartSettings;\n\n    @childId('analyticalListFooter')\n    footer?: v2.GenericFooter;\n\n    keyPerformanceIndicators: {\n        [k: string]: v2.KPISettings;\n    };\n}\n", "import { ControlType, v2 } from '@sap/ux-specification-types';\nimport type { ResponsiveTable, TreeTable, AnalyticalTable, GridTable } from '../controls/Table';\nimport { pageLayoutInformation, childId, syncRule } from '../../../common/decoration/decorators';\nimport { buildControlIdForPage, exportToFlexChange } from '../../../common/decoration';\n\ntype TableClassType = ResponsiveTable | TreeTable | AnalyticalTable | GridTable;\n\n@pageLayoutInformation({\n    id: v2.SAPUI5_VIEW_EXTENSION_LIST_REPORT,\n    pageId: v2.FE_TEMPLATE_V2_LIST_REPORT\n})\nexport class ListReport implements v2.ListReportConfigV2 {\n    @syncRule({\n        flex: {\n            controlId: buildControlIdForPage,\n            controlType: (): ControlType => ControlType.DynamicPage,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContent?: boolean;\n\n    @childId('listReportFilter')\n    filterBar?: v2.ListReportFilterBar;\n\n    @childId('listReport')\n    table?: TableClassType;\n\n    @childId('listReportFooter')\n    footer?: v2.GenericFooter;\n}\n", "/**\n * The module is mapped to specification/v2/pages/ObjectPageConfig.ts\n * This comment is maintained as this module is named as ObjectPage.ts and the corresponding module is named as ObjectPageConfig.ts\n */\n\nimport { v2 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getAppSettingOBJPathV2, getAppRootSettingOBJPath } from '../../application';\nimport type { FlexibleColumnLayoutType } from '@sap/ux-specification-types';\n\n@pageLayoutInformation({\n    id: v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE,\n    pageId: v2.FE_TEMPLATE_V2_OBJECT_PAGE\n})\nexport class ObjectPage implements v2.ObjectPageConfigV2 {\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    showConfirmationOnDraftActivate?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.1'\n    })\n    hideChevronForUnauthorizedExtNav?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    allowDeepLinking?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    navToListOnSave?: boolean;\n\n    @childId('header')\n    header?: v2.ObjectPageHeader;\n\n    @childId('sections')\n    sections?: v2.CustomSections | v2.GenericSections;\n\n    @childId('layout')\n    layout?: v2.ObjectPageLayout;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppRootSettingOBJPath(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    defaultLayoutTypeIfExternalNavigation?: FlexibleColumnLayoutType.MidColumnFullScreen;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys),\n            import: (value: object): object | undefined => {\n                if ('chartSettings' in value) {\n                    return value['chartSettings'];\n                }\n            },\n            key: 'chartSettings'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    globalChartSettings?: v2.GlobalChartSettings;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getOVPsettingPath, getGlobalSettingsPath } from '../../application';\nimport type { ListCard, AnalyticalCard, StackCard, LinklistCard, TableCard, CustomCard } from '../controls/Card';\n\nfunction importDateSettingsFieldsOVP(manifestSection: object, configPart) {\n    for (const propertyKey in manifestSection['dateSettings']['fields']) {\n        configPart.fields[propertyKey] = manifestSection['dateSettings']['fields'][propertyKey];\n        const selectedValues = manifestSection['dateSettings']['fields'][propertyKey].selectedValues;\n        if (typeof selectedValues === 'string') {\n            configPart.fields[propertyKey].selectedValues = selectedValues.split(',') as v2.DateRangeType[];\n        }\n        for (const filterKey in manifestSection['dateSettings']['fields'][propertyKey].filter) {\n            const filterValue = manifestSection['dateSettings']['fields'][propertyKey].filter[filterKey];\n            configPart.fields[propertyKey].filter[filterKey] = filterValue;\n            if (filterValue.equals && typeof filterValue.equals === 'string') {\n                configPart.fields[propertyKey].filter[filterKey].equals = filterValue.equals.split(\n                    ','\n                ) as v2.DateRangeType[];\n            }\n        }\n    }\n}\n\nexport function importDateSettingsOVP(manifestSection: object): v2.DateRange {\n    if (!manifestSection || !manifestSection['dateSettings']) {\n        return undefined;\n    }\n    const configPart: v2.DateRange = JSON.parse(JSON.stringify(manifestSection['dateSettings']));\n    // converted CSV format to array of strings\n    if (typeof manifestSection['dateSettings']['selectedValues'] === 'string') {\n        configPart.selectedValues = manifestSection['dateSettings']['selectedValues'].split(',') as v2.DateRangeType[];\n    }\n    if (manifestSection['dateSettings']['fields']) {\n        importDateSettingsFieldsOVP(manifestSection, configPart);\n    }\n    return configPart;\n}\n\nexport function importFilterSettings(manifestSection: object): object {\n    const configPart = {};\n    configPart['dateSettings'] = importDateSettingsOVP(manifestSection['filterSettings']);\n    return configPart;\n}\n\nfunction exportFilterFields(configPart: v2.FilterSettingsType, key: string, manifestSection: unknown) {\n    for (const fieldName in configPart['filterSettings'][key]['fields']) {\n        const field = configPart['filterSettings'][key]['fields'][fieldName];\n        if (field.selectedValues) {\n            manifestSection['filterSettings'][key]['fields'][fieldName].selectedValues = field.selectedValues.join();\n        }\n        if (field.filter) {\n            for (const filterKey in field.filter) {\n                const filterValue = field.filter[filterKey];\n                if (filterValue.equals && Array.isArray(filterValue.equals)) {\n                    manifestSection['filterSettings'][key]['fields'][fieldName].filter[filterKey].equals =\n                        filterValue.equals.join();\n                }\n            }\n        }\n    }\n}\n\nexport function exportFilterSettings(manifestSection: object, configPart: v2.FilterSettingsType): void {\n    if (!manifestSection['filterSettings']) {\n        manifestSection['filterSettings'] = {};\n    }\n    const key = 'dateSettings';\n    if (configPart['filterSettings'][key] === undefined) {\n        delete manifestSection['filterSettings'][key];\n    } else {\n        manifestSection['filterSettings'][key] = JSON.parse(JSON.stringify(configPart['filterSettings'][key]));\n        //now convert enum array to joined string\n        if (configPart['filterSettings'][key]['selectedValues']) {\n            manifestSection['filterSettings'][key]['selectedValues'] =\n                configPart['filterSettings'][key]['selectedValues'].join();\n        }\n        if (configPart['filterSettings'][key]['fields']) {\n            exportFilterFields(configPart, key, manifestSection);\n        }\n    }\n}\n\ntype CardClassType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.OverviewPage.view.Details',\n    pageId: 'sap.suite.ui.generic.template.OverviewPage'\n})\nexport class OverviewPage implements v2.OverviewPageConfigV2 {\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterModel?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterEntityType?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterEntitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    containerLayout?: v2.ContainerLayoutType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    smartVariantRequired?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    showDateInRelativeFormat?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    enableLiveFilter?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    imageSupported?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    considerAnalyticalParameters?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    refreshIntervalInMinutes?: number;\n\n    @syncRule({\n        manifest: { path: (): string => getOVPsettingPath() }\n    })\n    useDateRangeType?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getGlobalSettingsPath(cardKeys)\n        }\n    })\n    @validity({\n        since: '1.80.0'\n    })\n    chartSettings?: v2.ChartSettingsType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath(),\n            import: importFilterSettings,\n            export: exportFilterSettings\n        }\n    })\n    @validity({\n        since: '1.80.0'\n    })\n    filterSettings?: v2.FilterSettingsType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    showBasicSearch?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    disableErrorPage?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    bHeaderExpanded?: boolean;\n\n    cards: {\n        [k: string]: CardClassType;\n    };\n}\n", "import type { PageTypeV2, PageTypeV4 } from '@sap/ux-specification-types';\nimport type { V2Controls, V2Pages } from '../../v2/types';\nimport type { V4Controls, V4Pages } from '../../v4/types';\n\n/**\n * Common interface that is used for all instantiations of (reflect) metadata classes\n */\nexport interface MetadataInstanceInterface {\n    createInstance(\n        pageType: PageTypeV2 | PageTypeV4,\n        schemaPropertyName: string,\n        data?: object,\n        controlPropertyValue?: string\n    ): any;\n    createPageInstance(pageType: PageTypeV2 | PageTypeV4, data?: object): object;\n}\n\nexport abstract class MetadataFactory implements MetadataInstanceInterface {\n    private readonly controls: V2Controls | V4Controls;\n    private readonly pages: V2Pages | V4Pages;\n    private readonly pageTypes: object;\n\n    /**\n     * Sub-classes for V2 and V4 have to pass their specific (reflect) metadata classes:\n     * @param controls - list of imported metadata classes for controls\n     * @param pages - list of imported metadata classes for pages\n     * @param pageTypes - list of supported pages, entry point to further definitions\n     */\n    protected constructor(controls: V2Controls | V4Controls, pages: V2Pages | V4Pages, pageTypes: object) {\n        this.controls = controls;\n        this.pages = pages;\n        this.pageTypes = pageTypes;\n    }\n\n    /**\n     * Creates an instance of a metadata class for a given (complex) property of a JSON schema\n     * @param {PageTypeV2} pageType - page type of a Fiori Element\n     * @param schemaPropertyName - name of the complex property in the JSON schema of the page.\n     *                             Used as fallback if no metadataclass can be found by evaluating controlPropertyValue.\n     * @param data - data object from which the values shall be taken over, representing a part of the config\n     * @param controlPropertyValue - value of a controling property that categorizes the complex property, e.g. table type or card template\n     * @returns a class instance comprising the reflect metadata for import or export.\n     *          If no metadata class could be identified, assumption is that no dedicated handler class exists; thus the original data object is returned as is.\n     */\n    createInstance(\n        pageType: PageTypeV2 | PageTypeV4,\n        schemaPropertyName: string,\n        data?: object,\n        controlPropertyValue?: string\n    ): any {\n        let metadataClass = this.controls[controlPropertyValue]\n            ? this.controls[controlPropertyValue]\n            : this.controls[schemaPropertyName];\n        if (!metadataClass) {\n            metadataClass = this.pageTypes[pageType][controlPropertyValue]\n                ? this.pageTypes[pageType][controlPropertyValue]\n                : this.pageTypes[pageType][schemaPropertyName];\n        }\n        return metadataClass ? Object.assign(new metadataClass(), data) : data;\n    }\n    /**\n     * Creates an instance of a metadata class for a given page\n     * @param {PageTypeV2} pageType - page type of a Fiori Element\n     * @param data - data to be taken over (from the config)\n     * @returns a class instance comprising the reflect metadata for import or export\n     */\n    createPageInstance(pageType: PageTypeV2 | PageTypeV4, data?: object): object {\n        const metadataClass = this.pages[pageType];\n        return Object.assign(new metadataClass(), data);\n    }\n}\n", "import * as controls from './controls';\nimport * as pages from './pages';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport { MetadataFactory } from '../../common/decoration/factory';\nimport { v2, PageTypeV2, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '@sap/ux-specification-types';\n\n/**\n * Note: If the key of the elements corresponds to the name of the definition in schema, you do not have to list it explicitly here.\n * The following tables only comprise entries for elements that do not follow the official pattern (yet)\n */\nconst ALPElements = {\n    //no deviations\n};\n\nconst LRElements = {\n    Table: controls.ResponsiveTable,\n    ResponsiveTableWithMultiSelect: controls.ResponsiveTable,\n    ResponsiveTableWithInlineDelete: controls.ResponsiveTable\n};\n\nconst OVPElements = {\n    [v2.CardSettingsType.listCardSettings]: controls.ListCard,\n    [v2.CardSettingsType.listCardSettingsv4]: controls.ListCard,\n    [v2.CardSettingsType.analyticalCardSettings]: controls.AnalyticalCard,\n    [v2.CardSettingsType.analyticalCardSettingsv4]: controls.AnalyticalCard,\n    [v2.CardSettingsType.stackCardSettings]: controls.StackCard,\n    [v2.CardSettingsType.linkListCardSettings]: controls.LinklistCard,\n    [v2.CardSettingsType.tableCardSettings]: controls.TableCard,\n    [v2.CardSettingsType.tableCardSettingsv4]: controls.TableCard\n};\n\nconst OPElements = {\n    [SAPUI5_VIEW_CLASS]: controls.ObjectPageCustomSectionView,\n    [SAPUI5_FRAGMENT_CLASS]: controls.ObjectPageCustomSectionFragment,\n    Table: controls.ObjectPageResponsiveTable, //default\n    ObjectPageResponsiveTableWithMultiSelect: controls.ObjectPageResponsiveTable,\n    ObjectPageResponsiveTableWithInlineDelete: controls.ObjectPageResponsiveTable\n};\n\nconst pageTypes = {\n    [PageTypeV2.AnalyticalListPage]: ALPElements,\n    [PageTypeV2.ListReport]: LRElements,\n    [PageTypeV2.ObjectPage]: OPElements,\n    [PageTypeV2.OverviewPage]: OVPElements\n};\n\n/**\n * V2 specific factory class for creating instances of (reflect) metadata classes\n */\nexport class MetadataInstanceFactoryV2 extends MetadataFactory implements MetadataInstanceInterface {\n    constructor() {\n        super(controls, pages, pageTypes);\n    }\n}\n", "import { transferSettingsOfObject, addFlex, determineTableType, addFragments, convertActionKey } from '../common/index';\nimport type { v2, ImportALPV2Parameters } from '@sap/ux-specification-types';\nimport { DefinitionName, MANIFESTPATH, ManifestSection, PageTypeV2, LogSeverity } from '@sap/ux-specification-types';\nimport { log } from '../../../../extensionLogger';\nimport { initI18n } from '../../../../i18n/i18n';\nimport i18next from 'i18next';\nimport { parseChangeString } from '../../../common';\nimport { findAnalyticalListPage, removeEmptySettings } from '../../import/utils';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Adds manifest settings to the config.json\n * @param {AnalyticalListPageConfig} analyticalListPageConfig - the configuration to be filled\n * @param {Manifest} manifest - manifest.json of the app\n * @param {object} jsonSchema - the app-specific schema\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {string} pageKey - key of the page in manifest\n * @param {ExtensionLogger} logger - instance for logging exceptions\n */\nfunction addSettings(\n    importParameters: ImportALPV2Parameters,\n    analyticalListPageConfig: v2.AnalyticalListPageConfigV2,\n    factory: MetadataInstanceInterface,\n    pageKey: string\n): void {\n    const tableType = determineTableType(importParameters.manifest, pageKey);\n    const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions as Definition;\n\n    analyticalListPageConfig.table = factory.createInstance(\n        PageTypeV2.AnalyticalListPage,\n        `ALP${tableType}`,\n        analyticalListPageConfig.table\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.table,\n        importParameters.manifest,\n        schemaDefinitions[`ALP${tableType}<LineItems>`],\n        pageKey,\n        importParameters.logger\n    );\n    // ToolBar:\n    analyticalListPageConfig.table.toolBar = factory.createInstance(\n        PageTypeV2.AnalyticalListPage,\n        DefinitionName.ToolBar,\n        {\n            actions: {}\n        }\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.table.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ToolBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.ActionsLR]) {\n        for (const actionProperty in schemaDefinitions[DefinitionName.ActionsLR].properties) {\n            const actionKey = convertActionKey(actionProperty);\n            analyticalListPageConfig.table.toolBar.actions[actionKey] = factory.createInstance(\n                PageTypeV2.AnalyticalListPage,\n                DefinitionName.Action\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.table.toolBar.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n    //FilterBar:\n    analyticalListPageConfig.filterBar = factory.createInstance(\n        PageTypeV2.AnalyticalListPage,\n        DefinitionName.AnalyticalListPageFilterBar,\n        analyticalListPageConfig.filterBar\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.filterBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.AnalyticalListPageFilterBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.SelectionFields]) {\n        analyticalListPageConfig.filterBar.selectionFields = factory.createInstance(\n            PageTypeV2.AnalyticalListPage,\n            DefinitionName.AnalyticalListPageFilterBar,\n            analyticalListPageConfig.filterBar.selectionFields\n        );\n        const schemaSelectionFields = schemaDefinitions[DefinitionName.SelectionFields].properties;\n        for (const selectionProperty in schemaSelectionFields) {\n            const selectionKey = selectionProperty;\n            analyticalListPageConfig.filterBar.selectionFields[selectionKey] = factory.createInstance(\n                PageTypeV2.AnalyticalListPage,\n                'SelectionFieldDateSettings'\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.filterBar.selectionFields[selectionKey],\n                importParameters.manifest,\n                schemaDefinitions['SelectionFieldDateSettings'],\n                pageKey,\n                importParameters.logger,\n                selectionKey\n            );\n        }\n    }\n\n    //Chart settings:\n    analyticalListPageConfig.chart = factory.createInstance(\n        PageTypeV2.AnalyticalListPage,\n        'ChartSettings',\n        analyticalListPageConfig.chart\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.chart,\n        importParameters.manifest,\n        schemaDefinitions['ChartSettings'],\n        pageKey,\n        importParameters.logger\n    );\n    //Footer:\n    analyticalListPageConfig.footer = { actions: {} };\n    const footerAction = schemaDefinitions[DefinitionName.FooterActionsLR];\n    if (footerAction) {\n        for (const actionProperty in footerAction.properties) {\n            const actionKey = convertActionKey(actionProperty);\n            analyticalListPageConfig.footer.actions[actionKey] = factory.createInstance(\n                PageTypeV2.AnalyticalListPage,\n                DefinitionName.FooterAction\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.footer.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n\n    //KPI's:\n    analyticalListPageConfig.keyPerformanceIndicators = {};\n    const kpiCards =\n        importParameters.manifest[ManifestSection.generic]['pages'][pageKey].component.settings\n            .keyPerformanceIndicators;\n    if (kpiCards) {\n        Object.keys(kpiCards).forEach((kpiKey) => {\n            analyticalListPageConfig.keyPerformanceIndicators[kpiKey] = factory.createInstance(\n                PageTypeV2.AnalyticalListPage,\n                'KPISettings'\n            );\n            analyticalListPageConfig.keyPerformanceIndicators = factory.createInstance(\n                PageTypeV2.AnalyticalListPage,\n                'KPISettings',\n                analyticalListPageConfig.keyPerformanceIndicators\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.keyPerformanceIndicators[kpiKey],\n                importParameters.manifest,\n                schemaDefinitions['KPISettings'],\n                pageKey,\n                importParameters.logger,\n                kpiKey\n            );\n        });\n    }\n}\n\n/**\n * Creates the configuration file content for an analytical list page V2\n * @param {ImportALPV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {AnalyticalListPageConfig} - the configuration (JSON)\n */\nexport function createAnalyticalListPageConfig(\n    importParameters: ImportALPV2Parameters\n): v2.AnalyticalListPageConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages as v2.SapUiAppPagesV2;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageTypeV2.AnalyticalListPage);\n\n    const pageKeys: string[] = [];\n    const v2Page = findAnalyticalListPage(\n        importParameters.manifest[ManifestSection.generic].pages,\n        pageKeys,\n        importParameters.logger\n    );\n    if (!v2Page) {\n        return;\n    }\n    addSettings(importParameters, config, factory, pageKeys[0]);\n    importParameters.flex.forEach((change) => {\n        if (parseChangeString(change)) {\n            addFlex(config, change, importParameters.jsonSchema);\n        }\n    });\n    addFragments(config, importParameters.manifest, v2Page, PageTypeV2.AnalyticalListPage, importParameters.fragments);\n    removeEmptySettings(config);\n    return config;\n}\n", "import type {\n    SapUiGenericAppPageSettings as Settings,\n    ChangeDefinition,\n    DeprecatedProperties,\n    ExtensionLogger,\n    ImportObjectPageV2Parameters,\n    ObjectPageSectionData,\n    SyncRule\n} from '@sap/ux-specification-types';\nimport {\n    ControlType,\n    LogSeverity,\n    v2,\n    ManifestSection,\n    ActionTitlePrefix,\n    PageTypeV2,\n    DefinitionName,\n    MANIFESTPATH,\n    PropertyName,\n    SchemaTag,\n    UIVOCABULARYALPHADOT,\n    VOCWITHSLASH\n} from '@sap/ux-specification-types';\nimport type { FlexChangesForTransfer, FlexForTransfer } from '../controls/table';\nimport { addFlexForTable } from '../controls/table';\nimport { log } from '../../../../extensionLogger';\nimport { findObjectPageV2, findCustomSectionExtensions } from '../utils';\nimport type {} from '../../../common';\nimport {\n    DEFINITION_LINK_PREFIX,\n    convertActionKeyToStableId,\n    getTargetFromCustomColumnRef,\n    getReflectMetadata,\n    getSectionTitle,\n    getTextForDeprecated,\n    parseChangeString\n} from '../../../common';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { ObjectPageV2ConfigParameters, SectionPartProperties } from '../../types';\nimport { ActionTypeV2, SectionTypeV2 } from '../../types';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { convertSelector, addFragments, convertActionKey } from '../common';\nimport type { Definition } from 'typescript-json-schema';\n\n// Comprises list of flexChanges that do not require a facet id\nconst SupportedFlexChangesWithoutFacetId = [ControlType.Avatar, ControlType.ObjectPageLayout, ControlType.DynamicPage];\n\n/**\n * Determines Facet ID from single string selector Id\n * @param {string} selectorId Selector ID\n * @returns {string} FacetID\n */\nfunction getSingleSelectorIdPart(selectorIdParts: string[], facetID: string) {\n    const lastIdParts = selectorIdParts[0].split('-');\n    const id = lastIdParts[lastIdParts.length - 1];\n    if (selectorIdParts[0].indexOf('::action::') >= 0 || selectorIdParts[0].startsWith('action::')) {\n        // Object Page ToolBar Actions\n        facetID =\n            lastIdParts[0].split('::action::')[0] ||\n            lastIdParts[0].split(`${UIAnnotationTerms.LineItem}::`)[1].split('::')[0];\n        facetID = `${ActionTitlePrefix}${facetID}`;\n    } else if (\n        selectorIdParts[0].indexOf(UIAnnotationTerms.LineItem) >= 0 ||\n        selectorIdParts[0].indexOf('UI.LineItem') >= 0 ||\n        selectorIdParts[0].indexOf('::Table') >= 0\n    ) {\n        facetID = lastIdParts[0].split('::Table')[0].split('::responsiveTable')[0];\n    } else {\n        const idParts = id.split('::');\n        if (idParts.length > 1) {\n            facetID = idParts[0];\n        } else if (lastIdParts[0].indexOf('::') > -1) {\n            facetID = lastIdParts[0].split('::')[0];\n        }\n    }\n    return facetID;\n}\n\n/**\n * Determines Facet ID of flex change\n * @param {string} selectorId Control ID of flex change\n * @returns {string} FacetID\n */\nfunction getFacetID(selectorId: string): string {\n    let facetID: string;\n    const selectorIdParts: string[] = selectorId.split(':::');\n    if (selectorIdParts.length === 1) {\n        facetID = getSingleSelectorIdPart(selectorIdParts, facetID);\n    } else if (selectorId.indexOf('sSmartTableId') >= 0) {\n        for (const element of selectorIdParts) {\n            if (element.startsWith('sSmartTableId')) {\n                facetID = element\n                    .split('sSmartTableId::')[1]\n                    .split('::Table')[0]\n                    .split('/responsiveTable')[0]\n                    .replace(`::${UIAnnotationTerms.LineItem}`, `/@${UIAnnotationTerms.LineItem}`);\n                break;\n            }\n        }\n    } else {\n        facetID = selectorIdParts[0];\n    }\n    return facetID;\n}\n\n/**\n * Prepares the list of flex changes\n * @param change - the flex change (UI Adaptation)\n * @returns {FlexChangesForTransfer} - list of prepared flex changes\n */\nfunction prepareFlexChanges(changes: string[], entitySet: string, logger?: ExtensionLogger): FlexChangesForTransfer {\n    const result: FlexChangesForTransfer = {};\n    const complexIdMatch = /.+DataField.+:::sSmartTableId::.+/;\n    changes.forEach((changeString) => {\n        try {\n            const change = parseChangeString(changeString) as ChangeDefinition;\n            if (\n                change &&\n                change.controlId?.includes(v2.FE_TEMPLATE_V2_OBJECT_PAGE) &&\n                change.controlId?.includes(entitySet)\n            ) {\n                let selectorId = change.controlId.split('--')[1].replace(/:3a:3a/g, '::');\n                if (complexIdMatch.exec(selectorId) !== null) {\n                    selectorId = selectorId.split('template:::TableColumn:::')[1];\n                }\n                const facetID: string = getFacetID(selectorId);\n                selectorId = convertSelector(selectorId)\n                    .replace(/:3a:3a/g, '::')\n                    .replace(/\\/@com.sap.vocabularies/g, '::com.sap.vocabularies');\n                result[`${selectorId}::${change.content.property}`] = {\n                    controlId: selectorId,\n                    propertyId: change.content.property,\n                    facetId: facetID,\n                    newValue:\n                        change.content.newBinding !== undefined ? change.content.newBinding : change.content.newValue,\n                    controlType: change.controlType,\n                    creation: change.creation\n                };\n            }\n        } catch (error) {\n            log(\n                logger,\n                {\n                    severity: LogSeverity.Error,\n                    message: i18next.t('FLEXERROR')\n                },\n                ...error\n            );\n        }\n    });\n    const sortedList = Object.entries(result).sort(\n        (a: [string, any], b: [string, any]) => a[1].creation - b[1].creation\n    );\n    return sortedList.reduce((accum, [k, v]) => {\n        accum[k] = v;\n        return accum;\n    }, {});\n}\n\n/**\n * Returns the type of a given section\n * @param schemaSection - current section\n * @returns {SectionTypeV2} - type of section, differentiated by level (Sub/Section)\n */\nconst getSectionType = (schemaSection: object): SectionTypeV2 => {\n    let reference;\n    if (schemaSection['$ref']) {\n        reference = schemaSection['$ref'].includes('<') ? schemaSection['$ref'].split('<')[0] : schemaSection['$ref'];\n        return reference.replace(DEFINITION_LINK_PREFIX, '');\n    } else if (schemaSection['properties']?.['subsections']?.['$ref']) {\n        reference = schemaSection['properties']['subsections']['$ref'];\n        reference = reference.includes('<') ? reference.split('<')[0] : reference;\n        return reference.replace(DEFINITION_LINK_PREFIX, '');\n    } else if (schemaSection['properties']?.['subsections']) {\n        return SectionTypeV2.SubSection;\n    }\n};\n\n/**\n * Import of flex changes of a table to the config JSON of OP\n * @param flexChanges - list of flex changes (pre-processed by prepareFlexChanges)\n * @param propertyKey - key of the current property in the app schema\n * @param configPart - part of the configuration to be filled\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param sectionTitle - title of the section (optional)\n * @param sectionId - ID of the given section (optional)\n */\nfunction importFlexChangesOfTable(\n    flexChanges: FlexChangesForTransfer,\n    propertyKey: string,\n    configPart: { [key: string]: any },\n    importParameters: ImportObjectPageV2Parameters,\n    sectionTitle: string,\n    sectionId: string\n) {\n    let facetIds;\n    if (sectionTitle) {\n        facetIds = [sectionTitle.replace(/@/g, '')];\n    } else {\n        facetIds = [sectionId.replace(/@/g, ''), sectionId?.replace(/::@com.sap.vocabularies/g, VOCWITHSLASH)];\n    }\n\n    for (const selector in flexChanges) {\n        const flexChange = flexChanges[selector];\n        const propertyIdMatch = flexChange.propertyId === propertyKey;\n        const isTableColumn = propertyKey === 'columns' && flexChange.controlType === ControlType.TableColumn;\n        if ((propertyIdMatch || isTableColumn) && facetIds.indexOf(flexChange?.facetId) > -1) {\n            addFlexForTable(configPart, flexChange, importParameters.jsonSchema);\n        }\n    }\n}\n\n/**\n * RegEx check of the control Id and/or the section Id against the selector of a flex change\n * @param schemaDefinition - current section of the app specific schema\n * @param flexChange - flex change\n * @param controlIdChecker - RegEx for the controlId\n * @param selectionIdChecker - RegEx for the selectionId\n * @param sectionId - title of the section (optional)\n * @param controlId - ID of the given control, for e.g. GroupElement, Action (optional)\n * @returns the result of all checks\n */\nfunction matchSelector(\n    schemaDefinition: Definition,\n    flexChange: FlexForTransfer,\n    controlIdChecker: RegExp,\n    selectionIdChecker: RegExp,\n    sectionId?: string,\n    controlId?: string\n): boolean {\n    let idMatch = false,\n        controlIdMatch = false;\n    const idElementChecker = (arr, target) => target.every((v) => arr.includes(v));\n\n    if (controlId) {\n        idMatch = controlIdMatch = controlIdChecker.test(flexChange.controlId);\n        if (sectionId) {\n            idMatch = controlIdMatch && selectionIdChecker.test(flexChange.controlId);\n        }\n    } else if (sectionId) {\n        idMatch = selectionIdChecker.test(flexChange.controlId);\n    }\n    const controlIdParts = flexChange.controlId.split('::');\n\n    return (\n        (flexChange.controlType === ControlType.GroupElement && controlIdMatch) ||\n        (flexChange.facetId?.includes(ActionTitlePrefix) && !sectionId && idMatch) ||\n        (sectionId && idElementChecker(controlIdParts, sectionId.split('::')) && idMatch) ||\n        (schemaDefinition.title && idElementChecker(controlIdParts, schemaDefinition.title.split('::'))) ||\n        (!flexChange.facetId && SupportedFlexChangesWithoutFacetId.includes(flexChange.controlType as ControlType))\n    );\n}\n\n/**\n * Import of (regular) flex changes to the config JSON of OP\n * @param schemaDefinition - current section of the app specific schema\n * @param configPart - part of the configuration to be filled\n * @param flexChanges - list of flex changes (pre-processed by prepareFlexChanges)\n * @param propertyKey - key of the current property in the app schema\n * @param sectionId - title of the section (optional)\n * @param elementId - stable ID part of the given element, for e.g. GroupElement, Action (optional)\n */\nfunction importFlexChanges(\n    schemaDefinition: Definition,\n    configPart: { [key: string]: any },\n    flexChanges: FlexChangesForTransfer,\n    propertyKey: string,\n    sectionId?: string,\n    elementId?: string\n) {\n    const controlIdChecker = new RegExp(`.*${elementId}`);\n    const selectionIdChecker = new RegExp(`.*${sectionId}`);\n\n    for (const selector in flexChanges) {\n        const flexChange = flexChanges[selector];\n        //Property match?\n        if (flexChange.propertyId !== propertyKey) {\n            continue;\n        }\n        //Control type match?\n        if (flexChange.controlType !== schemaDefinition.properties[flexChange.propertyId]?.[SchemaTag.controlType]) {\n            continue;\n        }\n        const match = matchSelector(\n            schemaDefinition,\n            flexChange,\n            controlIdChecker,\n            selectionIdChecker,\n            sectionId,\n            elementId\n        );\n        if (match) {\n            configPart[propertyKey] = flexChange.newValue;\n        }\n    }\n}\n\n/**\n * Checks for deprecated properties and writes them to the log\n * @param manifestSection - given section in the manifest\n * @param deprecatedProperties - list of deperecated properties\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param manifestPath - manifest path, as calcualted by the sync rule\n */\nfunction checkDeprecatedProperties(\n    manifestSection: object,\n    deprecatedProperties: DeprecatedProperties,\n    importParameters: ImportObjectPageV2Parameters,\n    manifestPath: string\n) {\n    if (manifestSection && deprecatedProperties) {\n        for (const key in manifestSection) {\n            const deprecated = deprecatedProperties[key];\n            if (deprecated) {\n                log(importParameters.logger, {\n                    severity: LogSeverity.Warning,\n                    message: getTextForDeprecated(key, deprecated),\n                    location: {\n                        path: 'webapp/manifest.json/',\n                        range: manifestPath.split('/')\n                    }\n                });\n                delete deprecatedProperties[key];\n            }\n        }\n    }\n}\n\n/**\n * Imports manifest settings to the object page config\n * @param syncRule - sync rule for accessing the reflect-metadata\n * @param pageKeys - list of page keys (comprises the one entry describing the given page)\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param configPart - part of the configuration to be filled\n * @param propertyKey  - key of the current property of the schema definition\n * @param deprecatedProperties - list od deperecated properties\n * @param sectionId - ID of the given section (optional)\n * @param sectionTitle - title of the section (optional)\n */\nfunction importManifestSetting(\n    syncRule: SyncRule,\n    pageKeys: string[],\n    importParameters: ImportObjectPageV2Parameters,\n    configPart: { [key: string]: any },\n    propertyKey: string,\n    deprecatedProperties: DeprecatedProperties,\n    sectionPart?: SectionPartProperties\n) {\n    const sectionIdInManifest = sectionPart?.id\n        ? sectionPart.id.replace(/\\/@/g, '::').replace(/@com.sap/g, 'com.sap')\n        : undefined;\n    let manifestPath: string;\n    let manifestSection: object;\n    if (sectionPart?.title) {\n        manifestPath = syncRule.manifest.path(pageKeys, {}, sectionPart.title);\n        manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n        if (Object.values(manifestSection).length === 0) {\n            manifestPath = syncRule.manifest.path(pageKeys, {}, sectionIdInManifest);\n            manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n        }\n    } else {\n        manifestPath = syncRule.manifest.path(pageKeys, {}, sectionIdInManifest);\n        manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n    }\n    const importHandler = syncRule.manifest.import;\n    if (importHandler && typeof importHandler === 'function') {\n        const value = importHandler(manifestSection, sectionPart?.id);\n        if (value !== undefined) {\n            configPart[propertyKey] = value;\n        }\n    } else {\n        const manifestKey = syncRule.manifest.key || propertyKey;\n        if (manifestKey in manifestSection) {\n            configPart[propertyKey] = manifestSection[manifestKey];\n        }\n    }\n    // Check for deprecated properties.\n    checkDeprecatedProperties(manifestSection, deprecatedProperties, importParameters, manifestPath);\n    return manifestSection;\n}\n\n/**\n * Transfers settings from manifest and flexChanges to object page config\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param configPart - part of the configuration to be filled\n * @param schemaDefinition - current section of the app specific schema\n * @param configParameters - comprises page keys and flex changes\n * @param sectionPart - structure comprising the section information\n * @param elementId - stable ID part of the given element (action, column, ...) (optional)\n */\nfunction transferSettingsAndFlexChanges(\n    importParameters: ImportObjectPageV2Parameters,\n    configPart: { [key: string]: any },\n    schemaDefinition: Definition,\n    configParameters: ObjectPageV2ConfigParameters,\n    sectionPart?: SectionPartProperties,\n    elementId?: string\n): void {\n    if (!schemaDefinition) {\n        return;\n    }\n    const deprecatedProperties: DeprecatedProperties = configPart?.getDeprecated ? configPart.getDeprecated() : {};\n    for (const propertyKey in schemaDefinition.properties || schemaDefinition) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n        if (propertyKey === 'columns' || syncRule?.flex) {\n            if (\n                sectionPart?.type?.startsWith('ObjectPageSectionTableV2') ||\n                sectionPart?.type?.startsWith('ObjectPageSubSectionTableV2')\n            ) {\n                importFlexChangesOfTable(\n                    configParameters.flexChanges,\n                    propertyKey,\n                    configPart,\n                    importParameters,\n                    sectionPart.title,\n                    sectionPart.id\n                );\n            } else {\n                const facetId = sectionPart?.title || sectionPart?.id;\n                importFlexChanges(\n                    schemaDefinition,\n                    configPart,\n                    configParameters.flexChanges,\n                    propertyKey,\n                    facetId,\n                    elementId\n                );\n            }\n        } else if (syncRule?.manifest) {\n            importManifestSetting(\n                syncRule,\n                configParameters.pageKeys,\n                importParameters,\n                configPart,\n                propertyKey,\n                deprecatedProperties,\n                sectionPart\n            );\n        }\n    }\n}\n\n/**\n *\n * @param actionType - type of action\n * @param configActionId - id of action in config\n * @param {ActionTypeV2|string} importTypeId - type of action that was be initiated\n * @returns {string} actionId - to be used for import of flex changes\n */\nfunction getActionId(actionType: string, configActionId: string, importTypeId: string, facetId: string): string {\n    let actionId = convertActionKeyToStableId(configActionId);\n    if (actionType === ActionTypeV2.Form) {\n        actionId = `action::${actionId}::${facetId}::${importTypeId}`;\n    } else if (actionType === ActionTypeV2.OPFooter) {\n        actionId = `action::${actionId}::Determining`;\n    } else if (actionType === ActionTypeV2.OPToolBar) {\n        actionId = actionId.includes('sAction::')\n            ? `action::${actionId.split('sAction::')[1]}`\n            : `action::${actionId.replace(':2f', '::')}`;\n    }\n    return actionId.replace(/@/g, '');\n}\n\n/**\n *  Fills the action of the configuration\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {object} actionProperties - current properties' list (of action)\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n * @param {ActionTypeV2|string} importTypeId - type of action that should be initiated\n */\nfunction fillActions(\n    importParameters: ImportObjectPageV2Parameters,\n    actionProperties: object,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters,\n    importTypeId: ActionTypeV2 | string,\n    facetId?: string\n): void {\n    configPart[PropertyName.actions] = {};\n    const actionType = importTypeId.split('::').pop();\n    if (configParameters.flexChanges && Object.keys(configParameters.flexChanges).length > 0) {\n        const sectionPart: SectionPartProperties = {};\n        if (facetId) {\n            sectionPart.id = facetId;\n        }\n        for (const actionProperty in actionProperties) {\n            const configActionId = convertActionKey(actionProperty);\n            const actionId = getActionId(actionType, configActionId, importTypeId, facetId);\n            if (actionId) {\n                configPart[PropertyName.actions][configActionId] = configParameters.factory.createInstance(\n                    PageTypeV2.ObjectPage,\n                    actionType\n                );\n                transferSettingsAndFlexChanges(\n                    importParameters,\n                    configPart[PropertyName.actions][configActionId],\n                    (importParameters.jsonSchema as Definition).definitions[actionType] as Definition,\n                    configParameters,\n                    sectionPart,\n                    actionId\n                );\n            }\n            if (\n                configPart[PropertyName.actions]?.[configActionId] &&\n                Object.keys(configPart[PropertyName.actions][configActionId]).length === 0\n            ) {\n                delete configPart[PropertyName.actions][configActionId];\n            }\n        }\n    }\n    if (Object.keys(configPart[PropertyName.actions]).length === 0) {\n        delete configPart[PropertyName.actions];\n    }\n}\n\n/**\n *  Fills the fields of an object page form\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of form section\n * @param fieldProperties - current properties' list (of fields)\n * @param configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillFields(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    fieldProperties: object,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    let fieldId: string;\n    configPart[sectionPart.id]['form']['fields'] = {};\n    for (const fieldProperty in fieldProperties) {\n        fieldId = `${fieldProperty}::GroupElement`;\n        configPart[sectionPart.id]['form']['fields'][fieldProperty] = configParameters.factory.createInstance(\n            PageTypeV2.ObjectPage,\n            'Field'\n        );\n        const elementId = sectionPart.title.includes(UIVOCABULARYALPHADOT)\n            ? `${sectionPart.id.replace(/@/g, '')}::${fieldId}`\n            : `${sectionPart.title}::${fieldId}`;\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id]['form']['fields'][fieldProperty],\n            (importParameters.jsonSchema as Definition).definitions[DefinitionName.Field] as Definition,\n            configParameters,\n            {},\n            elementId\n        );\n        if (Object.keys(configPart[sectionPart.id]['form']['fields'][fieldProperty]).length === 0) {\n            delete configPart[sectionPart.id]['form']['fields'][fieldProperty];\n        }\n    }\n    if (Object.keys(configPart[sectionPart.id]['form']['fields']).length === 0) {\n        delete configPart[sectionPart.id]['form']['fields'];\n    }\n}\n\n/**\n * Adjusts the app schema by choosing the right table definition, depending on the table type\n * @param tableType - the type of the given table\n * @param {SectionPartProperties} sectionPart - current properties' list\n * @param schemaDefinitions - definitions' section of the app schema\n * @returns the right schema definition for the given table\n */\nfunction prepareTableSchema(\n    tableType: string,\n    sectionPart: SectionPartProperties,\n    schemaDefinitions: Definition\n): Definition {\n    let tableSchema: object;\n    if (tableType === 'TreeTable' || tableType === 'AnalyticalTable' || tableType === 'GridTable') {\n        tableSchema = schemaDefinitions[`ObjectPage${tableType}<${sectionPart.id}>`] as Definition;\n    } else if (\n        schemaDefinitions[`ObjectPageResponsiveTableWithMultiSelect<${sectionPart.id}>`] &&\n        schemaDefinitions[`ObjectPageResponsiveTableWithInlineDelete<${sectionPart.id}>`]\n    ) {\n        tableSchema = JSON.parse(\n            JSON.stringify(schemaDefinitions[`ObjectPageResponsiveTableWithMultiSelect<${sectionPart.id}>`])\n        );\n        tableSchema['properties'] = {\n            ...tableSchema['properties'],\n            ...schemaDefinitions[`ObjectPageResponsiveTableWithInlineDelete<${sectionPart.id}>`]['properties']\n        };\n    }\n    return tableSchema;\n}\n\n/**\n *  Fills the table section of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {SectionPartProperties} sectionPart - current properties' list\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillTableInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    const manifestKey = sectionPart.title || sectionPart.id.replace('@com.sap', 'com.sap');\n    const manifestSection = manifestSettings && manifestSettings.sections && manifestSettings.sections[manifestKey];\n\n    if (manifestSection || configParameters.flexChanges) {\n        const tableType: string = manifestSection?.tableSettings?.type || 'ResponsiveTable';\n\n        //Instantiate metadata\n        const OPtable = configParameters.factory.createInstance(PageTypeV2.ObjectPage, `ObjectPage${tableType}`, {\n            toolBar: {}\n        });\n        configPart[sectionPart.id] = configParameters.factory.createInstance(PageTypeV2.ObjectPage, sectionPart.type, {\n            table: {}\n        });\n        configPart[sectionPart.id][PropertyName.table] = OPtable;\n\n        const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions;\n\n        const tableSchema = prepareTableSchema(tableType, sectionPart, schemaDefinitions);\n        //Transfer settings of (sub)section\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n        //Transfer settings of table\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id][PropertyName.table],\n            tableSchema,\n            configParameters,\n            sectionPart\n        );\n        //Transfer settings of table toolbar actions\n        const toolBarActions = JSON.parse(JSON.stringify(schemaDefinitions))[\n            `Actions<${sectionPart.id}>`\n        ] as Definition;\n        if (toolBarActions?.properties) {\n            const facetId = sectionPart?.title\n                ? sectionPart.title.replace(/@/g, '::').replace(/::com/g, 'com')\n                : sectionPart?.id?.replace(/@/g, '::').replace(/::com/g, 'com');\n            fillActions(\n                importParameters,\n                toolBarActions.properties,\n                configPart[sectionPart.id][PropertyName.table]['toolBar'],\n                configParameters,\n                ActionTypeV2.OPToolBar,\n                facetId\n            );\n        }\n        if (Object.keys(configPart[sectionPart.id][PropertyName.table]['toolBar']).length === 0) {\n            delete configPart[sectionPart.id][PropertyName.table]['toolBar'];\n        }\n    }\n}\n\n/**\n * Fills custom columns in a V2 object page config JSON\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {string} escapedSectionId - escaped version of the section ID\n * @param {string} sectionTitle - title of current section, if available\n * @param {object} configPart - the given part of the object page config\n * @param {SapUiAppPageV2} v2Page - v2 page from manifest.\n */\nfunction fillCustomColumnsInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    escapedSectionId: string,\n    configPart: object,\n    v2Page: v2.SapUiAppPageV2\n) {\n    const customColumnSchemaProp = (\n        (importParameters.jsonSchema as Definition).definitions[escapedSectionId] as Definition\n    ).properties.custom as Definition;\n    const customColumnTarget = customColumnSchemaProp\n        ? getTargetFromCustomColumnRef(customColumnSchemaProp.$ref)\n        : undefined;\n    if (customColumnTarget) {\n        const objectPageSectionData: ObjectPageSectionData = {\n            key: escapedSectionId.replace('@', ''),\n            target: customColumnTarget\n        };\n        addFragments(\n            configPart[escapedSectionId],\n            importParameters.manifest,\n            v2Page,\n            PageTypeV2.ObjectPage,\n            importParameters.fragments,\n            objectPageSectionData\n        );\n    }\n}\n\n/**\n *  Fills the sections and subsections of the object page config (recursive function)\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of chart section\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillChartSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    const manifestKey = sectionPart.id.replace('@com.sap', 'com.sap');\n    const manifestSection = manifestSettings && manifestSettings.sections && manifestSettings.sections[manifestKey];\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageTypeV2.ObjectPage, sectionPart.type, {\n        chart: {}\n    });\n    configPart[sectionPart.id][PropertyName.chart] = configParameters.factory.createInstance(\n        PageTypeV2.ObjectPage,\n        'ObjectPageChart'\n    );\n    if (manifestSection || configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id][PropertyName.chart],\n            (importParameters.jsonSchema as Definition).definitions[DefinitionName.ObjectPageChart] as Definition,\n            configParameters,\n            sectionPart\n        );\n    }\n}\n\n/**\n * Fills the form section of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of form section\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillFormSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    const formId = sectionPart.schema['properties']['form']['$ref'].split('SectionForm')[1];\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageTypeV2.ObjectPage, sectionPart.type, {\n        form: {}\n    });\n    if (configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n    }\n    const formActions = (importParameters.jsonSchema as Definition).definitions[\n        `SectionActions${formId}`\n    ] as Definition;\n    const facetId = sectionPart?.title\n        ? sectionPart.title.replace(/@/g, '::').replace(/::com/g, 'com')\n        : sectionPart?.id?.replace(/@/g, '::').replace(/::com/g, 'com');\n    if (formActions?.properties) {\n        fillActions(\n            importParameters,\n            formActions.properties,\n            configPart[sectionPart.id]['form'],\n            configParameters,\n            ActionTypeV2.Form,\n            facetId\n        );\n    }\n    const formFields = (importParameters.jsonSchema as Definition).definitions[`SectionFields${formId}`] as Definition;\n    if (formFields?.properties) {\n        fillFields(importParameters, sectionPart, formFields.properties, configPart, configParameters);\n    }\n    if (Object.keys(configPart[sectionPart.id]['form']).length === 0) {\n        delete configPart[sectionPart.id]['form'];\n    }\n    if (Object.keys(configPart[sectionPart.id]).length === 0) {\n        delete configPart[sectionPart.id];\n    }\n}\n\n/**\n *  Fills the subsection of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of subsection\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillSubSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageTypeV2.ObjectPage, sectionPart.type, {\n        subsections: {}\n    });\n    if (configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            sectionPart\n        );\n    }\n    let currentSchemaSection;\n    const schemaProperties = sectionPart.schema.properties;\n    if ((schemaProperties?.subsections as Definition)?.properties) {\n        currentSchemaSection = (schemaProperties.subsections as Definition).properties;\n    } else {\n        currentSchemaSection = schemaProperties;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    fillSectionsInConfig(\n        importParameters,\n        currentSchemaSection,\n        manifestSettings,\n        configPart[sectionPart.id]['subsections'],\n        configParameters\n    );\n    if (Object.keys(configPart[sectionPart.id]['subsections']).length < 1) {\n        delete configPart[sectionPart.id]['subsections'];\n    }\n}\n\n/**\n * Fills the sections and subsections of the object page config (recursive function)\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {object} sectionProperties - current properties' list (of sections or subsections)\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig.\n */\nfunction fillSectionsInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionProperties: object,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    const appSchemaDefinitions = (importParameters.jsonSchema as Definition).definitions;\n    for (const sectionId in sectionProperties) {\n        const escapedSectionId = sectionId.replace(/\\/@/g, '::');\n        const sectionPart: SectionPartProperties = {\n            id: escapedSectionId,\n            type: getSectionType(sectionProperties[sectionId]),\n            schema: sectionProperties[sectionId],\n            title: getSectionTitle(sectionProperties[sectionId], importParameters.jsonSchema)\n        };\n        if (sectionPart.schema['$ref'] && sectionPart.type) {\n            switch (sectionPart.type) {\n                case SectionTypeV2.SectionTable:\n                case SectionTypeV2.SubSectionTable: {\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillTableInConfig(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    // Custom column ref\n                    fillCustomColumnsInConfig(importParameters, escapedSectionId, configPart, configParameters.v2Page);\n                    break;\n                }\n                case SectionTypeV2.SectionChart:\n                case SectionTypeV2.SubSectionChart: {\n                    // Section without subsections\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillChartSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    break;\n                }\n                case SectionTypeV2.SectionForm:\n                case SectionTypeV2.SubSectionForm: {\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillFormSection(importParameters, sectionPart, configPart, configParameters);\n                    break;\n                }\n                case SectionTypeV2.Section:\n                case SectionTypeV2.SectionAddress:\n                case SectionTypeV2.SubSectionAddress:\n                case SectionTypeV2.SectionContact:\n                case SectionTypeV2.SubSectionContact:\n                case SectionTypeV2.SubSection: {\n                    // Section with subsections\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillSubSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    break;\n                }\n            }\n        } else if (sectionPart.schema.properties?.['subsections']) {\n            sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n            fillSubSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n        }\n    }\n}\n\n/**\n * Fill properties of object page confg based on manifest settings\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param pageKeys - list of page keys (comprises the one entry describing the given page)\n * @param flexChangesForTransfer - list of flex changes (pre-processed by prepareFlexChanges)\n * @param v2Page - page definition in manifest.json\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @returns {ObjectPageConfig} - the object page configuration (JSON)\n */\nfunction fillConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    configParameters: ObjectPageV2ConfigParameters\n): v2.ObjectPageConfigV2 {\n    const objectPageConfig: v2.ObjectPageConfigV2 = configParameters.factory.createPageInstance(PageTypeV2.ObjectPage);\n\n    const manifestSettings = configParameters.v2Page.component.settings;\n    // Transfer page information\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig,\n        importParameters.jsonSchema['properties'],\n        configParameters\n    );\n\n    // Transfer header information\n    objectPageConfig.header = configParameters.factory.createInstance(\n        PageTypeV2.ObjectPage,\n        DefinitionName.ObjectPageHeader\n    );\n    const definitions = (importParameters.jsonSchema as Definition).definitions;\n    const schemaDefinition = definitions[DefinitionName.ObjectPageHeader]\n        ? definitions[DefinitionName.ObjectPageHeader]\n        : definitions['ObjectPageHeader<GenericActions>'];\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig.header,\n        schemaDefinition as Definition,\n        configParameters\n    );\n    const headerAction = definitions[DefinitionName.ObjectPageHeaderActions] as Definition;\n    if (headerAction) {\n        fillActions(\n            importParameters,\n            headerAction.properties,\n            objectPageConfig.header,\n            configParameters,\n            ActionTypeV2.OPHeader\n        );\n    }\n    objectPageConfig.footer = {};\n    const footerAction = definitions[DefinitionName.FooterActions] as Definition;\n    if (footerAction) {\n        fillActions(\n            importParameters,\n            footerAction.properties,\n            objectPageConfig.footer,\n            configParameters,\n            ActionTypeV2.OPFooter\n        );\n    }\n\n    // Transfer Layout information\n    objectPageConfig.layout = configParameters.factory.createInstance(PageTypeV2.ObjectPage, 'ObjectPageLayout');\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig.layout,\n        definitions[DefinitionName.ObjectPageLayout] as Definition,\n        configParameters\n    );\n    if (Object.keys(objectPageConfig.layout).length === 0) {\n        delete objectPageConfig.layout;\n    }\n\n    // Fill sections and subsections\n    objectPageConfig.sections = {};\n    const sections = definitions[DefinitionName.Sections] as Definition;\n    if (sections) {\n        fillSectionsInConfig(\n            importParameters,\n            sections.properties,\n            manifestSettings,\n            objectPageConfig.sections,\n            configParameters\n        );\n    }\n\n    // Find custom sections\n    const customSections = findCustomSectionExtensions(importParameters.manifest, importParameters.entitySet);\n    if (Object.keys(customSections).length > 0) {\n        objectPageConfig.sections.custom = [];\n        for (const sectionId in customSections) {\n            const customSection =\n                'fragmentName' in customSections[sectionId]\n                    ? configParameters.factory.createInstance(PageTypeV2.ObjectPage, 'ObjectPageCustomSectionFragment')\n                    : configParameters.factory.createInstance(PageTypeV2.ObjectPage, 'ObjectPageCustomSectionView');\n            const customSectionDefinition =\n                definitions[\n                    'fragmentName' in customSections[sectionId]\n                        ? 'ObjectPageCustomSectionFragment'\n                        : 'ObjectPageCustomSectionView'\n                ];\n            transferSettingsAndFlexChanges(\n                importParameters,\n                customSection,\n                customSectionDefinition as Definition,\n                configParameters,\n                { id: sectionId }\n            );\n            objectPageConfig.sections.custom.push(customSection);\n        }\n    }\n\n    return objectPageConfig;\n}\n\n/**\n * Creates the configuration (file content) for a V2 object page\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {ObjectPageConfig} - the object page configuration (JSON)\n */\nexport function createObjectPageConfigV2(\n    importParameters: ImportObjectPageV2Parameters\n): v2.ObjectPageConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const pageKeys: string[] = [];\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const entitySet = importParameters.entitySet;\n    const v2Page: v2.SapUiAppPageV2 = findObjectPageV2(v2Pages, importParameters.entitySet, pageKeys);\n    if (!v2Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET', { entitySet }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const flexChangesForTransfer = prepareFlexChanges(importParameters.flex, entitySet);\n\n    const factory = new Factory();\n\n    //Fill config.json with manifest settings and flex changes\n    return fillConfig(importParameters, { pageKeys, flexChanges: flexChangesForTransfer, v2Page, factory });\n}\n", "import type { v2, ImportAllConfigsParameters, ImportOverviewPageV2Parameters } from '@sap/ux-specification-types';\nimport { FioriElementsVersion, PageTypeV2, ManifestSection, SchemaType } from '@sap/ux-specification-types';\nimport { AppProvider } from '../../../common/appProvider';\nimport { transferSettingsOfObject } from '../common';\nimport { createOverviewPageConfig } from '../pages/overviewPage';\nimport { AppSettings } from '../../application';\nimport { getSchemaFilePath, generatePageId } from '../../../common';\n\nexport class V2OvpProvider extends AppProvider {\n    public constructor(importParameters: ImportAllConfigsParameters) {\n        const pages: v2.Pages = {};\n        const sapOvp = importParameters.manifest[ManifestSection.ovp];\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        transferSettingsOfObject(\n            appSettings,\n            importParameters.manifest,\n            importParameters.appSchemas[schemaFile.filename]['definitions']['AppSettings'],\n            undefined\n        );\n        const jsonSchema: string = Object.keys(importParameters.appSchemas).find((element) =>\n            element.includes(PageTypeV2.OverviewPage)\n        );\n        const parameters: ImportOverviewPageV2Parameters = {\n            manifest: importParameters.manifest,\n            jsonSchema: importParameters.appSchemas[jsonSchema]\n        };\n        const page: v2.Page = {\n            pageType: PageTypeV2.OverviewPage,\n            config: createOverviewPageConfig(parameters),\n            entitySet: sapOvp.globalFilterEntitySet\n        };\n        const id = generatePageId(page.pageType, page.entitySet);\n        pages[id] = page;\n        super(\n            importParameters.manifest,\n            importParameters.appSchemas,\n            id,\n            pages,\n            FioriElementsVersion.v2,\n            appSettings,\n            importParameters.logger\n        );\n    }\n}\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { v2, ManifestSection, PageTypeV2 } from '@sap/ux-specification-types';\nimport { getReflectMetadata } from '../../../common/decoration/decorators';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport { assignReflectMetadataRules } from '../../export/export';\nimport { importProperty } from '../../../common';\nimport type { ImportOverviewPageV2Parameters } from '../../../..';\n\n/**\n * Transfers the card settings from manifest to config\n * @param propertyKey - Key of the property or setting\n * @param manifestSection - Section in manifest.json\n * @param configPart - Part of the config JSON\n * @param pathHierarchy - Parts of the path or breadcrumbs\n */\nfunction transferCardSettings(\n    propertyKey: string,\n    manifestSection: object,\n    configPart: { [key: string]: any },\n    pathHierarchy?: string[]\n): void {\n    if (propertyKey === 'settings') {\n        switch (manifestSection['template']) {\n            case 'sap.ovp.cards.charts.analytical':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.analyticalCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.v4.charts.analytical':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.analyticalCardSettingsv4] =\n                    manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.list':\n            case 'sap.ovp.cards.v4.list':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.listCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.stack':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.stackCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.linklist':\n            case 'sap.ovp.cards.v4.linklist':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.linkListCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.table':\n            case 'sap.ovp.cards.v4.table':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.tableCardSettings] = manifestSection[propertyKey];\n                break;\n            default:\n                configPart[pathHierarchy[0]].settings = manifestSection[propertyKey];\n                break;\n        }\n    } else {\n        configPart[pathHierarchy[0]][propertyKey] = manifestSection[propertyKey];\n    }\n}\n\n/**\n * Handles a list of properties of a given part of the schema, transfers the relevant property values or settings from manifest to config.\n * @param configPart - Part of the config JSON\n * @param manifest - manifest.json or app descriptor\n * @param appSchema - app specific JSON schema\n * @param pathHierarchy - Parts of the path or breadcrumbs\n */\nfunction transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: object,\n    pathHierarchy?: string[]\n): void {\n    for (const propertyKey in appSchema) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n        if (syncRule?.manifest) {\n            const path = syncRule.manifest.path([...pathHierarchy, propertyKey]);\n            const manifestSection = ensureManifestSectionByPathV2(manifest, path);\n            if (Object.prototype.hasOwnProperty.call(manifestSection, propertyKey)) {\n                if (pathHierarchy.length !== 0) {\n                    transferCardSettings(propertyKey, manifestSection, configPart, pathHierarchy);\n                } else {\n                    importProperty(syncRule, manifestSection, propertyKey, configPart);\n                }\n            }\n        }\n    }\n}\n\n/**\n * OVP: Transfers all settings from manifest to config\n * @param pageConfig - the OVP configuration (JSON)\n * @param manifest  - manifest.json or app descriptor\n * @param appSchema - app specific JSON schema\n * @param factory - Metadata factory\n */\nfunction addSettings(\n    pageConfig: v2.OverviewPageConfigV2,\n    manifest: Manifest,\n    appSchema: object,\n    factory: MetadataInstanceInterface\n): void {\n    transferSettingsOfObject(pageConfig, manifest, appSchema['properties'], []);\n\n    pageConfig.cards = {};\n\n    Object.keys(manifest[ManifestSection.ovp]['cards']).forEach((newKey) => {\n        const cardTemplate = manifest[ManifestSection.ovp]['cards'][newKey].template;\n        const cardType = v2.cardTemplateTypeMap[cardTemplate];\n\n        //instantiate Card:\n        pageConfig.cards[newKey] = assignReflectMetadataRules(factory, cardType, {}, 'CustomCard') as v2.CardType;\n\n        pageConfig.cards = assignReflectMetadataRules(factory, cardType, pageConfig.cards, 'CustomCard') as {\n            [k: string]: v2.CardType;\n        };\n\n        //transfer settings:\n        transferSettingsOfObject(pageConfig.cards, manifest, manifest[ManifestSection.ovp]['cards'][newKey], [newKey]);\n    });\n}\n\n/**\n * Creates the configuration (file content) for an overview page\n * @param {object} manifest  - manifest of the app\n * @param {object} jsonSchema - app specific JSON schema\n *\n * @returns {object} - the OVP configuration (JSON)\n */\nexport function createOverviewPageConfig(importParameters: ImportOverviewPageV2Parameters): object {\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageTypeV2.OverviewPage);\n\n    if (importParameters.jsonSchema) {\n        addSettings(config, importParameters.manifest, importParameters.jsonSchema, factory);\n    }\n    return config;\n}\n", "// Note: the main functions or entry points reside in ./exportPage.ts\nimport merge from 'deepmerge';\nimport type { ObjectPageCustomSectionFragment, ObjectPageCustomSectionView } from './controls';\nimport { exportCustomColumnsToFragment, getCustomColumnPath, deleteColumnFromFragment } from './controls';\nimport type { NextDefinition } from '../../common';\nimport {\n    getReflectMetadata,\n    getChildId,\n    convertSectionId,\n    getNextTargetDefinition,\n    DEFINITION_LINK_PREFIX,\n    arrayCombineMerge,\n    deleteEmptyStructure,\n    fillFlexChangeContent,\n    getTargetFromCustomColumnRef\n} from '../../common';\nimport { getViewExtensionsPath } from '../application';\nimport { ensureManifestSectionByPathV2, getManifestSectionByPathV2 } from './manifest';\nimport { isAssociatedCustomSection } from '../import/utils';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV2 } from '../types';\nimport type { Definition } from 'typescript-json-schema';\nimport type {\n    Manifest,\n    SapOvp,\n    ExportHandlerFunction,\n    ExportResults,\n    SyncRule,\n    ObjectPageSectionData\n} from '@sap/ux-specification-types';\n\nimport {\n    v2,\n    PropertyName,\n    ViewTemplateType,\n    ManifestSection,\n    PageTypeV2,\n    FacetTitlePrefix\n} from '@sap/ux-specification-types';\n\n/**\n * Create missing card from the manifest\n * @param key - card name\n * @param ovp - OVP section of manifest, to be updated\n */\nfunction createCard(key: string, ovp: SapOvp): void {\n    if (!ovp.cards) {\n        ovp.cards = {};\n    }\n    if (!(key in ovp.cards)) {\n        ovp.cards[key] = {};\n    }\n}\n\n/**\n * Recursive function that searches for next avaialble id by increasing number by 1.\n * @param {boolean} sectionIds All ids in use.\n * @param {string} candidateId Candidate id to check if it is available.\n * @return {string} Id string.\n */\nfunction findAvailableId(sectionIds: string[], candidateId: string): string {\n    if (sectionIds.includes(candidateId)) {\n        const idParts = candidateId.split('|');\n        if (idParts.length === 3) {\n            idParts.push('1');\n        } else {\n            idParts[3] = (parseInt(idParts[3]) + 1).toString();\n        }\n        return findAvailableId(sectionIds, idParts.join('|'));\n    }\n    return candidateId;\n}\n\n/**\n * Private recursive function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param configObject - current object to traverse\n * @param exportResults - object with all collected manifest entries and flex changes\n * @param jsonSchema - application specific schema\n * @param targetDefinition - the current entry point or definition in the app schema\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n */\nexport function transferManifestEntriesOVP(\n    configObject: { [key: string]: any },\n    exportResults: ExportResults,\n    jsonSchema: object,\n    targetDefinition: object,\n    factory: MetadataInstanceInterface,\n    pathHierarchy?: string[]\n): void {\n    if (targetDefinition) {\n        if (targetDefinition['properties']) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                configObject,\n                exportResults,\n                jsonSchema,\n                targetDefinition['properties'],\n                factory,\n                pathHierarchy\n            );\n        } else if (targetDefinition['additionalProperties']) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                configObject,\n                exportResults,\n                jsonSchema,\n                targetDefinition['additionalProperties'],\n                factory,\n                pathHierarchy\n            );\n        }\n    }\n}\n\n/**\n * Assign sync rules to {currentObject}\n * @param {string} structureName - name of the complex structure in schema\n * @param {object} currentObject - the given part of the configuration\n * @param {string} defaultTypeName - name of the default type that shall be taken if no class is registered for structureName\n */\nexport function assignReflectMetadataRules(\n    factory: MetadataInstanceInterface,\n    structureName: string,\n    currentObject: object,\n    defaultTypeName: string\n): object {\n    return factory.createInstance(PageTypeV2.OverviewPage, defaultTypeName, currentObject, structureName);\n}\n\ntype ProcessDefinitionParams = {\n    pathHierarchy: string[];\n    propertyList: object;\n    appSchema: Definition;\n    currentObject: object;\n    configObject: { [key: string]: any };\n    factory: MetadataInstanceInterface;\n    exportResults: ExportResults;\n};\n\nfunction processAnyOfDefinitionsOfOVP(params: ProcessDefinitionParams): object {\n    params.pathHierarchy.pop();\n    let newConfigObject = params.currentObject;\n    for (const anyOfKey in params.propertyList['anyOf']) {\n        if (params.propertyList['anyOf'][anyOfKey].$ref) {\n            const definitionArray = params.propertyList['anyOf'][anyOfKey].$ref.split(DEFINITION_LINK_PREFIX);\n            const nextTargetDefinition = params.appSchema['definitions'][definitionArray[definitionArray.length - 1]];\n            const cardSettingsType = params.pathHierarchy[1];\n            params.currentObject = params.configObject[cardSettingsType];\n            newConfigObject = assignReflectMetadataRules(\n                params.factory,\n                cardSettingsType,\n                params.currentObject,\n                'CustomCard'\n            );\n            transferManifestEntriesOVP(\n                newConfigObject,\n                params.exportResults,\n                params.appSchema,\n                nextTargetDefinition as Definition,\n                params.factory,\n                [...params.pathHierarchy]\n            );\n        } else if (typeof params.propertyList['anyOf'][anyOfKey] === 'object') {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                params.configObject,\n                params.exportResults,\n                params.appSchema,\n                params.propertyList['anyOf'][anyOfKey].properties,\n                params.factory,\n                [...params.pathHierarchy, 'anyOfObject']\n            );\n        }\n    }\n    return newConfigObject;\n}\n\nfunction checkSyncRuleForExport(\n    exportHandler: boolean | ExportHandlerFunction,\n    manifestSection: object,\n    configObject: { [key: string]: any },\n    key: string,\n    currentObject: object,\n    exceptionList: string[]\n) {\n    if (exportHandler && typeof exportHandler === 'function') {\n        exportHandler(manifestSection, configObject, key);\n    } else if (typeof currentObject === 'object' && !exceptionList.includes(key)) {\n        // colorPalette is an exception as it can contain anything as per our schema, so just replace the object\n        manifestSection[key] = merge(manifestSection[key] || {}, currentObject || {}, {\n            arrayMerge: arrayCombineMerge\n        });\n    } else {\n        manifestSection[key] = currentObject;\n    }\n}\n\n/**\n * Transfer manifest settings from config to manifest\n * @param syncRule - metadata rule used for import and export\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n * @param key\n * @param exportResults - overall result list, to be updated\n * @param currentObject\n * @param configObject\n */\nfunction transferToManifest(\n    syncRule: SyncRule,\n    pathHierarchy: string[],\n    key: string,\n    exportResults: ExportResults,\n    currentObject: object,\n    configObject: { [key: string]: any }\n) {\n    const exceptionList = ['colorPalette', 'tabs'];\n    const path = syncRule.manifest.path([...pathHierarchy, key]);\n    const manifestSection = ensureManifestSectionByPathV2(exportResults.manifest, path);\n    if (key in v2.CardSettingsType || key === 'settings') {\n        manifestSection['settings'] = merge(manifestSection['settings'] || {}, currentObject || {}, {\n            arrayMerge: arrayCombineMerge\n        });\n    } else if (currentObject !== undefined) {\n        const exportHandler = syncRule.manifest.export;\n        if (exportHandler !== false) {\n            checkSyncRuleForExport(exportHandler, manifestSection, configObject, key, currentObject, exceptionList);\n        }\n    } else if (manifestSection[key] !== undefined) {\n        delete manifestSection[key];\n    }\n}\n\nfunction transferCards(\n    currentObject: object,\n    appSchema: Definition,\n    factory: MetadataInstanceInterface,\n    exportResults: ExportResults\n) {\n    Object.keys(currentObject).forEach((cardKey) => {\n        const cardType = currentObject[cardKey].template;\n        //Determine target defintion\n        let targetDefinition;\n        if (!Object.values(v2.CardTemplateType).includes(cardType)) {\n            targetDefinition = ['CustomCard'];\n        } else {\n            targetDefinition = Object.keys(appSchema.definitions).filter(\n                (definition) =>\n                    (\n                        (appSchema.definitions[definition] as Definition).properties?.template as Definition\n                    )?.enum?.indexOf(currentObject[cardKey].template) > -1\n            );\n        }\n        //Get metadata\n        currentObject[cardKey] = assignReflectMetadataRules(\n            factory,\n            targetDefinition[0],\n            currentObject[cardKey],\n            'CustomCard'\n        );\n        createCard(cardKey, exportResults['manifest'][ManifestSection.ovp]);\n        transferManifestEntriesOVP(\n            currentObject[cardKey],\n            exportResults,\n            appSchema,\n            appSchema.definitions[targetDefinition[0]] as Definition,\n            factory,\n            [cardKey]\n        );\n    });\n    //check for deletions:\n    Object.keys(exportResults.manifest[ManifestSection.ovp].cards).forEach((manifestCard) => {\n        if (!currentObject[manifestCard]) {\n            delete exportResults.manifest[ManifestSection.ovp].cards[manifestCard];\n        }\n    });\n}\n\nfunction exportOfObject(params: ProcessDefinitionParams, key: string, factory: MetadataInstanceInterface): void {\n    if (key === 'cards') {\n        //inserts and updates:\n        transferCards(params.currentObject, params.appSchema, factory, params.exportResults);\n    } else if (params.propertyList[key].$ref) {\n        const definitionArray = params.propertyList[key].$ref.split(DEFINITION_LINK_PREFIX);\n        const nextTargetDefinition = params.appSchema.definitions[definitionArray[definitionArray.length - 1]];\n        params.currentObject = assignReflectMetadataRules(\n            params.factory,\n            key,\n            params.currentObject,\n            key === 'settings' ? 'CustomCard' : ''\n        );\n        transferManifestEntriesOVP(\n            params.currentObject,\n            params.exportResults,\n            params.appSchema,\n            nextTargetDefinition as Definition,\n            factory,\n            [...params.pathHierarchy, key]\n        );\n    } else if (params.propertyList[key].anyOf) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processProperties(\n            params.configObject,\n            params.exportResults,\n            params.appSchema,\n            params.propertyList[key],\n            factory,\n            [...params.pathHierarchy, key, 'anyOf']\n        );\n    } else if (params.propertyList[key]['properties'] !== undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processProperties(\n            params.configObject,\n            params.exportResults,\n            params.appSchema,\n            params.propertyList[key].properties,\n            params.factory,\n            [...params.pathHierarchy, key, 'objectProperties']\n        );\n    }\n}\n\n/**\n * Recursive function that transfers the content of a list of properties of a configuration to the overall exportResults\n * @param configObject - the given part of the configuration\n * @param exportResults - overall result list, to be updated\n * @param appSchema - app-specific JSON schema\n * @param propertyList - current property list of the config (properties or additional properties)\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n */\nfunction processProperties(\n    configObject: { [key: string]: any },\n    exportResults: ExportResults,\n    appSchema: Definition,\n    propertyList: object,\n    factory: MetadataInstanceInterface,\n    pathHierarchy?: string[]\n): void {\n    let isAnyOfObject = false;\n    let isObjectProperty = false;\n\n    for (const key in propertyList) {\n        let currentObject = configObject[key];\n        let syncRule = getReflectMetadata(configObject, key);\n\n        if (pathHierarchy[pathHierarchy.length - 1] === 'anyOfObject') {\n            isAnyOfObject = true;\n            pathHierarchy.pop();\n        }\n        if (isAnyOfObject) {\n            currentObject = configObject[pathHierarchy[pathHierarchy.length - 1]][key];\n            syncRule = getReflectMetadata(configObject, pathHierarchy[pathHierarchy.length - 1]);\n        }\n\n        if (pathHierarchy[pathHierarchy.length - 1] === 'objectProperties') {\n            isObjectProperty = true;\n            pathHierarchy.pop();\n        }\n        if (isObjectProperty) {\n            currentObject = configObject[pathHierarchy[pathHierarchy.length - 1]][key];\n            syncRule = getReflectMetadata(configObject, pathHierarchy[pathHierarchy.length - 1]);\n        }\n\n        const processDefinitionParams: ProcessDefinitionParams = {\n            pathHierarchy,\n            propertyList,\n            appSchema,\n            currentObject,\n            configObject,\n            factory,\n            exportResults\n        };\n        if (pathHierarchy[pathHierarchy.length - 1] === 'anyOf') {\n            currentObject = processAnyOfDefinitionsOfOVP(processDefinitionParams);\n        }\n        if (syncRule?.manifest) {\n            transferToManifest(syncRule, pathHierarchy, key, exportResults, currentObject, configObject);\n        }\n        if (currentObject && typeof currentObject === 'object' && propertyList[key]) {\n            exportOfObject(processDefinitionParams, key, factory);\n        }\n    }\n}\n\n/**\n * Evaluates an export rule for a property, transfers to flex change\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateFlexRule(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    syncRule: SyncRule,\n    ids: string[],\n    title: string,\n    configObject: object,\n    key: string\n): void {\n    let localBreadcrumbs: string[];\n\n    if (breadcrumbs.length === 0) {\n        //only added on top = page level, do not forward\n        localBreadcrumbs = ['page'];\n    } else {\n        localBreadcrumbs = breadcrumbs;\n    }\n    const controlId = syncRule.flex.controlId(\n        transferParameters.baseId,\n        ids,\n        localBreadcrumbs,\n        syncRule.flex.controlType,\n        title\n    );\n    const flexChange = fillFlexChangeContent(configObject, syncRule, transferParameters.ui5Version, key, controlId);\n    const localManifest = JSON.parse(JSON.stringify(transferParameters.exportResults.manifest)) as Manifest;\n    localManifest['sap.app'].id = transferParameters.appId;\n    const completeFlexChange = syncRule.flex.createFlexChange(flexChange, localManifest);\n    const flexChangeExists = transferParameters.exportResults.flexChanges.find((change) => {\n        let result = false,\n            oldChange: object = JSON.parse(change);\n        oldChange = {\n            content: oldChange['content'],\n            selector: oldChange['selector']\n        };\n        let newChange: object = JSON.parse(completeFlexChange);\n        newChange = {\n            content: newChange['content'],\n            selector: newChange['selector']\n        };\n        if (JSON.stringify(oldChange) === JSON.stringify(newChange)) {\n            result = true;\n        }\n        return result;\n    });\n    if (!flexChangeExists) {\n        transferParameters.exportResults.flexChanges.push(completeFlexChange);\n    }\n}\n\n/**\n * Exports a given config property value to manifest\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param syncRule - export rule from the object classes decorator\n * @param manifestSection - current section in manifest.json\n * @param configObject - current (sub)object of the configuration file\n * @param key - key of the given property in the config\n * @param manifestKey - key of the given property in manifest\n */\nfunction exportConfigValue(\n    transferParameters: TransferParameterTypeV2,\n    syncRule: SyncRule,\n    manifestSection: object,\n    configObject: object,\n    key: string,\n    manifestKey: string\n) {\n    if (\n        // In case of arrays we take over complete array\n        !(\n            transferParameters.propertyDefinition['type'] !== 'array' &&\n            transferParameters.nextDefinition &&\n            transferParameters.nextDefinition['targetDefinition'].type === 'object' &&\n            transferParameters.nextDefinition['targetDefinition'].properties\n        )\n    ) {\n        const exportHandler = syncRule.manifest.export;\n        if (exportHandler && typeof exportHandler === 'function') {\n            exportHandler(manifestSection, configObject, key, manifestKey);\n        } else if (exportHandler !== false) {\n            manifestSection[manifestKey] = configObject[key];\n        }\n    } else if (\n        transferParameters.propertyDefinition['type'] !== 'array' &&\n        manifestSection[manifestKey] === undefined\n    ) {\n        manifestSection[manifestKey] = {};\n    }\n}\n\n/**\n * Evaluates an export rule for a property, transfers to manifest setting\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateManifestRule(\n    transferParameters: TransferParameterTypeV2,\n    path: string,\n    syncRule: SyncRule,\n    key: string,\n    configObject: object\n) {\n    const manifestSection = ensureManifestSectionByPathV2(transferParameters.exportResults.manifest, path);\n    const manifestKey = syncRule.manifest.key || key;\n    if (configObject[key] !== undefined) {\n        exportConfigValue(transferParameters, syncRule, manifestSection, configObject, key, manifestKey);\n    } else {\n        //delete value\n        const deleteHandler = syncRule.manifest.delete;\n        if (deleteHandler && typeof deleteHandler === 'function') {\n            deleteHandler(manifestSection, configObject, key, manifestKey);\n        } else if (Object.prototype.hasOwnProperty.call(manifestSection, manifestKey)) {\n            delete manifestSection[manifestKey];\n        }\n        deleteEmptyStructure(transferParameters.exportResults.manifest, path);\n    }\n}\n\nfunction getManifestPathOfSections(\n    breadcrumbs: string[],\n    path: string,\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV2,\n    title: string\n) {\n    if (breadcrumbs[1] === 'custom') {\n        path = syncRule.manifest.path(transferParameters.pageKeys, {}, breadcrumbs[2]);\n    } else {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            {},\n            title?.startsWith(FacetTitlePrefix) ? title.split(FacetTitlePrefix)[1] : breadcrumbs[1],\n            breadcrumbs[breadcrumbs.length - 1]\n        );\n        path = path.replace('/@', '::').replace(/VOCWITHCOLONS/g, '::com.sap.vocabularies');\n    }\n    return path;\n}\n\nfunction getManifestPathOfTable(\n    breadcrumbs: string[],\n    path: string,\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV2,\n    configObject: object\n) {\n    if (breadcrumbs[1] === 'columns' && breadcrumbs[2] === 'custom') {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            transferParameters.exportResults.manifest,\n            configObject['tabKey']\n        );\n    } else {\n        path = syncRule.manifest.path(transferParameters.pageKeys, {}, breadcrumbs[breadcrumbs.length - 1]);\n    }\n    return path;\n}\n\n/**\n * Determines the path to a manifest setting, based on the syncRule\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param {SyncRule} syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @returns the path to the manifest setting\n */\nfunction getManifestPath(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    syncRule: SyncRule,\n    configObject: object,\n    title: string\n): string {\n    let path: string;\n    if (breadcrumbs[0] === PropertyName.sections) {\n        path = getManifestPathOfSections(breadcrumbs, path, syncRule, transferParameters, title);\n    } else if (breadcrumbs[0] === PropertyName.table) {\n        path = getManifestPathOfTable(breadcrumbs, path, syncRule, transferParameters, configObject);\n    } else if (breadcrumbs[0] === 'keyPerformanceIndicators') {\n        path = syncRule.manifest.path(transferParameters.pageKeys, transferParameters.exportResults.manifest, title);\n    } else if (breadcrumbs[0] === 'filterBar' && breadcrumbs[1] === 'selectionFields') {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            transferParameters.exportResults.manifest,\n            breadcrumbs.slice(2).join('/')\n        );\n    } else {\n        path = syncRule.manifest.path(transferParameters.pageKeys);\n    }\n    return path;\n}\n\n/**\n * Evaluates an export rule for a property or object, transfers to flex change or manifest setting\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param {SyncRule} syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateExportRule(\n    transferParameters: TransferParameterTypeV2,\n    syncRule: SyncRule,\n    configObject: object,\n    breadcrumbs: string[],\n    ids: string[],\n    title: string,\n    key: string\n): void {\n    if (!syncRule) {\n        return;\n    }\n    //eliminate subsections' hierarchy\n    let index = breadcrumbs.indexOf('subsections');\n    while (index > -1) {\n        breadcrumbs.splice(index - 1, 2);\n        index = breadcrumbs.indexOf('subsections');\n    }\n\n    if (syncRule.flex) {\n        evaluateFlexRule(transferParameters, breadcrumbs, syncRule, ids, title, configObject, key);\n    } else if (syncRule.manifest) {\n        const path = getManifestPath(transferParameters, breadcrumbs, syncRule, configObject, title);\n        evaluateManifestRule(transferParameters, path, syncRule, key, configObject);\n    }\n}\n\ntype ColumnParams = {\n    path: string;\n    exportResults: ExportResults;\n    entitySet: string;\n    config: v2.TableCustomColumns;\n    sectionKey: string;\n    extensionType: string;\n    appId: string;\n};\n\n/**\n * Deletes an obsolete custom column from manifest\n */\nfunction deleteObsoleteColumn(key: string, columnParams: ColumnParams, manifestSection: object) {\n    const keyParts = key.split('|');\n    const keyEntitySet = keyParts[1];\n    const keyTab = keyParts[2];\n    if (keyEntitySet === columnParams.entitySet) {\n        //relevant extension. still present in config?\n        const existingConfigEntries = columnParams.config?.filter(\n            (column) =>\n                (column.tabKey === keyTab ||\n                    (keyTab === undefined && column.tabKey === '') ||\n                    (keyTab && columnParams.sectionKey === keyTab)) &&\n                column.extensionType === columnParams.extensionType\n        );\n        if (!existingConfigEntries || existingConfigEntries.length === 0) {\n            deleteColumnFromFragment(manifestSection, key, columnParams.appId, columnParams.exportResults.fragments);\n            // delete from manifest\n            delete manifestSection[key];\n            // delete cells entry\n            if (key.startsWith(ViewTemplateType.ResponsiveTableColumnsExtension)) {\n                const cellsPattern = key.replace(\n                    ViewTemplateType.ResponsiveTableColumnsExtension,\n                    ViewTemplateType.ResponsiveTableCellsExtension\n                );\n                deleteColumnFromFragment(\n                    manifestSection,\n                    cellsPattern,\n                    columnParams.appId,\n                    columnParams.exportResults.fragments\n                );\n                // delete from manifest\n                delete manifestSection[cellsPattern];\n            }\n        }\n    }\n}\n\n/**\n * Walks through the extensions registered in manifest and compares the columns of the fragment with the ones present in config.\n * If not present anymore, the extension column gets deleted from fragment.\n * @param path - path to extesnions section in manifest\n * @param exportResults - result structure, including the fragments that may get updated\n * @param entitySet - current entity set\n * @param config - current config JSON\n * @param sectionKey - section key\n * @param extensionType - extensionType\n * @param appId - application ID\n */\nfunction deleteObsoleteColumnsFromFragment(columnParams: ColumnParams) {\n    const folderPath = columnParams.path.substring(0, columnParams.path.lastIndexOf('/'));\n    const manifestSection = getManifestSectionByPathV2(columnParams.exportResults.manifest, folderPath);\n    const extensionPattern = columnParams.path.substring(columnParams.path.lastIndexOf('/') + 1);\n    for (const key in manifestSection) {\n        if (key.startsWith(extensionPattern)) {\n            deleteObsoleteColumn(key, columnParams, manifestSection);\n        }\n    }\n}\n\n/**\n * Clusters the custom columns if a config by the extension's path in manifest\n * @param customColumnsInConfig - list of all custom columns in config\n * @param schemaDefinition - schema definition of the table custom column\n * @param v2Page - current page in manifest\n * @param entitySet - current entity set\n * @param sectionKey key of the section (in case of OP)\n * @returns the custom columns, clustered by the manifest path\n */\nfunction clusterConfigColumnsByPath(\n    customColumnsInConfig: v2.TableCustomColumns,\n    schemaDefinition: object,\n    v2Page: v2.SapUiAppPageV2,\n    entitySet: string,\n    sectionKey: string\n): object {\n    const cluster = {};\n    for (const customColumn of customColumnsInConfig) {\n        //verify that mandatory parameters are filled\n        if (\n            !customColumn['className'] ||\n            !customColumn['fragmentName'] ||\n            !customColumn['columnKey'] ||\n            !customColumn['extensionType']\n        ) {\n            continue;\n        }\n        //check fragment name\n        if (schemaDefinition['properties']['fragmentName']['pattern']) {\n            const namePattern = new RegExp(schemaDefinition['properties']['fragmentName']['pattern']);\n            if (namePattern.test(customColumn['fragmentName']) === false) {\n                continue;\n            }\n        }\n        const { path, viewTemplateType } = getCustomColumnPath(\n            v2Page,\n            entitySet,\n            customColumn.tabKey || sectionKey,\n            customColumn['extensionType']\n        );\n\n        if (!cluster[path]) {\n            cluster[path] = {\n                viewTemplateType: viewTemplateType,\n                columns: []\n            };\n        }\n        cluster[path].columns.push(customColumn);\n    }\n    return cluster;\n}\n\n/**\n * Transfers column extensions to manifest and fragment files\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param {TableCustomColumns} customColumnsInConfig - config part comprising the table custom columns\n * @param {object} schemaDefinition - Column schema definition\n * @param {ObjectPageSectionData} [objectPageSectionData] - Object Page section's data containing target and key options.\n */\nfunction transferColumnExtensions(\n    transferParameters: TransferParameterTypeV2,\n    customColumnsInConfig: v2.TableCustomColumns,\n    schemaDefinition: object,\n    objectPageSectionData?: ObjectPageSectionData\n): void {\n    const sectionKey = objectPageSectionData ? objectPageSectionData.key : undefined;\n    const sectionTarget = objectPageSectionData ? objectPageSectionData.target : undefined;\n    const entitySet = sectionTarget || transferParameters.v2Page.entitySet;\n    for (const extensionType in v2.TableColumnExtensionTypeV2) {\n        const { path } = getCustomColumnPath(transferParameters.v2Page, entitySet, sectionKey, extensionType);\n        if (!path) {\n            continue;\n        }\n        const columParams = {\n            path,\n            exportResults: transferParameters.exportResults,\n            entitySet,\n            config: customColumnsInConfig,\n            sectionKey,\n            extensionType,\n            appId: transferParameters.appId\n        };\n        deleteObsoleteColumnsFromFragment(columParams);\n    }\n    if (customColumnsInConfig) {\n        //cluster existing custom columns by manifest path (or tab key)\n        const cluster = clusterConfigColumnsByPath(\n            customColumnsInConfig,\n            schemaDefinition,\n            transferParameters.v2Page,\n            entitySet,\n            sectionKey\n        );\n        //Export to fragment\n        for (const path in cluster) {\n            exportCustomColumnsToFragment(\n                transferParameters.exportResults,\n                path,\n                cluster[path].columns,\n                transferParameters.appId,\n                cluster[path].viewTemplateType,\n                transferParameters.logger\n            );\n        }\n    }\n}\n\n/**\n * Recursive function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param configSections - sections from configuration object\n * @param pageKey  - page key\n * @param parentIds - array of collected parent ids\n * @param breadcrumbs - array of properties that we are currently processing. Required for instance for table column name\n * @param targetDefinition - the current entry point or definition in the app schema\n */\nfunction transferManifestExtensions(\n    transferParameters: TransferParameterTypeV2,\n    configSections: (ObjectPageCustomSectionFragment | ObjectPageCustomSectionView)[],\n    pageKey: string,\n    parentIds: string[],\n    breadcrumbs: string[],\n    targetDefinition: object\n): void {\n    const sectionIds: string[] = [];\n    const entity = pageKey.split('|')[1];\n    if (!configSections) {\n        return;\n    }\n    for (const section of configSections) {\n        const id = findAvailableId(sectionIds, [section.relativePosition, entity, section.relatedFacet].join('|'));\n        sectionIds.push(id);\n    }\n    for (let index = 0; index < sectionIds.length; index++) {\n        const definition = targetDefinition['anyOf'].find((element) =>\n            element.$ref.includes(configSections[index].constructor.name)\n        );\n        const definitionArray = definition.$ref.split(DEFINITION_LINK_PREFIX);\n        const nextTargetDefinition =\n            transferParameters.appSchema['definitions'][definitionArray[definitionArray.length - 1]];\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            configSections[index],\n            parentIds,\n            [...breadcrumbs, sectionIds[index]],\n            nextTargetDefinition\n        );\n    }\n    // Delete removed manifest entries\n    const manifestSections = ensureManifestSectionByPathV2(\n        transferParameters.exportResults.manifest,\n        getViewExtensionsPath()\n    );\n    for (const key in manifestSections) {\n        if (isAssociatedCustomSection(key, entity) && !sectionIds.includes(key)) {\n            delete manifestSections[key];\n        }\n    }\n}\n\n/**\n * Method returns converted section id by resolving passed section id and title from schema.\n * @param {string[]} breadcrumbs Array of properties that we are currently processing. Required for instance for table column name.\n * @param {string} title Title from JSON schema, comprising the facet ID\n * @returns {string | undefined} Resolved section id.\n */\nfunction getSectionId(breadcrumbs: string[], title: string): string | undefined {\n    let sectionId = undefined;\n    for (let i = breadcrumbs.length - 1; i >= 0; i--) {\n        if (breadcrumbs[i] === PropertyName.table) {\n            sectionId = breadcrumbs[i - 1];\n            break;\n        }\n    }\n    return convertSectionId(sectionId, title);\n}\n\n/**\n * Processes index tables in schema\n */\nfunction transferIndexTable(\n    currentConfigObject: object,\n    transferParameters: TransferParameterTypeV2,\n    title: string,\n    key: string,\n    ids: string[],\n    breadcrumbs: string[]\n) {\n    const propertyDefinition = transferParameters.propertyDefinition as Definition;\n    if (!currentConfigObject || !propertyDefinition?.additionalProperties) {\n        return;\n    }\n    Object.keys(currentConfigObject).forEach((newKey) => {\n        const nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject[newKey],\n            propertyDefinition.additionalProperties as Definition,\n            key,\n            transferParameters.factory,\n            transferParameters.pageType\n        );\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            nextDefinition.configObject,\n            ids,\n            [...breadcrumbs, key],\n            nextDefinition.targetDefinition,\n            newKey\n        );\n    });\n}\n\n/**\n * Transfers custom columns of schema\n */\nfunction transferCustomColumns(\n    propertyDefinition: any,\n    breadcrumbs: string[],\n    title: string,\n    transferParameters: TransferParameterTypeV2,\n    configObject: { [key: string]: any },\n    nextDefinition: NextDefinition\n) {\n    let objectPageSectionData: ObjectPageSectionData | undefined;\n    const target = getTargetFromCustomColumnRef(propertyDefinition.$ref);\n    if (target) {\n        objectPageSectionData = {\n            target,\n            key: getSectionId(breadcrumbs, title)\n        };\n    }\n    transferColumnExtensions(\n        transferParameters,\n        configObject?.custom as v2.TableCustomColumns,\n        nextDefinition.targetDefinition,\n        objectPageSectionData\n    );\n}\n\n/**\n * Processes anyOf definitions of schema\n */\nfunction handleAnyOfDefinitions(\n    propertyDefinition: any,\n    transferParameters: TransferParameterTypeV2,\n    title: string,\n    currentConfigObject: object,\n    key: string,\n    ids: string[],\n    breadcrumbs: string[]\n) {\n    propertyDefinition['anyOf'].forEach((element) => {\n        const nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject,\n            element,\n            key,\n            transferParameters.factory,\n            transferParameters.pageType\n        );\n        if (nextDefinition) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            transferManifestEntriesAndFlexChange(\n                transferParameters,\n                nextDefinition.configObject,\n                ids,\n                [...breadcrumbs, key],\n                nextDefinition.targetDefinition,\n                nextDefinition.title\n            );\n        }\n    });\n}\n\n/**\n * Processes complex definitions of schema\n */\nfunction transferComplexProperty(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    configObject: { [key: string]: any },\n    ids: string[],\n    propertyKey: string,\n    nextDefinition: NextDefinition,\n    title?: string\n): void {\n    const propertyDefinition = transferParameters.propertyDefinition as Definition;\n    if (\n        propertyDefinition?.type === 'array' &&\n        (breadcrumbs[0] === 'sections' || breadcrumbs[0] === 'subsections') &&\n        propertyKey === 'custom'\n    ) {\n        transferManifestExtensions(\n            transferParameters,\n            configObject[propertyKey],\n            transferParameters.pageKeys[transferParameters.pageKeys.length - 1],\n            ids,\n            [...breadcrumbs, propertyKey],\n            propertyDefinition?.items as Definition\n        );\n    } else if (nextDefinition && propertyKey === 'custom') {\n        transferCustomColumns(propertyDefinition, breadcrumbs, title, transferParameters, configObject, nextDefinition);\n        return;\n    } else if (nextDefinition) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            nextDefinition.configObject,\n            ids,\n            [...breadcrumbs, propertyKey],\n            nextDefinition.targetDefinition,\n            nextDefinition.title\n        );\n    } else if (propertyDefinition['anyOf']) {\n        handleAnyOfDefinitions(\n            propertyDefinition,\n            transferParameters,\n            title,\n            configObject?.[propertyKey],\n            propertyKey,\n            ids,\n            breadcrumbs\n        );\n    }\n}\n\n/**\n * Function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param configObject - current (sub)object of the configuration file\n * @param parentIds - array of collected parent ids\n * @param breadcrumbs - array of properties that we are currently processing. Required for instance for table column name\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param title - title from the app schema (comprising for instance the facet ID)\n */\nexport function transferManifestEntriesAndFlexChange(\n    transferParameters: TransferParameterTypeV2,\n    configObject: { [key: string]: any },\n    parentIds: string[],\n    breadcrumbs: string[],\n    schemaDefinition: Definition,\n    title?: string\n): void {\n    let currentConfigObject: object;\n\n    if (!schemaDefinition?.properties) {\n        return;\n    }\n    for (const propertyKey in schemaDefinition.properties) {\n        currentConfigObject = configObject?.[propertyKey];\n        const childId = configObject && getChildId(configObject, propertyKey);\n        const ids = childId ? [...parentIds, childId] : parentIds;\n        const syncRule = getReflectMetadata(configObject, propertyKey);\n        const propertyDefinition = (transferParameters.propertyDefinition = schemaDefinition.properties[\n            propertyKey\n        ] as Definition);\n        const nextDefinition = (transferParameters.nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject,\n            propertyDefinition,\n            propertyKey,\n            transferParameters.factory,\n            transferParameters.pageType\n        ));\n        //Evaluate sync rule for the export\n        evaluateExportRule(transferParameters, syncRule, configObject, [...breadcrumbs], ids, title, propertyKey);\n        //index table\n        transferIndexTable(currentConfigObject, transferParameters, title, propertyKey, ids, breadcrumbs);\n\n        if (currentConfigObject === undefined || typeof currentConfigObject === 'object') {\n            transferComplexProperty(\n                transferParameters,\n                breadcrumbs,\n                configObject,\n                ids,\n                propertyKey,\n                nextDefinition,\n                title\n            );\n        } else if (propertyDefinition?.$ref === DEFINITION_LINK_PREFIX + 'TableCustomColumns') {\n            //empty config ==> delete all given extensions\n            transferColumnExtensions(\n                transferParameters,\n                [],\n                transferParameters.appSchema['definitions']['TableCustomColumn']\n            );\n            continue;\n        }\n    }\n}\n", "import type {\n    LineItem,\n    DataFieldForActionAbstractTypes,\n    DataFieldAbstractTypes\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { AnnotationTerm, ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport { getDataFieldDescription, findAlias, DEFINITION_LINK_PREFIX } from '../../common/utils';\nimport { getStableIdPartFromDataField, replaceSpecialChars } from './StableIdHelper';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    addCommonLineItemDefinitions,\n    getFacetDefinitionLink,\n    parseSchemaDefinition,\n    prepareRef,\n    addDescriptiveEnumDefinition,\n    getActionKey,\n    addKeyToDefinition\n} from '../../common';\nimport i18next from 'i18next';\nimport { log, LogSeverity } from '../../..';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport type { ExtensionLogger, GenerateAppSchemaParameters, FileData, Manifest } from '@sap/ux-specification-types';\nimport {\n    v4,\n    ManifestSection,\n    SchemaTag,\n    MANIFESTPATH,\n    SchemaKeyName,\n    DefinitionName,\n    UIVOCABULARY,\n    PropertyName,\n    TemplateType\n} from '@sap/ux-specification-types';\nimport { join } from 'path';\nimport type { CustomPageCustomViewData } from '../types';\n\nexport type CustomExtension = v4.TableCustomColumn | v4.CustomAction;\n\nexport interface CustomExtensions {\n    [key: string]: CustomExtension;\n}\n\n/**\n * Sort function for properties in schema definitions.\n * @param definition - definition which contains list of properties, unsorted\n * @returns - list of properties, sorted by property index\n */\nfunction sortPropertiesRecords(definition: DefinitionOrBoolean) {\n    definition = typeof definition === 'object' ? definition : {};\n    function sortByPropertyIndex(): (a: [string, unknown], b: [string, unknown]) => number {\n        return ([_key1, value1], [_key2, value2]) => value1[SchemaTag.propertyIndex] - value2[SchemaTag.propertyIndex];\n    }\n    const unsortedObjArr = [...Object.entries(definition.properties)];\n    return unsortedObjArr.sort(sortByPropertyIndex());\n}\n\n/**\n * Method receives extension object and returns title/text.\n * @param extension - custom extension object from manifest.\n * @returns Title/text of custom extension.\n */\nfunction getExtensionText(extension: CustomExtension): string {\n    return 'header' in extension ? extension.header : extension.text;\n}\n\n/**\n * Adds a custom extension to the right position of a sorted array\n * @param extension - custom extension\n * @param sortedExtensionsArray - array of all entries(annotation entries and extensions), to be enhanced\n * @param targetIndex - index of the anchor entry\n * @param extId - ID of the new custom extension\n * @param newExtensionReference - schema reference of the new extension\n */\nfunction addExtensionToSortedArray(\n    extension: CustomExtension,\n    sortedExtensionsArray: [string, unknown][],\n    targetIndex: number,\n    extId: string,\n    newExtensionReference: { $ref: string; description: string }\n): void {\n    const placement = extension.position?.placement || v4.Placement.After;\n    if (placement === v4.Placement.Before) {\n        sortedExtensionsArray.splice(targetIndex, 0, [extId, newExtensionReference]);\n    } else {\n        sortedExtensionsArray.splice(targetIndex + 1, 0, [extId, newExtensionReference]);\n    }\n}\n\n/**\n * Adds remaining custom extensions that might self-reference and were not added in previous steps\n * @param {CustomExtensions} remainingExtensions - list of custom extensions that are left for post-processing\n * @param {string} extId - current id of remaining extensions\n * @param {CustomExtension} extension - current extension of remaining custom extensions\n * @param {[string, unknown]} sortedExtArray - sorted array of annotation-based extensions, to be updated\n * @param { $ref, description, key } newCustomExt - description based on extension in manifest\n */\nfunction addRemainingTargetByBefore(\n    remainingExtensions: CustomExtensions,\n    extId: string,\n    extension: CustomExtension,\n    sortedExtArray: [string, unknown][],\n    newCustomExt: { $ref: string; description: string; keys: Array<object> }\n) {\n    const targetRemainingIndex = Object.entries(remainingExtensions)\n        .filter(([key]) => key !== extId)\n        .findIndex(\n            ([_key, entry]) =>\n                entry.position?.placement === 'Before' && entry.position?.anchor === extension.position?.anchor\n        );\n    if (targetRemainingIndex === -1) {\n        sortedExtArray.splice(sortedExtArray.length, 0, [extId, newCustomExt]);\n        delete remainingExtensions[extId];\n    }\n}\n\n/**\n * Post-processing of custom extensions that are left after the first loop of adding extensions, i.e. custom extensions referring to other custom extensions\n * @param remainingExtensions - list of custom extensions that are left for post-processing\n * @param extensionDefinitionName - custom extension definition name, different in LR and OP\n * @param sortedExtArray - sorted array of annotation-based extensions, to be updated\n * @param logger - logger for error messages\n * @param {boolean} forceAdd - add self-referencing custom extensions after other additions\n */\nfunction adjustCustomExtReferringToCustomExt(\n    remainingExtensions: CustomExtensions,\n    extensionDefinitionName: string,\n    sortedExtArray: [string, unknown][],\n    logger: ExtensionLogger,\n    forceAdd = false\n): void {\n    const initialRemaining = Object.entries(remainingExtensions).length;\n    const getExtensionDetails = (extension: CustomExtension, extId: string) => {\n        const description = getExtensionText(extension);\n        return {\n            $ref: `${DEFINITION_LINK_PREFIX}${extensionDefinitionName}`,\n            description,\n            keys: [{ name: SchemaKeyName.key, value: `${extId}` }]\n        };\n    };\n    for (const extId in remainingExtensions) {\n        const extension = remainingExtensions[extId];\n        // Detect description based on extension in manifest\n        const newCustomExt = getExtensionDetails(extension, extId);\n        if (extension.position?.anchor && extension.position?.placement) {\n            const targetIndex = sortedExtArray.findIndex((element) => element[0] === extension.position.anchor);\n            if (targetIndex > -1) {\n                addExtensionToSortedArray(extension, sortedExtArray, targetIndex, extId, newCustomExt);\n                delete remainingExtensions[extId];\n            } else if (\n                extId === extension.position.anchor ||\n                Object.keys(remainingExtensions).indexOf(extension.position.anchor) === -1\n            ) {\n                log(logger, {\n                    severity: LogSeverity.Error,\n                    message: i18next.t('INVALIDANCHOR', { id: extId, anchor: extension.position.anchor }),\n                    location: {\n                        path: MANIFESTPATH,\n                        range: [ManifestSection.generic]\n                    }\n                });\n                sortedExtArray.splice(sortedExtArray.length, 0, [extId, newCustomExt]);\n                delete remainingExtensions[extId];\n            } else if (forceAdd) {\n                addRemainingTargetByBefore(remainingExtensions, extId, extension, sortedExtArray, newCustomExt);\n            }\n        }\n    }\n    const endRemaining = Object.entries(remainingExtensions).length;\n    if (endRemaining > 0 && initialRemaining !== endRemaining) {\n        adjustCustomExtReferringToCustomExt(remainingExtensions, extensionDefinitionName, sortedExtArray, logger);\n    } else if (endRemaining > 0) {\n        adjustCustomExtReferringToCustomExt(remainingExtensions, extensionDefinitionName, sortedExtArray, logger, true);\n    }\n}\n\n/**\n * Returns anchor for extension. Priority:\n * 1. 'anchor' property in extension;\n * 2. When 'anchor' is not defined in extension and does calculation based placement and current list of extension and annotation entries.\n * @param extension - extension in manifest\n * @param sortedExtensionsArray - sorted array of annotation-based nodes, to be enhanced by extensions\n */\nfunction getExtensionAnchor(extension: CustomExtension, sortedExtensionsArray: [string, unknown][]): string {\n    // Default placement is After\n    const placement = extension.position?.placement || v4.Placement.After;\n    let anchor = extension.position?.anchor;\n    if (!anchor) {\n        // Simulate runtime behavior - if there no anchor, then logic uses first or last annotation node\n        // In some cases last extension can be previously inserted extension - in such case we still need use annotation node\n        const index = placement === v4.Placement.Before ? 0 : sortedExtensionsArray.length - 1;\n        anchor = sortedExtensionsArray[index] ? sortedExtensionsArray[index][0] : undefined;\n    }\n    return anchor;\n}\n\n/**\n * Preprocesses and returns list of local extension ids that needs to be skipped from addition\n * @param {CustomExtensions} localExtensions - list of extensions in manifest\n * @param {[string, unknown][]} annotationEntries - sorted array of annotation-based nodes, to be enhanced by extensions\n */\nfunction getLocalExtensionsToSkip(localExtensions: CustomExtensions, annotationEntries: [string, unknown][]): string[] {\n    // collect local extensions that has no annotation based anchor\n    const ignoredIds = [];\n    for (const extensionId in localExtensions) {\n        const anchor = localExtensions[extensionId].position?.anchor;\n        const hasAnnotationAnchor = annotationEntries.some(\n            (annotationEntry: [string, unknown]) => annotationEntry[0] === anchor\n        );\n        if (anchor && !hasAnnotationAnchor) {\n            ignoredIds.push(extensionId);\n        }\n    }\n    return ignoredIds;\n}\n\n/**\n * Adds extension at the right position of the sorted array of annotation-based nodes\n * @param extensions - list of extensions in manifest\n * @param sortedExtensionsArray - sorted array of annotation-based nodes, to be enhanced by extensions\n * @param extensionDefinitionName - extension definition name, different in LR and OP\n * @param loggeloggerr - logger for error messages\n */\nexport function addExtensionToArray(\n    extensions: CustomExtensions,\n    sortedExtensionsArray: [string, unknown][],\n    extensionDefinitionName: string,\n    templatePropertyName = 'template',\n    logger?: ExtensionLogger\n): [string, unknown][] {\n    const annotationEntries = [...sortedExtensionsArray];\n    const localExtensions = { ...extensions };\n    const localExtensionsToSkip = getLocalExtensionsToSkip(localExtensions, annotationEntries);\n\n    for (const extensionId in localExtensions) {\n        if (localExtensionsToSkip.includes(extensionId)) {\n            continue;\n        }\n        const extension = localExtensions[extensionId];\n        if (!(templatePropertyName in extension)) {\n            // Skip regular entries(columns, actions, etc.)\n            delete localExtensions[extensionId];\n            continue;\n        }\n        const newExtensionReference = {\n            $ref: `${DEFINITION_LINK_PREFIX}${extensionDefinitionName}`,\n            description: getExtensionText(extension) || extensionId,\n            keys: [{ name: SchemaKeyName.key, value: `${extensionId}` }]\n        };\n        const anchor = getExtensionAnchor(extension, annotationEntries);\n        if (anchor) {\n            const targetIndex = sortedExtensionsArray.findIndex((element) => element[0] === anchor);\n            if (targetIndex > -1) {\n                addExtensionToSortedArray(\n                    extension,\n                    sortedExtensionsArray,\n                    targetIndex,\n                    extensionId,\n                    newExtensionReference\n                );\n                delete localExtensions[extensionId];\n            }\n        } else {\n            // Empty array - no any anchor to reference to\n            sortedExtensionsArray.push([extensionId, newExtensionReference]);\n            delete localExtensions[extensionId];\n        }\n    }\n    if (Object.keys(localExtensions).length > 0) {\n        //Second loop is necessary for custom columns that refer to custom columns\n        adjustCustomExtReferringToCustomExt(localExtensions, extensionDefinitionName, sortedExtensionsArray, logger);\n    }\n    return sortedExtensionsArray;\n}\n\n/**\n * Common function for enhancing the LineItems definition of app schema by custom columns\n * @param appSchema - app-specific JSON schema\n * @param v4Page - actual page in the manifest\n * @param logger - logger for error messages\n * @param customColumnDefinitionName - custom column definition name\n * @param sectionId - identifier of the current object page section in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addCustomColumnDefinition(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn,\n    sectionId?: string,\n    sectionIdInManifest?: string\n): void {\n    const lineItemId = sectionId || DefinitionName.LineItems;\n    const lineItems = appSchema.definitions[lineItemId];\n    if (!lineItems) {\n        return;\n    }\n    //sort line items\n    let sortedColumnsArray = sortPropertiesRecords(lineItems);\n\n    const id = sectionIdInManifest ? sectionIdInManifest.replace(/::/g, '/') : `@${UIAnnotationTerms.LineItem}`;\n    const columns = v4Page.options?.settings?.controlConfiguration?.[id]?.['columns'];\n    if (columns) {\n        sortedColumnsArray = addExtensionToArray(\n            columns,\n            sortedColumnsArray,\n            customColumnDefinitionName,\n            undefined,\n            logger\n        );\n    }\n    //Adjust propertyIndex\n    for (let index = 0; index < sortedColumnsArray.length; index++) {\n        sortedColumnsArray[index][1][SchemaTag.propertyIndex] = index;\n    }\n    const sortedColumnsAsObject = {};\n    sortedColumnsArray.forEach(([key, value]) => (sortedColumnsAsObject[key] = value));\n    (appSchema.definitions[lineItemId] as Definition).properties = sortedColumnsAsObject;\n}\n\n/**\n * Processes a LineItem record of type DataFieldForAction during app schema generation\n * @param {LineItemDataForSchema} data: structure of input data\n * @param actions - actions definition in schema, parent object\n * @param lineItemPath - annotation path to the line item\n * @param lineItemRecord - actual record of the line item collection\n * @param recordIndex - record index in the collection\n */\nfunction addActionRecordToSchema(\n    data: LineItemDataForSchema,\n    actionsDefinition: Definition,\n    lineItemPath: string,\n    lineItemRecord: DataFieldForActionAbstractTypes,\n    recordIndex: number\n): void {\n    // Action but not inline action\n    if (lineItemRecord.Determining !== true) {\n        //no footer bar -> toolbar action\n        let actionDefinitionName: DefinitionName;\n        if (data.lineItemId.startsWith(DefinitionName.LineItemsOfView)) {\n            actionDefinitionName = DefinitionName.ViewToolBarAction;\n        } else if (data.lineItemId.startsWith(DefinitionName.LineItems)) {\n            actionDefinitionName = DefinitionName.ToolBarAction;\n        } else {\n            actionDefinitionName = DefinitionName.ObjectPageToolBarAction;\n        }\n        const actionId = (lineItemRecord.Action as string).replace('/', '::');\n        const description = getDataFieldDescription(lineItemRecord as DataFieldAbstractTypes, data.entityType);\n        const prefix = lineItemRecord.$Type.split(`${UIVOCABULARY}.`)[1];\n        const propertyKey = replaceSpecialChars(lineItemRecord.Action as string);\n        const actionDefinition = (actionsDefinition.properties[`${prefix}::${propertyKey}`] = {\n            $ref: getFacetDefinitionLink(actionDefinitionName, prepareRef(actionId)),\n            description\n        });\n        const { key, ns } = getActionKey(lineItemRecord.Action as string, true);\n        actionDefinition[SchemaTag.propertyIndex] = recordIndex;\n        actionDefinition[SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            actionDefinition[SchemaTag.target] = ns;\n        }\n        actionDefinition[SchemaTag.annotationType] = lineItemRecord.$Type;\n        const action = parseSchemaDefinition(actionDefinitionName, prepareRef(actionId), data.appSchema);\n        action[SchemaTag.annotationPath] = `${lineItemPath}/${recordIndex}`;\n    }\n}\n\n/**\n * Processes a LineItem record of type DataField during app schema generation\n * @param {LineItemDataForSchema} data: structure of input data\n * @param lineItem - object comprising the line item information:\n * { lineItemRecord, lineItemId, lineItemPath }\n * @param columnDefinitionName - Schema definition name for the column\n * @param recordIndex - record index in the collection\n */\nfunction addLineItemRecordToSchema(\n    data: LineItemDataForSchema,\n    lineItem: object,\n    columnDefinitionName: string,\n    recordIndex: number\n) {\n    const lineItemId = lineItem['lineItemId'];\n    const lineItemRecord = lineItem['lineItemRecord'];\n    if (lineItemRecord['Target']?.['value']) {\n        const regex = `@${findAlias(UIVOCABULARY, data.oDataServiceAVT)}.`;\n        lineItemRecord['Target']['value'] = lineItemRecord['Target']['value'].replace(regex, '@');\n    }\n    const schemaKey = getStableIdPartFromDataField(lineItemRecord);\n    if (schemaKey) {\n        const properties = (data.appSchema.definitions[lineItemId] as Definition).properties;\n        properties[schemaKey] = {\n            $ref: DEFINITION_LINK_PREFIX + columnDefinitionName,\n            description: getDataFieldDescription(lineItemRecord, data.entityType)\n        };\n        properties[schemaKey][SchemaTag.annotationType] = lineItemRecord?.$Type;\n        properties[schemaKey][SchemaTag.annotationPath] = `${lineItem['lineItemPath']}/${recordIndex}`;\n        properties[schemaKey][SchemaTag.propertyIndex] = recordIndex;\n        if (lineItemRecord['Value']?.$target?.type) {\n            properties[schemaKey][SchemaTag.dataType] = lineItemRecord['Value']?.$target?.type.replace('Edm.', '');\n        }\n        addKeyToDefinition(lineItemRecord, properties, schemaKey);\n    }\n}\n\nexport type LineItemDataForSchema = {\n    appSchema: Definition;\n    lineItemAnnotation: AnnotationTerm<LineItem>;\n    entityType: EntityType;\n    oDataServiceAVT: ConvertedMetadata;\n    lineItemId: string;\n};\n\n/**\n * Adds the line item definition, columns and actions to the app schema (for the list report or an object page section comprising a table)\n * @param {LineItemDataForSchema} data: structure comprising\n * - appSchema - the app specific schema that shall get enhanced\n * - lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * - entityType - the entity type as part of the AVT ConvertedMetadata\n * - oDataServiceAVT - complete service information, as returned by Annotation Vocabularies Tool\n * - lineItemId - in case of OP the parameter must be passed to distinguish the OP tables;\n *                in case of LR or ALP 'LineItems' is passed.\n * @param columnDefinitionName - name of the column definition, i.e. TableColumn or ObjectPageTableColumn\n * @param customColumnDefinitionName - name of the custom column definition\n */\nexport function addLineItemsTypeToSchema(\n    data: LineItemDataForSchema,\n    columnDefinitionName: string = DefinitionName.TableColumn,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn,\n    customActionDefinitionName: string = DefinitionName.CustomTableAction\n): void {\n    const { actions, lineItemPath } = addCommonLineItemDefinitions(\n        data.appSchema,\n        data.lineItemAnnotation,\n        data.entityType,\n        data.lineItemId,\n        customColumnDefinitionName,\n        customActionDefinitionName\n    );\n\n    if (!data.lineItemAnnotation) {\n        return;\n    }\n    let i = 0;\n    data.lineItemAnnotation.forEach((lineItemRecord) => {\n        if (\n            (lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction ||\n                lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) &&\n            (lineItemRecord.Inline !== true || lineItemRecord.Determining === true)\n        ) {\n            addActionRecordToSchema(data, actions, lineItemPath, lineItemRecord, i);\n        } else {\n            const lineItem = { lineItemRecord, lineItemId: data.lineItemId, lineItemPath };\n            const columnDefinition =\n                lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n                    ? `${columnDefinitionName}Action`\n                    : columnDefinitionName;\n            addLineItemRecordToSchema(data, lineItem, columnDefinition, i);\n        }\n        i++;\n    });\n}\n\n/**\n * Adds an enum or value help to position > anchor of custom column\n * @param appSchema - app specific JSON schema\n * @param lineItemId - ID of the current line item in schema\n * @param v4Page - current page in manifest\n * @param positionName - ID of the definition of custom column position in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addFragmentEnumForAnchor(\n    appSchema: Definition,\n    lineItemId: string,\n    v4Page: v4.SapUiAppPageV4,\n    positionName: string = DefinitionName.Position,\n    sectionIdInManifest?: string\n): void {\n    const columns = (appSchema.definitions[lineItemId] as Definition)?.properties;\n    const enumEntries = [];\n    if (columns) {\n        for (const key in columns) {\n            if (key !== 'custom') {\n                enumEntries.push(key);\n            }\n        }\n    }\n    const id = lineItemId !== DefinitionName.LineItems ? sectionIdInManifest : `@${UIAnnotationTerms.LineItem}`;\n    const columnsInManifest = v4Page.options?.settings?.controlConfiguration?.[id]?.['columns'];\n    if (columnsInManifest) {\n        for (const key in columnsInManifest) {\n            if (enumEntries.indexOf(key) === -1) {\n                enumEntries.push(key);\n            }\n        }\n    }\n    if (enumEntries.length > 0) {\n        (appSchema.definitions[positionName] as Definition).properties['anchor']['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds an enum or value help to position > anchor of custom column\n * @param appSchema - app specific JSON schema\n * @param definitionId - definition key of actions\n * @param positionName - target definition to update\n */\nexport function addEnumForActionAnchor(\n    appSchema: Definition,\n    definitionId: string,\n    positionName: string = DefinitionName.CustomActionPosition\n): void {\n    addDescriptiveEnumDefinition(appSchema, appSchema.definitions[definitionId], {\n        definition: positionName,\n        property: 'anchor'\n    });\n}\n\n/**\n * Find the relevant V4 page under the routing targets of manifest,json\n * @param pages - list of all pages in manifest\n * @param pageName - search criterion: page name\n * @param entitySet - search criterion: entity set object from AVT\n * @param contextPath - search criterion: contextPath\n * @param logger - logger for messages\n * @returns the page definition in manifest (if found)\n */\nexport function findPageV4(\n    pages: v4.SapUiAppPageV4[],\n    pageName: string,\n    entitySet: EntitySet,\n    contextPath: string,\n    logger: ExtensionLogger\n): v4.SapUiAppPageV4 | undefined {\n    let v4Page: v4.SapUiAppPageV4;\n\n    for (const i in pages) {\n        if (\n            ((contextPath && pages[i].options?.settings?.contextPath === contextPath) ||\n                pages[i].options?.settings?.entitySet === entitySet?.name) &&\n            (pages[i].name === pageName ||\n                (pageName === v4.FE_TEMPLATE_V4_ALP && pages[i].name === v4.FE_TEMPLATE_V4_LIST_REPORT))\n        ) {\n            v4Page = pages[i];\n            break;\n        }\n    }\n\n    if (!v4Page) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET', { entitySet }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n    }\n    return v4Page;\n}\n\n/**\n * Depending on the template type, strip down the app schema so that only the relevant views are part of it\n * @param {Definition} appSchema - app specific JSON schema, to be adjusted\n * @param {GenerateAppSchemaParameters} generateParameters - object comprising all input parameters\n * @returns the right definition name for the table in the schema\n */\nexport function alignSchemaWithTemplateType(\n    appSchema: Definition,\n    generateParameters: GenerateAppSchemaParameters\n): DefinitionName.Table | DefinitionName.ALPTableView {\n    let tableDefinitionName;\n    const tableDefinition = appSchema.properties[PropertyName.table] as Definition;\n    if (generateParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        tableDefinitionName = DefinitionName.ALPTableView;\n\n        delete tableDefinition.anyOf;\n        tableDefinition.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPTableView}`;\n        delete appSchema.definitions[DefinitionName.Table];\n        delete appSchema.definitions[DefinitionName.LRChartView];\n        delete appSchema.definitions[DefinitionName.LRTableView];\n        delete appSchema.definitions[DefinitionName.MultiTableModeV4];\n    } else if (generateParameters.templateType === TemplateType.ListReportObjectPageV4) {\n        tableDefinitionName = DefinitionName.Table;\n\n        delete tableDefinition.anyOf;\n        tableDefinition.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.Table}`;\n        (appSchema.definitions[tableDefinitionName] as Definition).properties[PropertyName.annotationPath][\n            SchemaTag.hidden\n        ] = true;\n        delete appSchema.definitions[DefinitionName.ALPTableView];\n        appSchema.properties[PropertyName.defaultPath][SchemaTag.hidden] = true;\n    }\n    return tableDefinitionName;\n}\n\n/**\n * Common function for enhancing LineItems and FieldGroups definitions of app schema by custom action definitions\n * @param appSchema - app-specific JSON schema\n * @param v4Page - actual page in the manifest\n * @param logger - logger for error messages\n * @param customActionDefinitionName - definition name of custom action\n * @param sectionId - identifier of the current object page section in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addCustomActionDefinition(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger,\n    customActionDefinitionName: string = DefinitionName.CustomTableAction,\n    sectionId = '',\n    sectionIdInManifest = ''\n): void {\n    const definition = appSchema.definitions[sectionId];\n    if (!definition) {\n        return;\n    }\n    // Sort existing actions\n    let sortedActionsArray = sortPropertiesRecords(definition);\n\n    let configId;\n    if (sectionIdInManifest) {\n        if (customActionDefinitionName.indexOf(DefinitionName.CustomFormActionOP) !== -1) {\n            configId = sectionIdInManifest.replace(/::/g, '#');\n        } else {\n            configId = sectionIdInManifest.replace(/::/g, '/');\n        }\n    } else {\n        if (customActionDefinitionName === DefinitionName.CustomFormActionOP) {\n            configId = `@${UIAnnotationTerms.FieldGroup}`;\n        } else {\n            configId = `@${UIAnnotationTerms.LineItem}`;\n        }\n    }\n\n    const actions = v4Page.options?.settings?.controlConfiguration?.[configId]?.['actions'];\n    if (actions) {\n        sortedActionsArray = addExtensionToArray(\n            actions,\n            sortedActionsArray,\n            customActionDefinitionName,\n            'press',\n            logger\n        );\n    }\n    // Adjust propertyIndex\n    for (let index = 0; index < sortedActionsArray.length; index++) {\n        sortedActionsArray[index][1][SchemaTag.propertyIndex] = index;\n    }\n    const sortedActionsAsObject = {};\n    sortedActionsArray.forEach(([key, value]) => (sortedActionsAsObject[key] = value));\n    (appSchema.definitions[sectionId] as Definition).properties = sortedActionsAsObject;\n}\n\n/**\n * Common function for enhancing header and footer definitions of app schema by custom action definitions\n * @param appSchema - app-specific JSON schema\n * @param v4Page - actual page in the manifest\n * @param logger - logger for error messages\n * @param customActionDefinitionName - definition name of custom action\n * @param sectionId - identifier of the current object page section in schema\n */\nexport function addHeaderFooterCustomActionDefinition(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger,\n    customActionDefinitionName: DefinitionName = DefinitionName.CustomHeaderActionOP,\n    sectionId = ''\n): void {\n    const definition = appSchema.definitions[sectionId];\n    if (!definition) {\n        return;\n    }\n    // Sort existing actions\n    let sortedActionsArray = sortPropertiesRecords(definition);\n    let actions;\n    if ([DefinitionName.CustomHeaderAction, DefinitionName.CustomHeaderActionOP].includes(customActionDefinitionName)) {\n        actions = v4Page.options?.settings?.content?.header?.['actions'];\n    } else {\n        actions = v4Page.options?.settings?.content?.footer?.['actions'];\n    }\n    if (actions) {\n        sortedActionsArray = addExtensionToArray(\n            actions,\n            sortedActionsArray,\n            customActionDefinitionName,\n            'press',\n            logger\n        );\n    }\n    // Adjust propertyIndex\n    for (let index = 0; index < sortedActionsArray.length; index++) {\n        sortedActionsArray[index][1][SchemaTag.propertyIndex] = index;\n    }\n    const sortedActionsAsObject = {};\n    sortedActionsArray.forEach(([key, value]) => (sortedActionsAsObject[key] = value));\n    (appSchema.definitions[sectionId] as Definition).properties = sortedActionsAsObject;\n}\n\n/**\n * Method finds view XML file for passed page.\n * @param {FileData[]} files All view files.\n * @param {string} pageId Page id.\n * @param {Manifest} manifest Object from manifest.json.\n * @param {ExtensionLogger} [logger] Logger.\n * @returns {CustomPageCustomViewData | undefined} Custom page's data containing view XML file.\n */\nexport function getPageCustomViewFile(\n    files: FileData[],\n    pageId: string,\n    manifest: Manifest,\n    logger?: ExtensionLogger\n): CustomPageCustomViewData | undefined {\n    const pages = manifest[ManifestSection.ui5]['routing']['targets'] as v4.SapUi5RoutingTargetsV4;\n    if (!pages) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTARGETS'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    const page = pages[pageId];\n    if (!page) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTINGID', { routingId: pageId }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    // Resolve view name and app id\n    let viewName: string = page.options?.settings?.['viewName']?.toString() || '';\n    if (viewName) {\n        const appId = manifest['sap.app']?.id || '';\n        const type = 'view';\n        const fileExtension = 'xml';\n        if (viewName.startsWith(appId)) {\n            // Remove app id from extension name\n            viewName = viewName.replace(appId, '');\n        }\n        const fileParts = viewName.split('.');\n        let baseName = fileParts.pop();\n        baseName = `${baseName}.${type}.${fileExtension}`;\n        const extPath = join(...fileParts, baseName);\n        const file = files.find((file: FileData) => file.dataSourceUri.endsWith(extPath));\n        if (file) {\n            const settings = page.options?.settings as { contextPath?: string; entitySet?: string };\n            return {\n                file,\n                connection: {\n                    contextPath: settings?.contextPath,\n                    entitySet: settings?.entitySet\n                }\n            };\n        }\n    }\n    return undefined;\n}\n", "import type { LineItemDataForSchema } from '../utils/utils';\nimport {\n    alignSchemaWithTemplateType,\n    addCustomColumnDefinition,\n    addFragmentEnumForAnchor,\n    addLineItemsTypeToSchema,\n    findPageV4,\n    addEnumForActionAnchor,\n    addCustomActionDefinition,\n    addHeaderFooterCustomActionDefinition\n} from '../utils/utils';\n\nimport {\n    ArtifactType,\n    ManifestSection,\n    UIVOCABULARY,\n    TemplateType,\n    Visualization,\n    SchemaKeyName,\n    PropertyName,\n    DefinitionName,\n    FacetBase,\n    MANIFESTPATH,\n    SchemaTag,\n    LogSeverity,\n    UIVOCABULARYDOT\n} from '@sap/ux-specification-types';\nimport type { ExtensionLogger, v4, GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport type { AnnotationTerm, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes, LineItem, SelectionFields } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport {\n    addEnumForSingleTabVariant,\n    createAnnotationPath,\n    DEFINITION_LINK_PREFIX,\n    determineDataType,\n    findAlias,\n    getDataFieldDescription,\n    getLabelForPropertyPath,\n    prepareRef,\n    parseSchemaDefinition,\n    addDefinitionRef,\n    getCustomExtensionDefinitionName,\n    getDefinitionKey,\n    getFacetDefinitionLink,\n    updatePropertyIndices\n} from '../../common';\nimport type { Definition } from 'typescript-json-schema';\n\nconst ROOT_PROPERTIES_ORDER: Array<keyof v4.ListReportConfigV4> = ['header', 'filterBar', 'chart', 'table'];\n\n/**\n * Adds the selection fields to the app schema, as properties of the FilterBar\n * @param {EntityType} entityType - the entity type as part of the AVT ConvertedMetadata\n * @param {Definition} appSchema - the app specific schema that shall get enhanced\n * @param {AnnotationTerm<SelectionFields>} selectionFieldsAnnotation - the UI.SelectionField annotation\n * @param {Definition} [selectionFieldsDefinition] - Schema definitions of selection fields\n */\nexport function addSelectionFields(\n    entityType: EntityType,\n    appSchema: Definition,\n    selectionFieldsAnnotation: AnnotationTerm<SelectionFields>,\n    selectionFieldsDefinition?: Definition\n): void {\n    if (!selectionFieldsDefinition) {\n        selectionFieldsDefinition = appSchema.definitions[DefinitionName.SelectionFields] as Definition;\n        selectionFieldsDefinition.additionalProperties = false;\n        selectionFieldsDefinition.properties = {};\n    }\n    if (!entityType) {\n        return;\n    }\n    selectionFieldsDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n        entityType.fullyQualifiedName,\n        UIAnnotationTerms.SelectionFields\n    );\n    if (!selectionFieldsAnnotation) {\n        return;\n    }\n    let i = 0;\n    selectionFieldsAnnotation.forEach((selectionField) => {\n        let description = selectionField.value;\n        const fieldDefinition = 'SelectionField::' + prepareRef(selectionField.value);\n        if (selectionField.type === 'PropertyPath') {\n            description = getLabelForPropertyPath(selectionField, entityType);\n        }\n        selectionFieldsDefinition.properties[fieldDefinition] = {\n            $ref: DEFINITION_LINK_PREFIX + fieldDefinition\n        };\n        selectionFieldsDefinition.properties[fieldDefinition][SchemaTag.propertyIndex] = i;\n        const dataType = determineDataType(selectionField);\n        appSchema.definitions[fieldDefinition] = {\n            type: 'object',\n            properties: {},\n            description,\n            additionalProperties: false,\n            ...(dataType && { dataType })\n        };\n        appSchema.definitions[fieldDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[fieldDefinition][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: `${selectionField.value}` }\n        ];\n        if (selectionField.$target?.fullyQualifiedName.indexOf('@') > -1) {\n            appSchema.definitions[fieldDefinition][SchemaTag.target] = selectionField.$target.fullyQualifiedName\n                .split('@')[0]\n                .split('/')[0];\n        } else if (selectionField.$target?.fullyQualifiedName) {\n            appSchema.definitions[fieldDefinition][SchemaTag.target] =\n                selectionField.$target.fullyQualifiedName.split('/')[0];\n        }\n\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationType] = selectionField?.type;\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationPath] = `${\n            selectionFieldsDefinition[SchemaTag.annotationPath]\n        }/${i}`;\n        i++;\n    });\n}\n\n/**\n * Returns visual filters (if defined) from manifest page\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @returns\n */\nfunction getVisualFilters(v4Page: v4.SapUiAppPageV4): {} | undefined {\n    const selectionFields =\n        v4Page.options.settings?.controlConfiguration?.[`@${UIAnnotationTerms.SelectionFields}`]?.['filterFields'];\n    if (selectionFields) {\n        const visualFilters = {};\n        Object.keys(selectionFields).forEach((field) => {\n            if (!selectionFields[field].template) {\n                visualFilters[field] = selectionFields[field];\n            }\n        });\n        return Object.keys(visualFilters).length > 0 ? visualFilters : undefined;\n    }\n}\n\n/**\n * Collects indexes of selection fields and entityProperties to sort visual filters\n * @param {AnnotationTerm<SelectionFields>} selectionFieldsAnnotation - the UI.SelectionField annotation\n * @param {EntityType} entityType - the entity type as part of the AVT ConvertedMetadata\n * @returns\n */\nfunction getPropertiesIndex(selectionFields: AnnotationTerm<SelectionFields>, entityType: EntityType): string[] {\n    const properties: string[] = [];\n    selectionFields?.forEach((selectionField) => properties.push(selectionField.value));\n    entityType.entityProperties.forEach((property) =>\n        !properties.includes(property.name) ? properties.push(property.name) : undefined\n    );\n    return properties;\n}\n\n/**\n * Adds visual filters to the app schema, as properties of the FilterBar\n * @param {EntityType} entityType - the entity type as part of the AVT ConvertedMetadata\n * @param {Definition} appSchema - the app specific schema that shall get enhanced\n * @param visualFiltersManifest - the UI.SelectionFields under controlConfiguration\n * @param {AnnotationTerm<SelectionFields>} selectionFieldsAnnotation - the UI.SelectionField annotation\n */\nfunction addVisualFilters(\n    entityType: EntityType,\n    appSchema: Definition,\n    visualFiltersManifest: any,\n    selectionFields: AnnotationTerm<SelectionFields>\n) {\n    const propertiesIndex = getPropertiesIndex(selectionFields, entityType);\n    const visualFilters = appSchema.definitions[DefinitionName.VisualFilters] as Definition;\n    visualFilters.properties = {};\n    for (const fieldName in visualFiltersManifest) {\n        const filterField = visualFiltersManifest[fieldName];\n        // No custom filter field support in visual filters\n        if (!filterField.template) {\n            const visualFiltersField = (visualFilters.properties[fieldName] = {\n                $ref: getFacetDefinitionLink(DefinitionName.VisualFilter, fieldName)\n            });\n            const propertyIndex = propertiesIndex.indexOf(fieldName);\n            if (propertyIndex !== -1) {\n                visualFiltersField[SchemaTag.propertyIndex] = propertyIndex;\n            }\n            const filterDefinition = parseSchemaDefinition(DefinitionName.VisualFilter, fieldName, appSchema);\n            if (filterField.visualFilter?.valueList) {\n                filterDefinition[SchemaTag.annotationPath] = `${fieldName}/@${filterField.visualFilter.valueList}`;\n            }\n            const annotationLabel = entityType.entityProperties\n                ?.find((property) => property.name === fieldName)\n                ?.annotations?.Common?.Label?.toString();\n            filterDefinition.description = annotationLabel || fieldName;\n            filterDefinition[SchemaTag.keys] = [{ name: SchemaKeyName.value, value: fieldName }];\n        }\n    }\n}\n\n/**\n * Adds selection fields or compact/visual filters to filter bar\n * @param {EntityType} entityType - actual entity type (AVT information)\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {string} alias - the given alias or namespace of the OData annotations\n */\nfunction addFilterBar(entityType: EntityType, appSchema: Definition, v4Page: v4.SapUiAppPageV4, alias: string) {\n    const visualFilters = getVisualFilters(v4Page);\n    const selectionFields = alias && entityType?.annotations?.[alias]?.SelectionFields;\n    let selectionFieldsDefinition;\n    // Hide visualFilters/selectionFields depending on existing visual filters\n    if (visualFilters) {\n        appSchema.definitions[DefinitionName.SelectionFields][SchemaTag.hidden] = true;\n        appSchema.definitions[DefinitionName.SelectionFields]['properties'] = {};\n        selectionFieldsDefinition = appSchema.definitions[DefinitionName.CompactFilters];\n        selectionFieldsDefinition.additionalProperties = false;\n        selectionFieldsDefinition.properties = {};\n        addVisualFilters(entityType, appSchema, visualFilters, selectionFields);\n    } else {\n        const filterBar = appSchema.definitions[DefinitionName.FilterBar] as Definition;\n        filterBar.properties['initialLayout'][SchemaTag.hidden] = true;\n        filterBar.properties['layout'][SchemaTag.hidden] = true;\n        appSchema.definitions[DefinitionName.CompactFilters][SchemaTag.hidden] = true;\n        appSchema.definitions[DefinitionName.VisualFilters][SchemaTag.hidden] = true;\n    }\n    addSelectionFields(entityType, appSchema, selectionFields, selectionFieldsDefinition);\n}\n\n/**\n * Convert alias prefix of visualization if different from @UI (e.g. SAP__UI)\n * @param visualization visualization of an (Selection)PresentationVariant\n * @param alias - the given alias or namespace of the OData annotations\n * @returns the converted visualization\n */\nfunction convertVisualization(visualization: string, alias: string): string | undefined {\n    if (visualization && !visualization.startsWith(`@${alias}`)) {\n        return visualization.replace(visualization.split('.')[0], '@UI');\n    } else {\n        return visualization;\n    }\n}\n\nfunction defineActions(\n    appSchema: Definition,\n    schemaIdForActions: string,\n    annotations,\n    targetAnnotation: string,\n    entityType: EntityType\n) {\n    appSchema.definitions[schemaIdForActions] = JSON.parse(JSON.stringify(appSchema.definitions['Actions']));\n    const actions = appSchema.definitions[schemaIdForActions] as Definition;\n    actions.properties = {};\n    actions.additionalProperties = false;\n    const chartAnnotation = annotations[targetAnnotation?.split(`${UIVOCABULARY}.`)[1]];\n    if (chartAnnotation && chartAnnotation.Actions) {\n        let i = 0;\n        chartAnnotation.Actions.forEach((actionRecord) => {\n            const actionDefinition = prepareRef(`${DefinitionName.ChartToolBarAction}<${actionRecord.Action}>`);\n            const description = getDataFieldDescription(actionRecord as DataFieldAbstractTypes, entityType);\n            const prefix = actionRecord.$Type.split(`${UIVOCABULARY}.`)[1];\n            const action = (actions.properties[`${prefix}::${actionRecord.Action}`] = {\n                $ref: DEFINITION_LINK_PREFIX + actionDefinition,\n                description\n            });\n            //Add tags\n            action[SchemaTag.propertyIndex] = i;\n            action[SchemaTag.annotationType] = actionRecord.$Type;\n            action[SchemaTag.annotationPath] = `/${actionRecord.fullyQualifiedName}`;\n            //as ChartToolBarAction is an empty object, copy ViewToolBarAction and remove properties\n            appSchema.definitions[actionDefinition] = JSON.parse(\n                JSON.stringify(appSchema.definitions[DefinitionName.ViewToolBarAction])\n            );\n            (appSchema.definitions[actionDefinition] as Definition).properties = {};\n            appSchema.definitions[actionDefinition][SchemaTag.annotationPath] = actionRecord.fullyQualifiedName;\n            i++;\n        });\n    }\n}\n\n/**\n * Finds the right visualization for a given view\n * @param allVisualizations - list of visualizations for the given (S)PV\n * @param alias - alias definition for the relevant namespace\n * @param namespace - namespace for the UI annotations\n * @param viewKey - view key: primary, secondary, or anything else; may also be undefined. The first visualization is taken in this case.\n * @param visualizationType - allows to find the right visualization if there are many.\n * @returns the value of the first fitting visualization\n */\nfunction findTheRightVisualization(\n    allVisualizations: Array<object>,\n    alias: string,\n    namespace: string,\n    viewKey?: string,\n    visualizationType?: Visualization\n): { visualization: string; targetAnnotation: string } {\n    let visualization: string, visualizationObject: object, targetAnnotation: string;\n    if (allVisualizations) {\n        if (viewKey === 'primary') {\n            visualizationObject = allVisualizations.find((vis) => {\n                return vis['value'].indexOf('Chart') > -1;\n            });\n        } else if (viewKey === 'secondary') {\n            visualizationObject = allVisualizations.find((vis) => {\n                return vis['value'].indexOf(FacetBase.LineItem) > -1;\n            });\n        } else {\n            if (visualizationType) {\n                visualizationObject = allVisualizations.find((v) => v['value'].indexOf(visualizationType) > -1);\n            } else {\n                visualizationObject = allVisualizations[0];\n            }\n        }\n        visualization = convertVisualization(visualizationObject?.['value'], alias);\n        if (visualizationObject?.['$target']?.fullyQualifiedName) {\n            targetAnnotation = `/${namespace}/${visualizationObject['$target'].fullyQualifiedName.split(namespace)[1]}`;\n        } else if (visualization) {\n            targetAnnotation = `/${namespace}/` + visualization.replace(`UI`, UIVOCABULARY);\n        }\n    }\n    return { visualization, targetAnnotation };\n}\n\n/**\n * An annotationPath must be analyzed, to find the right target annotation and visualization\n *\n */\nfunction analyzeChartAnnotation(\n    namespace: string,\n    annotationPath: string,\n    annotationAVT: object,\n    viewKey: string\n): { visualization: string; targetAnnotation: string; chartTitle: string } {\n    const visualization = '@UI.Chart';\n    const targetAnnotationFullName = `/${namespace}/@${annotationPath}`;\n    let chartTitle: string;\n\n    if (annotationAVT['Title']) {\n        chartTitle = annotationAVT['Title'];\n    } else {\n        chartTitle = `Chart View (${viewKey})`;\n    }\n    return { visualization, targetAnnotation: targetAnnotationFullName, chartTitle };\n}\n\n/**\n * An annotationPath must be analyzed, to find the right target annotation and visualization\n * @param annotationPath - given annotationPath\n * @param uIAnnotations - annotations of UI namespace of the given entityType\n * @param generateParameters - parameters required to generate app schema\n * @param viewKey - allows to distinguish the different view types (LR or ALP)\n * @param visualizationType - allows to find the right visualization if there are many.\n * @returns { visualization: string describing the visualization of the annotation,\n *            targetAnnotation: the target annotation behind the visualization\n *            namespace: namespace of the annotation,\n *            title: title to be shown, derived from the annotation }\n */\nfunction analyzeViewAnnotation(\n    annotationPath: string,\n    uIAnnotations: object,\n    generateParameters: GenerateAppSchemaParameters,\n    viewKey?: string,\n    visualizationType?: Visualization\n): { visualization: string; targetAnnotation: string; namespace: string; title: string } {\n    let namespace: string = undefined,\n        title: string;\n    const UILINEITEM = '@UI.LineItem';\n    const annotationInManifest = annotationPath?.split(`${UIVOCABULARY}.`)[1];\n    const annotationAVT = annotationInManifest && uIAnnotations[annotationInManifest];\n    if (!annotationAVT) {\n        return { visualization: undefined, targetAnnotation: undefined, namespace, title: `View (${viewKey})` };\n    }\n    title = annotationAVT.Text;\n    namespace = annotationAVT.fullyQualifiedName.split('@com.sap.vocabularies.UI.v1.')[0];\n    const alias = findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n\n    if (annotationInManifest.startsWith('PresentationVariant')) {\n        const { visualization, targetAnnotation } = findTheRightVisualization(\n            annotationAVT.Visualizations,\n            alias,\n            namespace,\n            viewKey,\n            visualizationType\n        );\n        title = title || `View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('SelectionPresentationVariant')) {\n        let { visualization, targetAnnotation } = findTheRightVisualization(\n            annotationAVT.PresentationVariant.Visualizations,\n            alias,\n            namespace,\n            viewKey,\n            visualizationType\n        );\n        if (!visualization) {\n            visualization = UILINEITEM; // default visualization\n            targetAnnotation = `/${namespace}/` + visualization.replace(`UI`, UIVOCABULARY); // default targetAnnotation\n        }\n        title = title || `View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('SelectionVariant')) {\n        const visualization = UILINEITEM;\n        const targetAnnotation = `/${namespace}/@com.sap.vocabularies.UI.v1.LineItem`;\n        title = title || `Table View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('LineItem')) {\n        const visualization = UILINEITEM;\n        const targetAnnotation = `/${namespace}/@${annotationPath}`;\n        title = title || `Table View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('Chart')) {\n        const { visualization, targetAnnotation, chartTitle } = analyzeChartAnnotation(\n            namespace,\n            annotationPath,\n            annotationAVT,\n            viewKey\n        );\n        return { visualization, targetAnnotation, namespace, title: chartTitle };\n    }\n    return { visualization: undefined, targetAnnotation: undefined, namespace, title: `View (${viewKey})` };\n}\n\n/**\n * Adds the ALP chart view to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param targetAnnotation - target annotation of the chart view, as determined by analyzeViewAnnotation\n * @param annotations - UI annotations, as determined by AVT\n */\nfunction addALPChartView(appSchema: Definition, chartAnnotationPath: string, targetAnnotation: string, annotations) {\n    const chartView = appSchema.definitions[DefinitionName.ALPChartView] as Definition;\n    appSchema.definitions[DefinitionName.ALPChart] = JSON.parse(JSON.stringify(chartView));\n    delete appSchema.definitions[DefinitionName.ALPChart][SchemaTag.isViewNode];\n    if (targetAnnotation) {\n        appSchema.definitions[DefinitionName.ALPChart][SchemaTag.annotationPath] = targetAnnotation;\n    }\n    (appSchema.definitions[DefinitionName.ALPChart] as Definition).properties.annotationPath[SchemaTag.hidden] = true;\n\n    chartView.properties.annotationPath[SchemaTag.hidden] = true;\n    chartView.additionalProperties = false;\n    chartView.description = `Chart (key: primary)`;\n    chartView.title = `Chart`;\n    chartView.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPChart}`;\n    if (chartAnnotationPath) {\n        const viewAnnotation = chartAnnotationPath.split(UIVOCABULARYDOT)[1];\n        const pathParts = annotations[viewAnnotation].fullyQualifiedName.split('@');\n        chartView[SchemaTag.annotationPath] = `/${pathParts[0]}/@${pathParts[1]}`;\n    }\n    chartView[SchemaTag.artifactType] = ArtifactType.Manifest;\n    chartView[SchemaTag.key] = 'primary';\n    chartView[SchemaTag.keys] = [{ name: SchemaKeyName.key, value: 'primary' }];\n}\n\n/**\n * Adds the ALP views to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {Array<Object>} viewsPaths - views' paths' section in the manifest\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n */\nfunction addALPViews(\n    appSchema: Definition,\n    viewsPaths: Array<Object>,\n    entityType: EntityType,\n    generateParameters: GenerateAppSchemaParameters,\n    templateAnnotation: string,\n    v4Page: v4.SapUiAppPageV4,\n    tableDefinitionName: string\n) {\n    const annotations = entityType.annotations.UI;\n    //1. Chart View\n    const chartAnnotationPath = viewsPaths?.[0]?.['primary']?.[0]?.[SchemaTag.annotationPath];\n    const { targetAnnotation } = analyzeViewAnnotation(chartAnnotationPath, annotations, generateParameters, 'primary');\n    addALPChartView(appSchema, chartAnnotationPath, targetAnnotation, annotations);\n    // Copy toolbar\n    const schemaIdForActions = `Actions<ALPChart>`;\n    (appSchema.definitions[DefinitionName.ViewChartToolBar] as Definition).properties.actions['$ref'] =\n        DEFINITION_LINK_PREFIX + schemaIdForActions;\n\n    defineActions(appSchema, schemaIdForActions, annotations, targetAnnotation, entityType);\n\n    //2. Table View\n    const { visualization: tableVisualization, targetAnnotation: target } = analyzeViewAnnotation(\n        viewsPaths?.[0]?.['secondary']?.[0]?.[SchemaTag.annotationPath],\n        annotations,\n        generateParameters,\n        'secondary'\n    );\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    if (tableVisualization || templateAnnotation) {\n        tableDefinition.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n        // Switch from generic column to specific definition\n        tableDefinition.properties['columns'] = {\n            $ref: DEFINITION_LINK_PREFIX + DefinitionName.LineItems\n        };\n        tableDefinition.properties.annotationPath[SchemaTag.hidden] = true;\n    } else {\n        tableDefinition.properties = {};\n    }\n    const tableView = appSchema.definitions[DefinitionName.ALPTableView] as Definition;\n    appSchema.definitions[DefinitionName.ALPTable] = JSON.parse(JSON.stringify(tableView));\n    delete appSchema.definitions[DefinitionName.ALPTable][SchemaTag.isViewNode];\n    tableView.additionalProperties = false;\n    tableView.description = `Table (key: secondary)`;\n    tableView.title = `Table`;\n    if (tableVisualization) {\n        delete tableView.properties;\n        tableView.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPTable}`;\n    } else if (!templateAnnotation) {\n        tableView.properties = {};\n    }\n    tableView[SchemaTag.artifactType] = ArtifactType.Manifest;\n\n    let annotationTerm: string, viewAnnotation: string;\n    if (tableVisualization && tableVisualization.indexOf(FacetBase.LineItem) > -1) {\n        annotationTerm = tableVisualization.split('.')[1];\n        viewAnnotation = viewsPaths[0]['secondary'][0].annotationPath.split(UIVOCABULARYDOT)[1];\n    } else if (templateAnnotation) {\n        annotationTerm = viewAnnotation = templateAnnotation.split(UIVOCABULARYDOT)[1];\n    }\n    if (annotationTerm) {\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation: entityType.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: DefinitionName.LineItems\n        };\n        addLineItemsTypeToSchema(dataForLineItem, DefinitionName.ViewTableColumn);\n        if (target) {\n            appSchema.definitions[DefinitionName.ALPTable][SchemaTag.annotationPath] = target;\n        }\n        const pathParts = annotations[viewAnnotation].fullyQualifiedName.split('@');\n        tableView[SchemaTag.annotationPath] = `/${pathParts[0]}/@${pathParts[1]}`;\n        tableView[SchemaTag.key] = 'secondary';\n        tableView[SchemaTag.keys] = [{ name: SchemaKeyName.key, value: 'secondary' }];\n    }\n    addCustomColumnDefinition(appSchema, v4Page, generateParameters.logger);\n    // Table toolbar actions with custom actions\n    const schemaIdForToolbarActions = `${DefinitionName.Actions}<${prepareRef(DefinitionName.LineItems)}>`;\n    addCustomActionDefinition(appSchema, v4Page, generateParameters.logger, undefined, schemaIdForToolbarActions);\n    addEnumForActionAnchor(appSchema, schemaIdForToolbarActions, DefinitionName.CustomActionPosition);\n}\n\ntype ViewsParameters = {\n    viewKey: string;\n    appSchema: Definition;\n    targetAnnotation: string;\n    navPropName: string;\n    targetEntityType: EntityType;\n    title: string;\n};\n\n/**\n * Modifies the app schema, adds the right line chart settings\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param annotations - UI annotations of the given entityType\n * @returns the ID for the chart view in schema\n */\nfunction addViewChartDefinitions(inputParameters: ViewsParameters, annotations): string {\n    const idForChart = `${DefinitionName.LRChartView}<${inputParameters.viewKey}>`;\n    inputParameters.appSchema.definitions[idForChart] = JSON.parse(\n        JSON.stringify(inputParameters.appSchema.definitions[DefinitionName.LRChartView])\n    );\n    delete inputParameters.appSchema.definitions[idForChart][SchemaTag.isViewNode];\n    inputParameters.appSchema.definitions[idForChart][SchemaTag.annotationPath] = inputParameters.targetAnnotation;\n    if (inputParameters.navPropName) {\n        inputParameters.appSchema.definitions[idForChart]['navigationProperty'] = inputParameters.navPropName;\n    }\n    //Copy toolbar\n    const idForToolbar = `${DefinitionName.ViewChartToolBar}<${inputParameters.viewKey}>`;\n    inputParameters.appSchema.definitions[idForToolbar] = JSON.parse(\n        JSON.stringify(inputParameters.appSchema.definitions[DefinitionName.ViewChartToolBar])\n    );\n    inputParameters.appSchema.definitions[idForChart][\n        'properties'\n    ].toolBar.$ref = `${DEFINITION_LINK_PREFIX}${idForToolbar}`;\n    //Copy actions\n    const schemaIdForActions = `${DefinitionName.Actions}<${inputParameters.viewKey}>`;\n    defineActions(\n        inputParameters.appSchema,\n        schemaIdForActions,\n        annotations,\n        inputParameters.targetAnnotation,\n        inputParameters.targetEntityType\n    );\n    inputParameters.appSchema.definitions[idForToolbar]['properties'][PropertyName.actions][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}${schemaIdForActions}`;\n\n    return idForChart;\n}\n\n/**\n * Adds the definition of a chart view to the app schema\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param UIAnnotations - AVT UI annotations of the given entity type\n * @param appSchema - app schema\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param viewKey - view key\n * @param title - view title\n */\nfunction addViewChart(\n    inputParameters: ViewsParameters,\n    UIAnnotations,\n    appSchema: Definition,\n    viewsDefinition: Definition,\n    viewKey: string,\n    title: string\n) {\n    const idForChart = addViewChartDefinitions(inputParameters, UIAnnotations);\n    (appSchema.definitions[idForChart] as Definition).properties.annotationPath[SchemaTag.hidden] = true;\n    (appSchema.definitions[idForChart] as Definition).properties.index[SchemaTag.hidden] = true;\n    (appSchema.definitions[idForChart] as Definition).properties.entitySet[SchemaTag.hidden] = true;\n    const titleOnHover = `Chart View (key: ${viewKey})`;\n    viewsDefinition.properties[viewKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${idForChart}`,\n        description: title ? title : titleOnHover,\n        title: titleOnHover\n    };\n}\n\n/**\n * Modifies the app schema, adds the right line item settings as derived from the visualization\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param visualization - visualization from the given (S)PV\n * @param templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n */\nfunction addViewLineItems(\n    inputParameters: ViewsParameters,\n    viewsDefinition: Definition,\n    visualization: string,\n    templateAnnotation: string,\n    generateParameters: GenerateAppSchemaParameters\n): void {\n    const tableId = `${DefinitionName.LRTableView}<${inputParameters.viewKey}>`;\n    const viewId = `${DefinitionName.LineItemsOfView}::${inputParameters.viewKey}`;\n    const lrTableView = parseSchemaDefinition(\n        DefinitionName.LRTableView,\n        inputParameters.viewKey,\n        inputParameters.appSchema\n    );\n    delete lrTableView[SchemaTag.isViewNode];\n    lrTableView[SchemaTag.annotationPath] = inputParameters.targetAnnotation;\n    if (inputParameters.navPropName) {\n        lrTableView['navigationProperty'] = inputParameters.navPropName;\n    }\n    //Copy toolbar\n    addDefinitionRef(lrTableView.properties.toolBar as Definition, DefinitionName.ToolBar, viewId);\n    const title = `Table View (key: ${inputParameters.viewKey})`;\n    viewsDefinition.properties[inputParameters.viewKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${tableId}`,\n        description: inputParameters.title || title,\n        title\n    };\n    addDefinitionRef(lrTableView.properties.columns as Definition, viewId);\n    lrTableView.properties.annotationPath[SchemaTag.hidden] = true;\n    lrTableView.properties.index[SchemaTag.hidden] = true;\n    lrTableView.properties.entitySet[SchemaTag.hidden] = true;\n    const annotationTerm = visualization?.split('.')[1] || templateAnnotation.split(UIVOCABULARYDOT)[1];\n    const dataForLineItem: LineItemDataForSchema = {\n        appSchema: inputParameters.appSchema,\n        lineItemAnnotation: inputParameters.targetEntityType.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>,\n        entityType: inputParameters.targetEntityType,\n        oDataServiceAVT: generateParameters.serviceAVT,\n        lineItemId: viewId\n    };\n    addLineItemsTypeToSchema(\n        dataForLineItem,\n        DefinitionName.ViewTableColumn,\n        DefinitionName.ViewCustomColumn,\n        DefinitionName.ViewCustomAction\n    );\n}\n\n/**\n * Adds the schema tags to a given view\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param viewKey - key property of the view\n * @param namespace - target namespace for annotations\n * @param view - the given view\n */\nfunction addTagsToView(viewsDefinition: Definition, viewKey: string, namespace: string, view: Object) {\n    viewsDefinition.properties[viewKey][SchemaTag.isViewNode] = true;\n    viewsDefinition.properties[viewKey][SchemaTag.annotationPath] = namespace\n        ? `/${namespace}/@${view[SchemaTag.annotationPath]}`\n        : undefined;\n    viewsDefinition.properties[viewKey][SchemaTag.artifactType] = ArtifactType.Manifest;\n    viewsDefinition.properties[viewKey][SchemaTag.key] = viewKey;\n    viewsDefinition.properties[viewKey][SchemaTag.keys] = [{ name: SchemaKeyName.key, value: viewKey }];\n}\n\n/**\n * Adjusts the entity type if a different entity set is maintained for a view\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param view - the current view in manifest\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @returns the target entity type\n */\nfunction getTargetEntityType(\n    entitySet: EntitySet,\n    view: Object,\n    generateParameters: GenerateAppSchemaParameters,\n    entityType: EntityType\n): EntityType {\n    let targetEntityType = entityType;\n    let viewEntitySet = entitySet;\n    if (view['entitySet'] && view['entitySet'] !== entitySet.name) {\n        viewEntitySet = generateParameters.serviceAVT?.entitySets.find((es) => {\n            return es.name === view['entitySet'];\n        });\n        targetEntityType = viewEntitySet.entityType;\n    }\n    return targetEntityType;\n}\n\n/**\n * Adds view custom extensions - custom column and custom action definitions\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} commonInputParameters - list of input parameters as collected by the calling instance\n * @param {string} visualization - visualization of the annotation\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n */\nfunction addViewCustomExtensions(\n    commonInputParameters: ViewsParameters,\n    generateParameters: GenerateAppSchemaParameters,\n    visualization: string,\n    v4Page: v4.SapUiAppPageV4\n) {\n    const sectionId = `${DefinitionName.LineItemsOfView}::${commonInputParameters.viewKey}`;\n    const navigationProperty = commonInputParameters.navPropName ? `${commonInputParameters.navPropName}/` : '';\n    const sectionIdInManifest = `${navigationProperty}@${UIAnnotationTerms.LineItem}${\n        visualization.split(Visualization.LineItem)[1]\n    }`;\n    const viewColumnDefinition = parseSchemaDefinition(\n        DefinitionName.ViewCustomColumn,\n        sectionId,\n        commonInputParameters.appSchema\n    );\n    addDefinitionRef(viewColumnDefinition.properties.position as Definition, DefinitionName.ViewPosition, sectionId);\n    parseSchemaDefinition(DefinitionName.ViewPosition, sectionId, commonInputParameters.appSchema);\n    addCustomColumnDefinition(\n        commonInputParameters.appSchema,\n        v4Page,\n        generateParameters.logger,\n        `${DefinitionName.ViewCustomColumn}<${sectionId}>`,\n        sectionId,\n        sectionIdInManifest\n    );\n    addFragmentEnumForAnchor(\n        commonInputParameters.appSchema,\n        sectionId,\n        v4Page,\n        `${DefinitionName.ViewPosition}<${sectionId}>` as DefinitionName,\n        sectionIdInManifest\n    );\n    // Remove generic position\n    if (commonInputParameters.appSchema.definitions.Position) {\n        delete commonInputParameters.appSchema.definitions.Position;\n        delete commonInputParameters.appSchema.definitions.TableCustomColumn;\n    }\n    // Table toolbar actions with custom actions\n    const schemaIdForToolbarActions = `${DefinitionName.Actions}<${sectionId}>`;\n    const customActionDefinitionKey = `${DefinitionName.ViewCustomAction}<${sectionId}>`;\n    addCustomActionDefinition(\n        commonInputParameters.appSchema,\n        v4Page,\n        generateParameters.logger,\n        customActionDefinitionKey,\n        schemaIdForToolbarActions,\n        sectionIdInManifest\n    );\n    // Anchor selection\n    parseSchemaDefinition(DefinitionName.ViewCustomActionPosition, sectionId, commonInputParameters.appSchema);\n    const customActionPositionDefinitionKey = `${DefinitionName.ViewCustomActionPosition}<${sectionId}>`;\n    const customActionDefinition = commonInputParameters.appSchema.definitions[customActionDefinitionKey] as Definition;\n    (\n        customActionDefinition.properties.position as Definition\n    ).$ref = `${DEFINITION_LINK_PREFIX}${customActionPositionDefinitionKey}`;\n    addEnumForActionAnchor(\n        commonInputParameters.appSchema,\n        schemaIdForToolbarActions,\n        customActionPositionDefinitionKey\n    );\n    // Remove generic position\n    if (commonInputParameters.appSchema.definitions.CustomActionPosition) {\n        delete commonInputParameters.appSchema.definitions.CustomActionPosition;\n    }\n}\n\n/**\n * Adds definition parts to a LR View (LineItem/Chart)\n * @param {string} templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {string} visualization - visualization of the annotation\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param {object} commonInputParameters - list of input parameters as collected by the calling instance\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n * @param uiAnnotations - UI annotations of the given entityType\n * @paran view - the given view\n */\nfunction addLRViewParts(\n    visualization: string,\n    viewsDefinition: Definition,\n    commonInputParameters: ViewsParameters,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4,\n    uiAnnotations: object,\n    view: object\n) {\n    if (visualization?.indexOf(Visualization.LineItem) > -1) {\n        //Add Line item view\n        addViewLineItems(\n            commonInputParameters,\n            viewsDefinition,\n            visualization,\n            commonInputParameters.targetAnnotation,\n            generateParameters\n        );\n        addViewCustomExtensions(commonInputParameters, generateParameters, visualization, v4Page);\n    } else if (visualization?.indexOf('Chart') > -1) {\n        //Add Chart view\n        addViewChart(\n            commonInputParameters,\n            uiAnnotations,\n            commonInputParameters.appSchema,\n            viewsDefinition,\n            commonInputParameters.viewKey,\n            commonInputParameters.title\n        );\n    } else if (view['template']) {\n        const titleOnHover = view['label'] || `Custom View (key: ${commonInputParameters.viewKey})`;\n        viewsDefinition.properties[commonInputParameters.viewKey] = {\n            description: commonInputParameters.title || titleOnHover,\n            title: titleOnHover,\n            // Default view - use table view reference as default\n            $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.TableViewExtension}`\n        };\n    } else {\n        const titleOnHover = `View (key: ${commonInputParameters.viewKey})`;\n        viewsDefinition.properties[commonInputParameters.viewKey] = {\n            description: commonInputParameters.title || titleOnHover,\n            title: titleOnHover,\n            // Default view - use table view reference as default\n            $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.LRTableView}`\n        };\n    }\n}\n\n/**\n * Add list report views to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {Array<Object>} viewsPaths - views' paths' section in the manifest\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {string} templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n */\nfunction addLRViews(\n    appSchema: Definition,\n    viewsPaths: Array<Object>,\n    entityType: EntityType,\n    entitySet: EntitySet,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4,\n    tableDefinitionName: DefinitionName.Table | DefinitionName.ALPTableView\n) {\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    tableDefinition.properties = {\n        annotationPath: tableDefinition.properties.annotationPath,\n        initialLoad: tableDefinition.properties.initialLoad,\n        views: tableDefinition.properties.views\n    };\n    const viewsDefinition = appSchema.definitions.MultiTableModeV4 as Definition;\n    for (const view of viewsPaths) {\n        if (!view[SchemaTag.key]) {\n            continue;\n        }\n        let navPropName: string = undefined;\n        const targetEntityType = getTargetEntityType(entitySet, view, generateParameters, entityType);\n        const uiAnnotations = targetEntityType.annotations.UI;\n        const { visualization, targetAnnotation, namespace, title } = analyzeViewAnnotation(\n            view?.[SchemaTag.annotationPath],\n            uiAnnotations,\n            generateParameters,\n            view[SchemaTag.key]\n        );\n        if (view['entitySet']) {\n            navPropName = entityType.navigationProperties.find((np) => {\n                return np.targetTypeName === namespace;\n            })?.name;\n        }\n        const viewKey = prepareRef(view[SchemaTag.key]);\n        const commonInputParameters: ViewsParameters = {\n            viewKey,\n            appSchema,\n            targetAnnotation,\n            navPropName,\n            targetEntityType,\n            title\n        };\n        addLRViewParts(\n            visualization,\n            viewsDefinition,\n            commonInputParameters,\n            generateParameters,\n            v4Page,\n            uiAnnotations,\n            view\n        );\n        addTagsToView(viewsDefinition, viewKey, namespace, view);\n    }\n}\n\n/**\n * Adapts the table definition in schema.\n * Evaluates the path depending on if defaultTemplateAnnotationPath or Selection-/PresentationVariant is present.\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n * @param {EntityType} entityType - the current entity type, as defined in AVT\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param appSchema - the app-specific JSON schema\n * @param alias - alias definition for the UI vocabulary\n */\nfunction adaptTableDefinition(\n    appSchema: Definition,\n    entityType: EntityType,\n    generateParameters: GenerateAppSchemaParameters,\n    templateAnnotation: string,\n    v4Page: v4.SapUiAppPageV4,\n    alias: string,\n    tableDefinitionName: DefinitionName.Table | DefinitionName.ALPTableView\n) {\n    //here: tableDefinitionName = DefinitionName.Table\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    const { visualization, targetAnnotation, namespace } = analyzeViewAnnotation(\n        templateAnnotation,\n        entityType?.annotations.UI,\n        generateParameters,\n        undefined,\n        Visualization.LineItem\n    );\n    if (visualization) {\n        const annotationTerm = visualization.split('.')[1];\n        const annotationTermInSchema = `${DefinitionName.LineItems}OfSPV::${prepareRef(annotationTerm)}`;\n        const spvTable = (appSchema.definitions[`${tableDefinitionName}SPV`] = JSON.parse(\n            JSON.stringify(appSchema.definitions[tableDefinitionName])\n        ) as Definition);\n        delete spvTable[SchemaTag.isViewNode];\n        addDefinitionRef(spvTable.properties.toolBar as Definition, DefinitionName.ToolBar, annotationTermInSchema);\n        // Switch from generic column to specific definition\n        spvTable[SchemaTag.annotationPath] = targetAnnotation;\n        spvTable.properties.columns = {} as Definition;\n        addDefinitionRef(spvTable.properties.columns, annotationTermInSchema);\n\n        delete tableDefinition.properties;\n        addDefinitionRef(tableDefinition, `${tableDefinitionName}SPV`);\n        tableDefinition[SchemaTag.annotationPath] = `/${namespace}/@${templateAnnotation}`;\n        const lineItemAnnotation = entityType?.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>;\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: annotationTermInSchema\n        };\n        addLineItemsTypeToSchema(dataForLineItem);\n        const annotationTermQualifier = annotationTerm.split('#')?.[1];\n        const sectionIdInManifest = annotationTermQualifier\n            ? `@${UIAnnotationTerms.LineItem}#${annotationTermQualifier}`\n            : `@${UIAnnotationTerms.LineItem}`;\n        addCustomColumnDefinition(\n            appSchema,\n            v4Page,\n            generateParameters.logger,\n            undefined,\n            annotationTermInSchema,\n            sectionIdInManifest\n        );\n        addFragmentEnumForAnchor(appSchema, annotationTermInSchema, v4Page, undefined, sectionIdInManifest);\n        // Table toolbar actions with custom actions\n        const schemaIdForToolbarActions = `${DefinitionName.Actions}<${annotationTermInSchema}>`;\n        const customColumnDefinitionName = getCustomExtensionDefinitionName(\n            appSchema,\n            annotationTermInSchema,\n            DefinitionName.CustomTableAction\n        );\n        addCustomActionDefinition(\n            appSchema,\n            v4Page,\n            generateParameters.logger,\n            getDefinitionKey(customColumnDefinitionName),\n            schemaIdForToolbarActions,\n            sectionIdInManifest\n        );\n        addEnumForActionAnchor(appSchema, schemaIdForToolbarActions, DefinitionName.CustomActionPosition);\n    } else {\n        tableDefinition.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n        // Switch from generic column to specific definition\n        addDefinitionRef(tableDefinition.properties.columns as Definition, DefinitionName.LineItems);\n        const lineItemAnnotation = entityType?.annotations?.[alias]?.LineItem;\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: DefinitionName.LineItems\n        };\n        addLineItemsTypeToSchema(dataForLineItem);\n        addCustomColumnDefinition(appSchema, v4Page, generateParameters.logger);\n        addFragmentEnumForAnchor(appSchema, DefinitionName.LineItems, v4Page);\n        const term = lineItemAnnotation ? lineItemAnnotation.term : 'com.sap.vocabularies.UI.v1.LineItem';\n        tableDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n            entityType.fullyQualifiedName,\n            term,\n            lineItemAnnotation?.qualifier\n        );\n\n        // Table toolbar actions with custom actions\n        const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(DefinitionName.LineItems)}>`;\n        addCustomActionDefinition(appSchema, v4Page, generateParameters.logger, undefined, schemaIdForActions);\n        addEnumForActionAnchor(appSchema, schemaIdForActions, DefinitionName.CustomActionPosition);\n    }\n}\n\n/**\n * Checks for the default annotation path to use for LR table\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {EntityType} entityType - actual entity type (AVT information)\n * @returns {string} annotation term\n */\nfunction getDefaultAnnotationPath(\n    v4Page: v4.SapUiAppPageV4,\n    entityType: EntityType,\n    templateType: TemplateType\n): string | undefined {\n    if (v4Page.options.settings?.views?.paths && templateType === TemplateType.ListReportObjectPageV4) {\n        return;\n    }\n    if (v4Page.options.settings?.defaultTemplateAnnotationPath) {\n        return v4Page.options.settings.defaultTemplateAnnotationPath;\n    }\n    if (templateType === TemplateType.ListReportObjectPageV4) {\n        return (\n            entityType?.annotations.UI?.SelectionPresentationVariant?.term ||\n            entityType?.annotations.UI?.PresentationVariant?.term\n        );\n    }\n}\n\n/**\n * Add views to schema (LR or ALP)\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {EntityType} entityType - actual entity type (AVT information)\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n */\nfunction addTableAndViews(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    generateParameters: GenerateAppSchemaParameters,\n    alias: string\n): void {\n    const viewsPaths = v4Page.options?.settings?.views?.paths;\n    const entityType = generateParameters.entityType;\n    const entitySet = generateParameters.entitySet;\n    const defaultAnnotation = getDefaultAnnotationPath(v4Page, entityType, generateParameters.templateType);\n    const tableDefinitionName = alignSchemaWithTemplateType(appSchema, generateParameters);\n    // Add filter bar\n    addFilterBar(entityType, appSchema, v4Page, alias);\n    if (generateParameters.templateType === TemplateType.ListReportObjectPageV4) {\n        if (viewsPaths) {\n            addLRViews(appSchema, viewsPaths, entityType, entitySet, generateParameters, v4Page, tableDefinitionName);\n        } else {\n            if (!v4Page.options?.settings?.views) {\n                (appSchema.definitions.MultiTableModeV4 as Definition).properties = {};\n            }\n            adaptTableDefinition(\n                appSchema,\n                entityType,\n                generateParameters,\n                defaultAnnotation,\n                v4Page,\n                alias,\n                tableDefinitionName\n            );\n        }\n        appSchema.properties[PropertyName.chart][SchemaTag.hidden] = true;\n    } else if (generateParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        addALPViews(\n            appSchema,\n            viewsPaths,\n            entityType,\n            generateParameters,\n            defaultAnnotation,\n            v4Page,\n            tableDefinitionName\n        );\n        addFragmentEnumForAnchor(appSchema, DefinitionName.LineItems, v4Page);\n    }\n}\n\n/**\n * Adds header actions to schema (LR or ALP)\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction addHeaderActions(appSchema: Definition, v4Page: v4.SapUiAppPageV4, logger: ExtensionLogger): void {\n    // add header action definitions\n    const headerActionsDefinitionKey = DefinitionName.HeaderActions;\n    const headerActionsDefinition = appSchema.definitions[headerActionsDefinitionKey] as Definition;\n    headerActionsDefinition[SchemaTag.isViewNode] = true;\n    headerActionsDefinition.description = 'Actions';\n    headerActionsDefinition.properties = {};\n\n    // add custom action definitions\n    const customActionDefinitionKey = DefinitionName.CustomHeaderAction;\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = 'Custom Action';\n    addHeaderFooterCustomActionDefinition(\n        appSchema,\n        v4Page,\n        logger,\n        customActionDefinitionKey,\n        headerActionsDefinitionKey\n    );\n    const facetKey = DefinitionName.CustomHeaderActionPosition;\n    parseSchemaDefinition(facetKey, facetKey, appSchema, false);\n\n    // Anchor selection\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${facetKey}`;\n    addEnumForActionAnchor(appSchema, headerActionsDefinitionKey, facetKey);\n}\n\n/**\n * Generates an app specific schema for the FE V4 ListReport from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n * @param {string} templateName - allows to distinguish list report from ALP\n * @param {string} contextPath - entity set (AVT object) that is relevant for the given page\n *\n * @returns {object} application-specific schema of the list report\n */\nexport function generateListReportSchemaV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    templateName: string,\n    contextPath: string\n): object {\n    const appSchema: Definition = JSON.parse(JSON.stringify(genericSchema));\n    const entityType = generateParameters.entityType;\n\n    const alias = generateParameters.serviceAVT && findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n    appSchema.properties[PropertyName.defaultTemplateAnnotationPath][SchemaTag.hidden] = true;\n\n    //enum for annotation path as part of QuickVariantSelection\n    addEnumForSingleTabVariant(entityType, appSchema, DefinitionName.AnnotationPathAsObject);\n\n    if (generateParameters.manifest) {\n        //Find page in targets\n        const pages = generateParameters.manifest[ManifestSection.ui5].routing\n            .targets as unknown as v4.SapUiAppPageV4[];\n        if (!pages) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        const v4Page = findPageV4(\n            pages,\n            templateName,\n            generateParameters.entitySet,\n            contextPath,\n            generateParameters.logger\n        );\n        if (!v4Page) {\n            return appSchema;\n        }\n\n        addHeaderActions(appSchema, v4Page, generateParameters.logger);\n        addTableAndViews(appSchema, v4Page, generateParameters, alias);\n    }\n    delete appSchema.definitions.GenericColumns;\n    delete appSchema.definitions.Action;\n    updatePropertyIndices(appSchema, ROOT_PROPERTIES_ORDER);\n    return appSchema;\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ExtensionLogger, GenerateAppSchemaParameters } from '../../..';\nimport type { PresentationVariantV4 } from '../types';\nimport type { AnnotationTerm, ConvertedMetadata, EntityType } from '@sap-ux/vocabularies-types';\nimport type {\n    Chart,\n    DataFieldAbstractTypes,\n    LineItem,\n    PresentationVariant\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    v4,\n    FioriElementsVersion,\n    ManifestSection,\n    SectionType,\n    Visualization,\n    DefinitionName,\n    SchemaKeyName,\n    MANIFESTPATH,\n    LogSeverity,\n    SchemaTag,\n    FacetBase,\n    UIVOCABULARYDOT\n} from '@sap/ux-specification-types';\nimport type { FacetConfig, FacetConfigs, FacetSection } from '@sap/ux-specification-types';\nimport {\n    DEFINITION_LINK_PREFIX,\n    addCommonHeaderSchema,\n    addDefinitionForRelatedFacetKeys,\n    addEnumForSingleTabVariant,\n    addFooterActions,\n    addHeaderActions,\n    addSectionTitleAndDescription,\n    addTargetTitleAndSectionDescription,\n    createDefaultSection,\n    determineDataType,\n    determineDataTypeOfTarget,\n    getActionNameAndId,\n    getDataFieldDescription,\n    getFacetAnnotationPath,\n    getFacetDefinitionLink,\n    getFacetKeyInSchema,\n    getObjectPageFacets,\n    getObjectPageHeaderFacets,\n    getObjectPageFacetSection,\n    handleAddressContact,\n    handleForm,\n    parseSchemaDefinition,\n    prepareRef,\n    replaceAlias,\n    updatePropertyIndices\n} from '../../common';\nimport type { LineItemDataForSchema } from '../utils/utils';\nimport { addHeaderFooterCustomActionDefinition } from '../utils/utils';\nimport {\n    addCustomColumnDefinition,\n    addFragmentEnumForAnchor,\n    addLineItemsTypeToSchema,\n    findPageV4,\n    addCustomActionDefinition,\n    addEnumForActionAnchor\n} from '../utils/utils';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\n\nconst ROOT_PROPERTIES_ORDER: Array<keyof v4.ObjectPageConfigV4> = ['header', 'layout', 'sections', 'footer'];\nconst CUSTOM_ACTION_DEFINITION_DESCRIPTION = 'Custom Action';\n\n/**\n * Callback for adding a single action to headerActions of V4\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param actionAnnotation - annotation as present in AVT ConvertedMetadata\n * @param {Definition} headerActions - list of header actions, to be enhanced\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n */\nfunction addHeaderActionCallBackV4(\n    entityType,\n    appSchema: Definition,\n    actionAnnotation: any,\n    headerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    return (item, index) => {\n        if (\n            (!item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) ||\n            item.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n        ) {\n            const { actionName, actionId, namespace } = getActionNameAndId(item, entityType, oDataServiceAVT);\n            if (!actionId) {\n                return;\n            }\n            const stableId = getStableIdPartFromDataField(item);\n            //stableId is used as key in V4, as the DataFieldForAction:: prefix shall be present in manifest settings\n            const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n            const actionDefinitionKey = `ObjectPageHeaderAction<${prepareRef(stableId)}>`;\n            const headerAction = (appSchema.definitions[actionDefinitionKey] = {\n                type: 'object',\n                $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageHeaderAction}`,\n                description: getDataFieldDescription(item, entityType)\n            });\n\n            headerAction[SchemaTag.isViewNode] = true;\n            headerAction[SchemaTag.keys] = [{ name: SchemaKeyName.action, value: actionName }];\n            if (namespace) {\n                appSchema.definitions[actionDefinitionKey][SchemaTag.target] = namespace;\n            }\n            headerAction[SchemaTag.annotationPath] = `/${convertedIdentification}/${index}`;\n            headerActions.properties[stableId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Callback for adding a single action to footerActions of V4\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param {Definition} footerActions - list of footer actions, to be enhanced\n * @param {String} convertedIdentification - converted UI.Identification term\n */\nfunction addFooterActionCallBackV4(\n    entityType,\n    appSchema: Definition,\n    footerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    convertedIdentification\n): any {\n    return (item, index) => {\n        if (item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const actionId = getStableIdPartFromDataField(item);\n            const description = getDataFieldDescription(item, entityType);\n            const actionDefinitionKey = prepareRef(`${DefinitionName.ObjectPageFooterAction}<${actionId}>`);\n\n            appSchema.definitions[actionDefinitionKey] = {\n                type: 'object',\n                $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.FooterActionV4}`,\n                description: description\n            };\n            appSchema.definitions[actionDefinitionKey][SchemaTag.isViewNode] = true;\n            appSchema.definitions[actionDefinitionKey][\n                SchemaTag.annotationPath\n            ] = `/${convertedIdentification}/${index}`;\n\n            footerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Object Page specific enhancements to addCustomColumnDefinition\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} lineItemId - identifier of the current table in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addCustomColumnsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    lineItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    // Create type specific copy of 'TableCustomColumnOP'\n    const useDefinitionAsKey =\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemId !== 'LineItemsOfSPV::LineItem' &&\n        lineItemId !== '@com.sap.vocabularies.UI.v1.LineItem';\n    const customColumDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomColumnOP}<${lineItemId}>`\n        : DefinitionName.CustomColumnOP;\n    const customColumnDefinition = appSchema.definitions[customColumDefinitionKey] as Definition;\n    customColumnDefinition[SchemaTag.isViewNode] = true;\n    customColumnDefinition.description = 'Custom Column';\n\n    // Update definitions for type specific custom columns\n    const schemaId = `${DefinitionName.CustomColumnOP}<${lineItemId}>`;\n    addCustomColumnDefinition(appSchema, v4Page, logger, schemaId, lineItemId, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? lineItemId : DefinitionName.PositionOP;\n    parseSchemaDefinition(DefinitionName.PositionOP, facetKey, appSchema, useDefinitionAsKey);\n    const positionId = useDefinitionAsKey ? `${DefinitionName.PositionOP}<${lineItemId}>` : DefinitionName.PositionOP;\n    (customColumnDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addFragmentEnumForAnchor(appSchema, lineItemId, v4Page, positionId, facetIdInManifest.replace(/::/g, '/'));\n}\n\n/**\n * Object Page specific enhancements to addCustomColumnDefinition\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} lineItemId - identifier of the current table in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addTableCustomActionsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    lineItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    // Create type specific copy of 'TableCustomActionOP'\n    const useDefinitionAsKey =\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemId !== 'LineItemsOfSPV::LineItem' &&\n        lineItemId !== '@com.sap.vocabularies.UI.v1.LineItem';\n    const customActionDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomTableActionOP}<${lineItemId}>`\n        : DefinitionName.CustomTableActionOP;\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = CUSTOM_ACTION_DEFINITION_DESCRIPTION;\n    // Update definitions for type specific custom columns\n    const schemaId = `${DefinitionName.CustomTableActionOP}<${lineItemId}>`;\n    const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(lineItemId)}>`;\n    addCustomActionDefinition(appSchema, v4Page, logger, schemaId, schemaIdForActions, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? lineItemId : DefinitionName.CustomActionPositionOP;\n    parseSchemaDefinition(DefinitionName.CustomActionPositionOP, facetKey, appSchema, useDefinitionAsKey);\n    // Anchor selection\n    const positionId = useDefinitionAsKey\n        ? `${DefinitionName.CustomActionPositionOP}<${lineItemId}>`\n        : DefinitionName.CustomActionPositionOP;\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addEnumForActionAnchor(appSchema, schemaIdForActions, positionId);\n}\n\n/**\n * Object Page specific custom action enhancements to header and footer\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {DefinitionName} customActionDefinitionKey custom action key used in definitions\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addHeaderFooterCustomActionsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    customActionDefinitionKey: DefinitionName.CustomHeaderActionOP | DefinitionName.CustomFooterActionOP,\n    logger: ExtensionLogger\n) {\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = CUSTOM_ACTION_DEFINITION_DESCRIPTION;\n    const schemaIdForActions =\n        customActionDefinitionKey === DefinitionName.CustomHeaderActionOP\n            ? DefinitionName.ObjectPageHeaderActions\n            : DefinitionName.FooterActions;\n    addHeaderFooterCustomActionDefinition(appSchema, v4Page, logger, customActionDefinitionKey, schemaIdForActions);\n    const facetKey =\n        customActionDefinitionKey === DefinitionName.CustomHeaderActionOP\n            ? DefinitionName.CustomHeaderActionPositionOP\n            : DefinitionName.CustomFooterActionPositionOP;\n    parseSchemaDefinition(facetKey, facetKey, appSchema, false);\n    // Anchor selection\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${facetKey}`;\n    addEnumForActionAnchor(appSchema, schemaIdForActions, facetKey);\n    if (appSchema.definitions[schemaIdForActions]) {\n        (appSchema.definitions[schemaIdForActions] as Definition).additionalProperties = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customActionDefinitionKey}`\n        };\n    }\n}\n\n/**\n * Object Page specific enhancements to handleFormIdentification\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} formItemId - identifier of the current form in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addFormCustomActionsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    formItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    const useDefinitionAsKey = true;\n    const customActionDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomFormActionOP}<${formItemId}>`\n        : DefinitionName.CustomFormActionOP;\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = CUSTOM_ACTION_DEFINITION_DESCRIPTION;\n    const schemaId = `${DefinitionName.CustomFormActionOP}<${formItemId}>`;\n    const schemaIdForActions = `${DefinitionName.SectionActions}<${prepareRef(formItemId)}>`;\n    addCustomActionDefinition(appSchema, v4Page, logger, schemaId, schemaIdForActions, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? formItemId : DefinitionName.CustomActionPositionOP;\n    parseSchemaDefinition(DefinitionName.CustomActionPositionOP, facetKey, appSchema, useDefinitionAsKey);\n    // Anchor selection\n    const positionId = useDefinitionAsKey\n        ? `${DefinitionName.CustomActionPositionOP}<${formItemId}>`\n        : DefinitionName.CustomActionPositionOP;\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addEnumForActionAnchor(appSchema, schemaIdForActions, positionId);\n    if (appSchema.definitions[schemaIdForActions]) {\n        (appSchema.definitions[schemaIdForActions] as Definition).additionalProperties = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customActionDefinitionKey}`\n        };\n    }\n}\n\n/**\n * Adds definitions for line items in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {object} lineItemFacet - current lineItem facet\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction handleLineItem(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    lineItemFacet: object,\n    oDataServiceAVT: ConvertedMetadata,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger\n): Definition {\n    const lineItemId = getFacetKeyInSchema(facetKey);\n    const index = facetKey.lastIndexOf('::');\n    const annotation = index > -1 ? facetKey.substring(index + 2) : facetKey;\n    const tableDefinition = parseSchemaDefinition(DefinitionName.ObjectPageTable, facetKey, appSchema);\n    if (facet.entityType && annotation) {\n        tableDefinition[SchemaTag.annotationPath] = `/${facet.entityType.fullyQualifiedName}/${annotation}`;\n    }\n    tableDefinition.properties.columns = {\n        $ref: `${DEFINITION_LINK_PREFIX}${lineItemId}`\n    };\n    (tableDefinition.properties.toolBar as Definition).$ref = getFacetDefinitionLink(\n        DefinitionName.ObjectPageToolBar,\n        facetKey\n    );\n    //adjust quickVariantSelection\n    (tableDefinition.properties.quickVariantSelection as Definition).$ref = getFacetDefinitionLink(\n        DefinitionName.QuickVariantSelectionV4OP,\n        facetKey\n    );\n    const tableQVS = parseSchemaDefinition(DefinitionName.QuickVariantSelectionV4OP, facetKey, appSchema);\n    tableQVS.properties.paths['items'].$ref = getFacetDefinitionLink(DefinitionName.AnnotationPathAsObject, facetKey);\n    parseSchemaDefinition(DefinitionName.AnnotationPathAsObject, facetKey, appSchema);\n\n    addEnumForSingleTabVariant(facet.entityType, appSchema, `${DefinitionName.AnnotationPathAsObject}<${lineItemId}>`);\n    const dataForLineItem: LineItemDataForSchema = {\n        appSchema,\n        lineItemAnnotation: lineItemFacet['target'] as AnnotationTerm<LineItem>,\n        entityType: lineItemFacet['entityType'],\n        oDataServiceAVT,\n        lineItemId\n    };\n    addLineItemsTypeToSchema(\n        dataForLineItem,\n        DefinitionName.ObjectPageTableColumn,\n        DefinitionName.CustomColumnOP,\n        DefinitionName.CustomTableActionOP\n    );\n    addCustomColumnsOP(appSchema, v4Page, lineItemId, facetKey, logger);\n    addTableCustomActionsOP(appSchema, v4Page, lineItemId, facetKey, logger);\n    return tableDefinition;\n}\n\n/**\n * Adds definitions for table section in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced.\n * @param {object} lineItemFacet - current lineItem facet\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {Definition} sections - schema of current sections definition.\n * @returns {object} sectionTable - section of app schema containing added table section\n */\nfunction handleSectionTable(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    lineItemFacet: FacetConfig,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page,\n    sections?: Definition\n): { sectionTable: Definition; table: Definition } {\n    if (sections) {\n        sections.properties[facetKey] = {\n            $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionTableV4, facetKey)\n        };\n    }\n    const sectionTable = parseSchemaDefinition(DefinitionName.ObjectPageSectionTableV4, facetKey, appSchema);\n    addSectionTitleAndDescription(facet, sectionTable, getFacetKeyInSchema(facetKey));\n    sectionTable[SchemaTag.annotationPath] = facet.annotationPath;\n    sectionTable[SchemaTag.target] = facet.namespace;\n    sectionTable.properties.table['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageTable, facetKey);\n    const table = handleLineItem(\n        facet,\n        facetKey,\n        appSchema,\n        lineItemFacet,\n        generateParameters.serviceAVT,\n        v4Page,\n        generateParameters.logger\n    );\n    return { sectionTable, table };\n}\n\n/**\n * Adds definitions for Identification and Form facet items in object page sections to the app schema\n * @param {FacetConfig} facet - current facet\n * @param {v4.SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} facetKey - facet key\n * @param {object} sections - schema of current sections definition\n * @param {object} appSchema - app specific schema that potentially gets enhanced\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction handleFormIdentification(\n    facet: FacetConfig,\n    v4Page: v4.SapUiAppPageV4,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    logger: ExtensionLogger\n) {\n    let definitionType: DefinitionName;\n    if (sectionPrefix === SectionType.Section) {\n        definitionType = DefinitionName.ObjectPageSectionForm;\n    } else if (sectionPrefix === SectionType.HeaderSection) {\n        definitionType = DefinitionName.ObjectPageHeaderSectionForm;\n    }\n    sections['properties'][facetKey] = {\n        $ref: getFacetDefinitionLink(definitionType, facetKey)\n    };\n    const formSection: Definition = parseSchemaDefinition(definitionType, facetKey, appSchema);\n    if (!facet.ID) {\n        formSection.properties = {};\n    }\n    addSectionTitleAndDescription(facet, formSection, facetKey);\n    formSection[SchemaTag.annotationPath] = facet.annotationPath;\n    formSection[SchemaTag.target] = facet.namespace;\n    formSection[SchemaTag.isViewNode] = true;\n    const targetId = handleForm(sectionPrefix, facet, formSection, appSchema, FioriElementsVersion.v4, facetKey);\n    if (facet.base === FacetBase.Form) {\n        const formItemId = getFacetKeyInSchema(facetKey);\n        parseSchemaDefinition(DefinitionName.CustomFormActionOP, targetId, appSchema);\n        addFormCustomActionsOP(appSchema, v4Page, targetId, formItemId, logger);\n    }\n}\n\n/**\n * Adds definitions for header sections (DataPoint, Chart) in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} facetDefinitionKey - key to identify new definition\n */\nfunction handleHeaderFacet(\n    facet: FacetConfig,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    facetDefinitionKey: string\n) {\n    sections['properties'][facetKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${facetDefinitionKey}`\n    };\n    const sectionFacet = parseSchemaDefinition(\n        DefinitionName.CommonHeaderFacetSettings,\n        facetDefinitionKey,\n        appSchema,\n        false\n    );\n    addTargetTitleAndSectionDescription(facet, sectionFacet, facetKey);\n    sectionFacet[SchemaTag.annotationPath] = facet.annotationPath;\n    sectionFacet[SchemaTag.target] = facet.namespace;\n    sectionFacet[SchemaTag.dataType] = determineDataTypeOfTarget(facet?.target);\n    sectionFacet[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Adds definitions for Chart items in object page sections to the app schema\n * @param {FacetConfig | Chart | object} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleChartActions(\n    facet: FacetConfig | Chart | object,\n    facetKey: string,\n    appSchema: Definition,\n    entityType: EntityType\n): Definition {\n    const actions = parseSchemaDefinition(DefinitionName.ObjectPageToolBarActions, facetKey, appSchema);\n    actions.additionalProperties = false;\n    actions.properties = {};\n    if ((facet as Chart).Actions) {\n        let i = 0;\n        (facet as Chart).Actions.forEach((actionRecord) => {\n            const description = getDataFieldDescription(actionRecord as DataFieldAbstractTypes, entityType);\n            const prefix = actionRecord.$Type.split(UIVOCABULARYDOT)[1];\n            const actionId = (actionRecord.Action as string).replace('/', '::');\n            const toolBarActionsProperty = (actions.properties[`${prefix}::${actionRecord.Action}`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageToolBarAction, actionId),\n                description\n            });\n            toolBarActionsProperty[SchemaTag.propertyIndex] = i;\n            toolBarActionsProperty[SchemaTag.annotationType] = actionRecord.$Type;\n            const toolBarAction = parseSchemaDefinition(\n                DefinitionName.ObjectPageToolBarAction,\n                prepareRef(actionId),\n                appSchema\n            );\n            toolBarAction[SchemaTag.annotationPath] = getFacetAnnotationPath(actionRecord);\n            toolBarAction[SchemaTag.dataType] = determineDataType(actionRecord);\n            toolBarAction.properties = {};\n            i++;\n        });\n    }\n    return actions;\n}\n\n/**\n * Adds definitions for Chart items in object page sections to the app schema\n * @param {FacetConfig | Chart | object} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleChart(\n    facet: FacetConfig | Chart | object,\n    facetKey: string,\n    appSchema: Definition,\n    entityType?: EntityType\n): { chart: Definition; chartActions: Definition } {\n    const chart = parseSchemaDefinition(DefinitionName.ObjectPageChart, facetKey, appSchema);\n    if (facet['Title']) {\n        chart.description = facet['Title'];\n    }\n    chart[SchemaTag.annotationPath] = getFacetAnnotationPath(facet as PresentationVariantV4);\n    chart[SchemaTag.dataType] = determineDataTypeOfTarget((facet as FacetConfig).target || facet);\n    chart[SchemaTag.isViewNode] = true;\n    chart.properties.toolBar['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageToolBar, facetKey);\n    const chartToolBar = parseSchemaDefinition(DefinitionName.ObjectPageToolBar, facetKey, appSchema);\n\n    chartToolBar.properties.actions['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageToolBarActions, facetKey);\n    const chartActions = handleChartActions(facet, facetKey, appSchema, entityType);\n    return { chart, chartActions };\n}\n\n/**\n * Adds definitions for Chart section in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {object} sections - schema of current sections definition.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleSectionChart(\n    facet: FacetConfig | Chart,\n    facetKey: string,\n    appSchema: Definition,\n    sections?: Definition,\n    entityType: EntityType = (facet as FacetConfig).entityType\n): { sectionChart: Definition; chart: Definition; chartActions?: Definition } {\n    if (sections) {\n        sections.properties[facetKey] = {\n            $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionChart, facetKey)\n        };\n    }\n    const sectionChart = parseSchemaDefinition(DefinitionName.ObjectPageSectionChart, facetKey, appSchema);\n    addTargetTitleAndSectionDescription(facet as FacetConfig, sectionChart, facetKey);\n\n    sectionChart[SchemaTag.annotationPath] = getFacetAnnotationPath(facet);\n    sectionChart.properties.chart['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageChart, facetKey);\n    const { chart, chartActions } = handleChart(\n        (facet as FacetConfig).target || facet,\n        facetKey,\n        appSchema,\n        entityType\n    );\n    return { sectionChart, chart, chartActions };\n}\n\n/**\n * Adds definitions for presentation variants in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {object} sections - schema of current sections definition.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction handleSectionPresentationVariant(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    sections: Definition,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4\n) {\n    let facetTarget, visualizationKey, target;\n    const visualizations = (facet.target as PresentationVariant).Visualizations;\n    const navPath = facetKey.lastIndexOf('::') > 0 ? facetKey.slice(0, facetKey.lastIndexOf('::')) : undefined;\n    if (visualizations?.[0]) {\n        if (visualizations[0].$target) {\n            facetTarget = visualizations[0].$target;\n            visualizationKey = `@${facetTarget.fullyQualifiedName.split('@')[1].split('/')[0]}`;\n            target = facetTarget;\n        } else {\n            facetTarget = visualizations[0];\n            visualizationKey =\n                '@' +\n                replaceAlias(`${facetTarget.targetString.split('@')[1].split('/')[0]}`, generateParameters.serviceAVT);\n            const navigationProp = generateParameters.entityType.navigationProperties.find((prop) => {\n                return prop.name === navPath;\n            });\n            const targetType = navigationProp.targetType;\n            target = targetType.annotations.UI[visualizationKey.split(UIVOCABULARYDOT)[1]];\n        }\n    }\n    if (facetTarget) {\n        const visualizationType = visualizationKey.split(UIVOCABULARYDOT)[1];\n        const namespace = facet.target[SchemaTag.fullyQualifiedName].split('@')[0];\n        const fullVisualizationKey = navPath ? `${navPath}::${visualizationKey}` : visualizationKey;\n\n        if (visualizationType.startsWith(Visualization.Chart)) {\n            sections.properties[`${facetKey}<${visualizationKey}>`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionChart, fullVisualizationKey)\n            };\n            const { sectionChart, chart } = handleSectionChart(\n                facetTarget as Chart,\n                fullVisualizationKey,\n                appSchema,\n                undefined,\n                facet.entityType\n            );\n            sectionChart[SchemaTag.annotationPath] = facet.annotationPath;\n            addTargetTitleAndSectionDescription(facet, sectionChart, facetKey);\n            chart[SchemaTag.annotationPath] = `/${namespace}/${visualizationKey}`;\n            chart[SchemaTag.target] = namespace;\n        } else if (visualizationType.startsWith(Visualization.LineItem)) {\n            sections.properties[`${facetKey}<${visualizationKey}>`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionTableV4, fullVisualizationKey)\n            };\n            const { sectionTable, table } = handleSectionTable(\n                facet,\n                fullVisualizationKey,\n                appSchema,\n                { target, entityType: facet.entityType } as FacetConfig,\n                generateParameters,\n                v4Page\n            );\n            sectionTable[SchemaTag.annotationPath] = facet.annotationPath;\n            addTargetTitleAndSectionDescription(facet, sectionTable, facetKey);\n            delete sectionTable[SchemaTag.isViewNode];\n            table[SchemaTag.annotationPath] = `/${namespace}/${visualizationKey}`;\n            table[SchemaTag.target] = namespace;\n        }\n    }\n}\n\n/**\n * Adds definitions for collections in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {Definition} sections - schema of current sections definition.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction handleCollection(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    sections: Definition,\n    sectionPrefix: SectionType,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4\n) {\n    const collectionFacet = (sections.properties[facetKey] = createDefaultSection(appSchema, facet, facetKey));\n    collectionFacet.properties = {\n        subsections: {\n            additionalProperties: false,\n            type: 'object',\n            properties: {},\n            description: 'Subsections'\n        }\n    };\n    const subSections = collectionFacet.properties.subsections;\n    subSections[SchemaTag.annotationPath] = facet.annotationPath;\n    subSections[SchemaTag.target] = facet.namespace;\n    subSections[SchemaTag.keys] = [\n        {\n            name: SchemaKeyName.id,\n            value: facet.ID\n        }\n    ];\n    subSections[SchemaTag.isViewNode] = true;\n    for (const key in facet.facets) {\n        addSection(generateParameters, facet.facets, key, subSections as Definition, appSchema, sectionPrefix, v4Page);\n    }\n}\n\n/**\n * Creates a section definition in app schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {FacetConfigs} facets - list of all facets.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction addSection(\n    generateParameters: GenerateAppSchemaParameters,\n    facets: FacetConfigs,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    const facet: FacetConfig = facets[facetKey];\n    const facetDefinitionKey = `ObjectPage${sectionPrefix}${facet.base}<${getFacetKeyInSchema(facetKey)}>`;\n    switch (facet.base) {\n        case FacetBase.PresentationVariant: {\n            handleSectionPresentationVariant(facet, facetKey, appSchema, sections, generateParameters, v4Page);\n            break;\n        }\n        case FacetBase.CollectionFacet: {\n            handleCollection(facet, facetKey, appSchema, sections, sectionPrefix, generateParameters, v4Page);\n            break;\n        }\n        case FacetBase.LineItem: {\n            if (sectionPrefix === SectionType.Section) {\n                const lineItemFacet = facets[facetKey];\n                handleSectionTable(facet, facetKey, appSchema, lineItemFacet, generateParameters, v4Page, sections);\n            }\n            break;\n        }\n        case FacetBase.Form:\n        case FacetBase.Identification: {\n            handleFormIdentification(\n                facet,\n                v4Page,\n                facetKey,\n                sections,\n                appSchema,\n                sectionPrefix,\n                generateParameters.logger\n            );\n            break;\n        }\n        case FacetBase.DataPoint: {\n            handleHeaderFacet(facet, facetKey, sections, appSchema, facetDefinitionKey);\n            break;\n        }\n        case FacetBase.Chart: {\n            if (sectionPrefix === SectionType.HeaderSection) {\n                handleHeaderFacet(facet, facetKey, sections, appSchema, facetDefinitionKey);\n            } else if (sectionPrefix === SectionType.Section) {\n                handleSectionChart(facet, facetKey, appSchema, sections);\n            }\n            break;\n        }\n        case FacetBase.Address:\n        case FacetBase.Contact: {\n            handleAddressContact(facet, facetKey, sections, appSchema, sectionPrefix);\n            break;\n        }\n        default: {\n            sections['properties'][facetKey] = createDefaultSection(appSchema, facet, facetKey);\n        }\n    }\n}\n\n/**\n * Derives the sections from the UI.Facets annotation and adds them to the schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} appSchema - application specific JSON schema\n * @param {SapUiAppPageV4} v4Page - current page\n */\nfunction addSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageFacets(\n        generateParameters.entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v4,\n        generateParameters.logger\n    );\n    if (!facets) {\n        delete appSchema.definitions[DefinitionName.ObjectPageSubSections];\n        return;\n    }\n\n    const sections = appSchema.definitions[DefinitionName.Sections] as Definition;\n\n    for (const facetKey in facets) {\n        addSection(generateParameters, facets, facetKey, sections, appSchema, SectionType.Section, v4Page);\n    }\n    // Custom sections as part of sections\n    if (appSchema.definitions[DefinitionName.CustomSections]) {\n        sections.properties = {\n            ...sections.properties,\n            ...(appSchema.definitions[DefinitionName.CustomSections] as Definition).properties\n        };\n    }\n}\n\n/**\n * Derives the header sections from the UI.HeaderFacets annotation and adds them to the schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} appSchema - application specific JSON schema\n * @param {EntityType} entityType - current entity type\n * @param {SapUiAppPageV4} v4Page - current page in manifest\n */\nfunction addHeaderSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    entityType: EntityType,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageHeaderFacets(\n        entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v4,\n        generateParameters.logger\n    );\n    const sections = appSchema.definitions[DefinitionName.HeaderSections] as Definition;\n    sections.properties = {};\n    sections.additionalProperties = false;\n\n    if (!facets) {\n        return;\n    }\n    for (const facetKey in facets) {\n        addSection(generateParameters, facets, facetKey, sections, appSchema, SectionType.HeaderSection, v4Page);\n    }\n    //delete generic definitions\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionForm];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionDataPoint];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionContact];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionAddress];\n}\n\n/**\n * Adds the related facets keys 'enum' to the app schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} schema - app specific schema that potentially gets enhanced\n * @param {SapUiAppPageV4[]} pages - list of all pages\n * @param {string} contextPath - contextPath of the actual (object) page\n */\nfunction addRelatedFacetKeysType(\n    generateParameters: GenerateAppSchemaParameters,\n    schema: object,\n    pages: v4.SapUiAppPageV4[],\n    contextPath: string\n): void {\n    Object.keys(pages).forEach((element) => {\n        if (\n            pages[element].options &&\n            pages[element].options.settings &&\n            (pages[element].options.settings.entitySet === generateParameters?.entitySet?.name ||\n                (contextPath && pages[element].options.settings.contextPath === contextPath)) &&\n            pages[element].name === v4.FE_TEMPLATE_V4_OBJECT_PAGE\n        ) {\n            // Find sections from annotation\n            const facetSections: FacetSection[] = getObjectPageFacetSection(\n                generateParameters.entityType,\n                generateParameters.serviceAVT,\n                generateParameters.logger\n            );\n            // Find custom sections ids from manifest\n            const page: v4.SapUiAppPageV4 = pages[element];\n            if (\n                page.options &&\n                page.options.settings &&\n                page.options.settings.content &&\n                page.options.settings.content.body &&\n                page.options.settings.content.body.sections\n            ) {\n                Object.keys(page.options.settings.content.body.sections).forEach(function (key) {\n                    // Just in case - avoid duplications\n                    if (!facetSections.find((section: FacetSection) => section.key === key)) {\n                        facetSections.push({\n                            key,\n                            custom: true\n                        });\n                    }\n                });\n            }\n            // Update schema definition\n            addDefinitionForRelatedFacetKeys(schema, [DefinitionName.ObjectPageCustomSectionFragment], facetSections, [\n                'ID',\n                'label',\n                'key'\n            ]);\n        }\n    });\n}\n\n/**\n * Add Object Page Header to app-specific schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Definition} appSchema Schema of the app\n * @param {SapUiAppPageV4} v4Page - current page in manifest\n */\nfunction addHeader(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    const entityType = generateParameters.entityType;\n    addCommonHeaderSchema(appSchema, entityType);\n\n    // Add header actions\n    addHeaderActions(appSchema, entityType, generateParameters.serviceAVT, addHeaderActionCallBackV4);\n\n    // Add custom header actions\n    addHeaderFooterCustomActionsOP(appSchema, v4Page, DefinitionName.CustomHeaderActionOP, generateParameters.logger);\n\n    // Add header sections\n    appSchema.definitions[DefinitionName.HeaderSections][\n        SchemaTag.annotationPath\n    ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.HeaderFacets}`;\n    addHeaderSections(generateParameters, appSchema, entityType, v4Page);\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n * @param contextPath - contextPath of the given page\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageSchemaV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    contextPath: string\n): object {\n    const appSchema: Definition = JSON.parse(JSON.stringify(genericSchema));\n\n    // Change reference to generated sections\n    appSchema.properties.sections = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.Sections}`\n    };\n\n    if (\n        !generateParameters.manifest[ManifestSection.ui5].routing ||\n        !generateParameters.manifest[ManifestSection.ui5].routing.targets\n    ) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH\n            }\n        });\n        return appSchema;\n    }\n\n    //initialize sections\n    const sections = (appSchema.definitions[DefinitionName.Sections] = {\n        type: 'object',\n        properties: {},\n        additionalProperties: false,\n        description: DefinitionName.Sections\n    } as Definition);\n    sections[SchemaTag.isViewNode] = true;\n    if (generateParameters.entityType) {\n        const pages = generateParameters.manifest[ManifestSection.ui5].routing\n            .targets as unknown as v4.SapUiAppPageV4[];\n        if (!pages) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        const v4Page = findPageV4(\n            pages,\n            v4.FE_TEMPLATE_V4_OBJECT_PAGE,\n            generateParameters.entitySet,\n            contextPath,\n            generateParameters.logger\n        );\n        if (!v4Page) {\n            return appSchema;\n        }\n\n        // Add Header\n        addHeader(generateParameters, appSchema, v4Page);\n\n        // Add sections\n        sections[SchemaTag.isViewNode] = true;\n        sections[\n            SchemaTag.annotationPath\n        ] = `/${generateParameters.entityType.fullyQualifiedName}/@${UIAnnotationTerms.Facets}`;\n        addSections(generateParameters, appSchema, v4Page);\n\n        // Custom Section facets\n        addRelatedFacetKeysType(generateParameters, appSchema, pages, contextPath);\n\n        // Add Footer (actions only)\n        addFooterActions(appSchema, generateParameters, FioriElementsVersion.v4, addFooterActionCallBackV4);\n        addHeaderFooterCustomActionsOP(\n            appSchema,\n            v4Page,\n            DefinitionName.CustomFooterActionOP,\n            generateParameters.logger\n        );\n    }\n    // Delete generic definitions from schema\n    delete appSchema.definitions[DefinitionName.CommonHeaderFacetSettings];\n    delete appSchema.definitions[DefinitionName.GenericColumnsOP];\n    delete appSchema.definitions[DefinitionName.GenericSections];\n    delete appSchema.definitions[DefinitionName.ObjectPageChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionAddress];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionContact];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionDataPoint];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionForm];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionTableV4];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionPresentationVariant];\n    delete appSchema.definitions[DefinitionName.ObjectPageSubSections];\n    delete appSchema.definitions[DefinitionName.ObjectPageTable];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBar];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBarAction];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBarActions];\n    delete appSchema.definitions[DefinitionName.QuickVariantSelectionV4OP];\n    updatePropertyIndices(appSchema, ROOT_PROPERTIES_ORDER);\n    return appSchema;\n}\n", "import type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\n\n/**\n * Generates an app specific schema for the FE V4 Freestyle page from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n *\n * @returns {object} application-specific schema of the freestyle page\n */\nexport function generateFreestyleSchemaV4(\n    _generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object\n): object {\n    return JSON.parse(JSON.stringify(genericSchema));\n}\n", "import type { DefinitionOrBoolean } from 'typescript-json-schema';\nimport type { ConvertedMetadata } from '@sap-ux/vocabularies-types';\nimport type {\n    ExtensionLogger,\n    MacrosXMLPath,\n    SchemaDefinition,\n    MacrosSchemaMetadata\n} from '@sap/ux-specification-types';\nimport { MacrosPropertyType } from '@sap/ux-specification-types';\nimport { getDefinitionsRef, getDefinitionKey } from '../../../common/utils';\nimport { parseXML } from '../../utils/macros';\nimport type { XMLElement } from '@xml-tools/ast';\nimport { annotationMacrosHandlers } from './annotations';\nimport { handleExtensions } from './extensions';\nimport type { CustomPageCustomViewData, CustomPageConnection } from '../../types';\n\nconst MACROS_NAMESPACE = 'sap.fe.macros';\n// List of properties which should be used to describe schema view nodes\nconst descriptionProperties = ['id', 'key', 'title', 'text', 'label', 'header'];\n\ninterface UI5Depenencies {\n    [key: string]: string;\n}\n\ninterface XMLParseParams {\n    macrosPrefix: string;\n    schema: SchemaDefinition;\n    dependencies: UI5Depenencies;\n    index: number;\n    isUnique: boolean;\n    path: MacrosXMLPath;\n    serviceAVT: ConvertedMetadata;\n    connectionContext: CustomPageConnection;\n}\n\n/**\n * Method returns full element name by concating name and namespace.\n * @param {XMLElement} element Parsed XML element.\n * @returns {string} Full name of element including namespace.\n */\nfunction getElementName(element: XMLElement): string {\n    const { ns, name } = element;\n    if (ns) {\n        return `${ns}:${name}`;\n    }\n    return name;\n}\n\n/**\n * Method checks if passed XML element is defined within passed namespace.\n * @param {XMLElement} element Parsed XML element.\n * @param {string} namespacePrefix Namespace prefix.\n * @returns {boolean} Is element defined within passed namespace.\n */\nfunction isElementWithNamespace(element: XMLElement, namespacePrefix: string): boolean {\n    const { ns = '' } = element;\n    if (!namespacePrefix) {\n        return !ns;\n    } else {\n        return ns === namespacePrefix;\n    }\n}\n\n/**\n * Method returns all dependecies defined in passed core SAPUI5 XML element.\n * @param {XMLElement} coreElement Parsed XML element.\n * @returns {UI5Depenencies} Object with dependencies.\n */\nfunction getDependencies(coreElement: XMLElement): UI5Depenencies {\n    const dependencies: UI5Depenencies = {};\n    const coreAttributes = coreElement.attributes || [];\n    for (const attr of coreAttributes) {\n        const { key, value } = attr;\n        let accesor = '';\n        const namespaceConst = 'xmlns:';\n        if (key.startsWith(namespaceConst)) {\n            accesor = key.substring(namespaceConst.length);\n        }\n        dependencies[value] = accesor;\n    }\n    return dependencies;\n}\n\n/**\n * Method returns description for passed view node.\n * @param {XMLElement} node Parsed XML element.\n * @param {string} name View node name.\n * @returns {string} Description for view node.\n */\nfunction getViewNodeDescription(node: XMLElement, name: string): string {\n    let description = '';\n    const attributes = node.attributes || [];\n    for (const attributeName of descriptionProperties) {\n        const attr = attributes.find((attribute) => attribute.key === attributeName);\n        if (attr) {\n            const prefix = attributeName === 'id' ? '#' : '';\n            description = `${prefix}${attr.value}`;\n            break;\n        }\n    }\n    return description ? `${name} ${description}` : name;\n}\n\n/**\n * Method finds available name for properties in schema's properties.\n * @param {string} name Original property name.\n * @param {{ [k: string]: SchemaDefinition }} properties Object with existing properties.\n * @returns {string} Available name in properties.\n */\nfunction findAvailableName(name: string, properties: { [k: string]: DefinitionOrBoolean }): string {\n    let availableName = name;\n    let index = 2;\n    while (availableName in properties) {\n        availableName = `${name}${index}`;\n        index++;\n    }\n\n    return availableName;\n}\n\n/**\n * Method prepares schema 'properties' for passed schema by resolving '$ref' property.\n * @param {SchemaDefinition} schema Schema node to update.\n * @param {SchemaDefinition} fullSchema Full schema object which contains definitions.\n */\nfunction prepareSchemaProperties(schema: SchemaDefinition, fullSchema: SchemaDefinition): void {\n    schema.properties = {};\n    if (schema.$ref) {\n        const key = getDefinitionKey(schema.$ref);\n        const definition = fullSchema.definitions[key] as SchemaDefinition;\n        if (typeof definition === 'object' && definition.properties) {\n            schema.type = definition.type;\n            schema.isViewNode = definition.isViewNode;\n            schema.properties = JSON.parse(JSON.stringify(definition.properties));\n        }\n        delete schema.$ref;\n    }\n}\n\n/**\n * Method handles attributes of xml node and stores range position to schema.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object containing properties matching to element attributes.\n * @param {SchemaDefinition} fullSchema Full schema object which contains definitions.\n */\nfunction handleAttributes(node: XMLElement, schema: SchemaDefinition, fullSchema: SchemaDefinition): void {\n    if (!schema.properties) {\n        prepareSchemaProperties(schema, fullSchema);\n    }\n    const { properties = {} } = schema;\n    for (const attr of node.attributes) {\n        const property = properties[attr.key] as SchemaDefinition;\n        if (property && property.metadata) {\n            property.metadata.position = attr.position;\n        }\n    }\n}\n\n/**\n * Method adds control or complex property to schema's properties.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object to update with new property.\n * @param {XMLParseParams} params XML parsing params.\n * @param {string} name Property name.\n * @returns {string} Added property name.\n */\nfunction addControlToSchema(node: XMLElement, schema: SchemaDefinition, params: XMLParseParams, name: string): string {\n    const fullSchema = params.schema;\n    if (!schema.properties) {\n        prepareSchemaProperties(schema, fullSchema);\n    }\n    const schemaProperty = schema.properties[name] as SchemaDefinition;\n    const metadata: MacrosSchemaMetadata = {\n        path: params.path,\n        type: schemaProperty?.metadata?.type,\n        position: node.position\n    };\n    const objectKey = schemaProperty?.metadata?.path?.length ? findAvailableName(name, schema.properties) : name;\n    let refs: string[] = [];\n    if (schemaProperty?.$ref) {\n        refs.push(getDefinitionKey(schemaProperty.$ref));\n    } else {\n        refs = [`${MACROS_NAMESPACE}.${name}`, `${MACROS_NAMESPACE}.table.${name}`];\n    }\n    let handled = false;\n    for (const ref of refs) {\n        const refDefinition = fullSchema.definitions?.[ref] as SchemaDefinition;\n        if (typeof refDefinition !== 'object') {\n            continue;\n        }\n        const description = getViewNodeDescription(node, name);\n        if (!metadata.type) {\n            metadata.type = refDefinition.metadata.type;\n        }\n        if (metadata.type === MacrosPropertyType.Control) {\n            metadata.controlName = ref;\n        }\n        const newDefinition: SchemaDefinition = {\n            $ref: getDefinitionsRef(ref),\n            description,\n            propertyIndex: params.index,\n            metadata\n        };\n        handleAttributes(node, newDefinition, fullSchema);\n        schema.properties[objectKey] = newDefinition;\n        handled = true;\n        // Call annotation handler\n        annotationMacrosHandlers[ref]?.({\n            ...params,\n            node,\n            schema: newDefinition,\n            rootSchema: params.schema\n        });\n\n        break;\n    }\n    if (!handled) {\n        if (!schemaProperty?.properties) {\n            // Unknown definition\n            const newDefinition: SchemaDefinition = {\n                properties: {},\n                isViewNode: true,\n                type: 'object',\n                description: name,\n                propertyIndex: params.index,\n                metadata\n            };\n            schema.properties[objectKey] = newDefinition;\n        } else {\n            schemaProperty.metadata = metadata;\n        }\n    }\n\n    return objectKey;\n}\n\n/**\n * Method adds property to schema's properties.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object to update with new property.\n * @param {XMLParseParams} params XML parsing params.\n * @param {string} name Property name.\n * @returns {string} Added property name.\n */\nfunction handleXMLNode(node: XMLElement, schema: SchemaDefinition, params: XMLParseParams): void {\n    const { macrosPrefix } = params;\n    const parentSchema = schema.$ref ? params.schema.definitions?.[getDefinitionKey(schema.$ref)] : schema;\n    if (\n        isElementWithNamespace(node, macrosPrefix) ||\n        (typeof parentSchema === 'object' && parentSchema.properties?.[node.name])\n    ) {\n        const names = node.name.split(':');\n        const name = addControlToSchema(node, schema, params, names[names.length - 1]);\n        // Go deeper in schema\n        schema = schema.properties[name] as SchemaDefinition;\n    }\n    const { subElements = [] } = node;\n    const uniqueKeys: { [key: string]: boolean } = {};\n    for (let index = 0; index < subElements.length; index++) {\n        const element = subElements[index];\n        const isUnique = !uniqueKeys[element.name];\n        uniqueKeys[element.name] = true;\n        handleXMLNode(element, schema, {\n            ...params,\n            isUnique,\n            index,\n            path: [\n                ...params.path,\n                {\n                    name: getElementName(element),\n                    index\n                }\n            ]\n        });\n    }\n    // Post process schema\n    handleExtensions(node, schema, params.schema);\n}\n\n/**\n * Method generates schema for passed XML content.\n * @param {SchemaDefinition} genericSchema Generic schema of \"sap.fe.macros\".\n * @param {string} xmlFile Object with xml file.\n * @param {ConvertedMetadata} serviceAVT OData metadata.\n * @param {ExtensionLogger} [logger] - Logger class for logging messages.\n * @returns {SchemaDefinition} Generated schema for passed XML content.\n */\nexport function generateCustomPageSchemaV4(\n    genericSchema: SchemaDefinition,\n    xmlFile: CustomPageCustomViewData,\n    serviceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger\n): SchemaDefinition | undefined {\n    const viewDocument = parseXML(xmlFile.file, true, logger);\n    if (!viewDocument) {\n        return undefined;\n    }\n    let schema: SchemaDefinition | undefined = undefined;\n    const coreElement = viewDocument.rootElement;\n    const dependencies = getDependencies(coreElement);\n    const macrosPrefix = dependencies[MACROS_NAMESPACE];\n    if (macrosPrefix !== undefined) {\n        // Macros supported\n        schema = JSON.parse(JSON.stringify(genericSchema));\n        const uniqueKeys: { [key: string]: boolean } = {};\n        for (let index = 0; index < coreElement.subElements.length; index++) {\n            const element = coreElement.subElements[index];\n            const isUnique = !uniqueKeys[element.name];\n            uniqueKeys[element.name] = true;\n            handleXMLNode(element, schema, {\n                macrosPrefix,\n                schema,\n                dependencies,\n                index,\n                isUnique,\n                path: [\n                    {\n                        name: getElementName(element),\n                        index\n                    }\n                ],\n                serviceAVT,\n                connectionContext: xmlFile.connection\n            });\n        }\n    }\n\n    return schema;\n}\n", "import { xml2js } from 'xml-js';\nimport type { Element } from 'xml-js';\nimport { buildAst } from '@xml-tools/ast';\nimport type { XMLDocument } from '@xml-tools/ast';\nimport { parse } from '@xml-tools/parser';\nimport type { DocumentCstNode } from '@xml-tools/parser';\nimport i18next from 'i18next';\nimport type { MacrosXMLPath, ExtensionLogger, FileData, SchemaDefinition } from '@sap/ux-specification-types';\nimport { LogSeverity } from '@sap/ux-specification-types';\nimport { getDefinitionKey, getErrorMessage } from '../../common/utils';\nimport { log } from '../../../extensionLogger';\n\nexport interface TraverseData {\n    fullSchema: SchemaDefinition;\n    schema: SchemaDefinition;\n    element: Element;\n    contextPath: MacrosXMLPath;\n    config: object;\n    parent?: TraverseData;\n}\n\nexport type TraverseCallback = (\n    traverseData: TraverseData,\n    property: SchemaDefinition,\n    config: object,\n    name: string\n) => boolean;\n\n/**\n * Method finds element by XML path.\n * @param {Element} element Element to look in.\n * @param {MacrosXMLPath} path XML path to search.\n * @returns {Element | undefined} Element is returned if element found by passed path.\n */\nfunction findElementByXMLPath(element: Element, path: MacrosXMLPath): Element | undefined {\n    let currentElement: Element | undefined = element;\n    for (const subPath of path) {\n        currentElement = currentElement.elements?.[subPath.index];\n    }\n    return currentElement;\n}\n\n/**\n * Method ensures that inner object exists for passed property name.\n * @param {object} obj Object to check and update.\n * @param {string} name Property name in object to check and update.\n * @returns {boolean} True if object created.\n */\nfunction ensureObjectExists(obj: object, name: string): boolean {\n    if (!obj[name]) {\n        obj[name] = {};\n        return true;\n    }\n    return false;\n}\n\n/**\n * Method traverses schema together with XML element.\n * @param {TraverseData} traverseData Traverse data object.\n * @param {TraverseCallback} callback Callbck to handle export or import.\n * @returns {boolean} Is changes applied during export or import.\n */\nexport function traverseSchema(traverseData: TraverseData, callback: TraverseCallback): boolean {\n    const { schema, element, contextPath, config, fullSchema } = traverseData;\n    let { properties = {} } = schema;\n    let differs = false;\n    if (schema.$ref && !schema.properties) {\n        const key = getDefinitionKey(schema.$ref);\n        const definition = fullSchema.definitions[key];\n        if (typeof definition === 'object' && definition.properties) {\n            properties = definition.properties;\n        }\n    }\n    for (const name in properties) {\n        const property = properties[name];\n        if (typeof property !== 'object') {\n            continue;\n        }\n        // Check if object contains \"metadata\" to map with XML element\n        if (property['metadata']?.['path']?.length) {\n            const path = property['metadata']['path'];\n            const checkPath = path.slice(contextPath.length);\n            const targetElement = findElementByXMLPath(element, checkPath);\n            differs = ensureObjectExists(config, name) || differs;\n            const contextConfig = config[name];\n            differs =\n                traverseSchema(\n                    {\n                        fullSchema: traverseData.fullSchema,\n                        schema: property,\n                        element: targetElement,\n                        contextPath: path,\n                        config: contextConfig,\n                        parent: traverseData\n                    },\n                    callback\n                ) || differs;\n        } else {\n            differs = callback(traverseData, property, config, name) || differs;\n        }\n    }\n    return differs;\n}\n\n/**\n * Method parses XML file and returns parsed object.\n * @param {FileData} xmlFile XML file.\n * @param {boolean} providePositions - If true then parsing result will contain information about elements and attributes positions.\n * @param {ExtensionLogger} [logger] - Logger class for logging messages.\n * @returns {Element | undefined} Parsed XML.\n */\nexport function parseXML(xmlFile: FileData, providePositions: true, logger?: ExtensionLogger): XMLDocument | undefined;\nexport function parseXML(xmlFile: FileData, providePositions: false, logger?: ExtensionLogger): Element | undefined;\nexport function parseXML(\n    xmlFile: FileData,\n    providePositions: boolean,\n    logger?: ExtensionLogger\n): Element | XMLDocument | undefined {\n    let element: Element | XMLDocument;\n    try {\n        if (providePositions) {\n            const { cst, tokenVector } = parse(xmlFile.fileContent);\n            const xmlDocument = buildAst(cst as DocumentCstNode, tokenVector);\n            if (!xmlDocument.rootElement) {\n                // Throw exception than invalid xml string provided\n                throw new Error('Invalid XML');\n            }\n            element = xmlDocument;\n        } else {\n            element = xml2js(xmlFile.fileContent) as Element;\n        }\n    } catch (error) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('XMLPARSEFAILURE', { error: getErrorMessage(error) }),\n            location: {\n                path: xmlFile.dataSourceUri\n            }\n        });\n    }\n    return element;\n}\n", "import type { ConvertedMetadata, EntitySet, EntityType, BaseNavigationProperty } from '@sap-ux/vocabularies-types';\nimport type { XMLElement } from '@xml-tools/ast';\nimport type { SchemaDefinition } from '@sap/ux-specification-types';\nimport { UIVOCABULARY } from '@sap/ux-specification-types';\nimport type { CustomPageConnection } from '../../types';\nimport { addSelectionFields } from '../listReport';\nimport { findAlias } from '../../../common';\nimport { getAttribute } from './utils';\n\ninterface HandlerParams {\n    serviceAVT: ConvertedMetadata;\n    node: XMLElement;\n    // Current parsing context schema\n    schema: SchemaDefinition;\n    // Full schema\n    rootSchema: SchemaDefinition;\n    connectionContext: CustomPageConnection;\n}\n\ntype AnnotationMacrosHandler = (params: HandlerParams) => void;\n\n/**\n * Method returns entity type for passed macros annotation handler params.\n * @param {HandlerParams} params Macros annotation handler params containing serviceAvt and connection context information.\n * @returns {EntityType | undefined} EntityType for passed connection.\n */\nfunction getEntityTypeResolution(params: HandlerParams): EntityType | undefined {\n    const { node, serviceAVT, connectionContext } = params;\n    const contextPath = getAttribute(node, 'contextPath') || connectionContext.contextPath;\n    const entitySet = connectionContext.entitySet;\n    if (!contextPath && !entitySet) {\n        return undefined;\n    }\n    const resolvedContextPath = serviceAVT?.resolvePath<EntitySet | EntityType | BaseNavigationProperty>(\n        contextPath || `/${entitySet}`\n    );\n    let entityType: EntityType | undefined;\n    switch (resolvedContextPath?.target?.['_type']) {\n        case 'EntitySet': {\n            entityType = resolvedContextPath.target.entityType;\n            break;\n        }\n        case 'NavigationProperty': {\n            entityType = resolvedContextPath.target.targetType;\n            break;\n        }\n        case 'EntityType': {\n            entityType = resolvedContextPath.target;\n            break;\n        }\n    }\n    return entityType;\n}\n\n/**\n * Method applies annotation path for passed XML node's schema.\n * @param {HandlerParams} schema Schema to update with \"annotationPath\".\n * @param {XMLElement} node XML node of macro element.\n * @param {EntityType} [entityType] Entity type object.\n */\nfunction applyAnnotationPath(schema: SchemaDefinition, node: XMLElement, entityType?: EntityType): void {\n    const metaPath = getAttribute(node, 'metaPath');\n    if (metaPath && entityType) {\n        schema.annotationPath = `/${entityType.fullyQualifiedName}/${metaPath}`;\n    }\n}\n\n// Handlers map for macros controls\nexport const annotationMacrosHandlers: { [key: string]: AnnotationMacrosHandler } = {\n    'sap.fe.macros.Chart': (params: HandlerParams) => {\n        const entityType = getEntityTypeResolution(params);\n        applyAnnotationPath(params.schema, params.node, entityType);\n    },\n    'sap.fe.macros.FilterBar': (params: HandlerParams) => {\n        const { schema, serviceAVT, rootSchema } = params;\n        const entityType = getEntityTypeResolution(params);\n        // Handler selection fields\n        const filterFieldsDefinition = schema.properties?.filterFields;\n        if (typeof filterFieldsDefinition === 'object' && entityType) {\n            if (!filterFieldsDefinition.properties) {\n                filterFieldsDefinition.properties = {};\n            }\n            const alias = findAlias(UIVOCABULARY, serviceAVT);\n            const selectionFieldAnnotation = alias && entityType.annotations?.[alias]?.SelectionFields;\n            addSelectionFields(entityType, rootSchema, selectionFieldAnnotation, filterFieldsDefinition);\n        }\n    }\n};\n", "import type { XMLElement } from '@xml-tools/ast';\n\nexport function getAttribute(node: XMLElement, name: string): string | undefined {\n    return node.attributes.find((attribute) => attribute.key === name)?.value;\n}\n", "import type { SchemaDefinition } from '@sap/ux-specification-types';\nimport { v4 } from '@sap/ux-specification-types';\nimport { getDefinitionKey } from '../../../common/utils';\nimport { addDescriptiveEnumDefinition } from '../../../common/generate/utils';\nimport type { XMLElement } from '@xml-tools/ast';\nimport { getAttribute } from './utils';\nimport type { CustomExtensions, CustomExtension } from '../../utils/utils';\nimport { addExtensionToArray } from '../../utils/utils';\n\nconst ANNOTATION_PREFIX_MAP = new Map([['filterFields', 'SelectionField::']]);\n\nconst PLACEMENT_PROPERTIES = {\n    anchor: 'anchor',\n    placement: 'placement',\n    key: 'key'\n};\n\ninterface ExtensionData {\n    key: string;\n    extension: CustomExtension;\n}\n\n/**\n * Method checks if passed schema definition is custom extension.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object which contains custom extensions and annotation elements.\n * @param {SchemaDefinition} appSchema Full app schema.\n * @returns {string} Added property name.\n */\nfunction isCustomExtensionSchema(schema: SchemaDefinition, appSchema: SchemaDefinition): boolean {\n    if (typeof schema.additionalProperties === 'object' && schema.additionalProperties.$ref) {\n        const definition = appSchema.definitions?.[getDefinitionKey(schema.additionalProperties.$ref)];\n        const additionalProperties = typeof definition === 'object' ? definition.properties || {} : {};\n        return (\n            PLACEMENT_PROPERTIES.anchor in additionalProperties &&\n            PLACEMENT_PROPERTIES.placement in additionalProperties\n        );\n    }\n    return false;\n}\n\n/**\n * Method returns annotation prefix for passed macro node name.\n * @param {string} nodeName Macros node name.\n * @returns {string} Annotation prefix.\n */\nfunction getAnnotationPrefix(nodeName: string): string {\n    return ANNOTATION_PREFIX_MAP.get(nodeName) || '';\n}\n\n/**\n * Method returns proxy extension object by parsing XML node.\n * Proxy object is required to be able to reuse 'utils.addExtensionToArray' method to recalculate order of annotation and custom extensions.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object which contains custom extensions and annotation elements.\n * @param {string} property Custom extension key in schema's properties.\n * @returns {ExtensionData} Proxy extension object.\n */\nfunction getExtensionData(node: XMLElement, schema: SchemaDefinition, property: string): ExtensionData {\n    const schemaNode = schema.properties[property] as SchemaDefinition;\n    const annotationPrefix = getAnnotationPrefix(node.name);\n    // Custom extension node\n    const xmlPath = schemaNode.metadata.path;\n    const xmlExtension = node.subElements[xmlPath[xmlPath.length - 1].index];\n    const key = getAttribute(xmlExtension, PLACEMENT_PROPERTIES.key) || property;\n    const anchor = getAttribute(xmlExtension, PLACEMENT_PROPERTIES.anchor);\n    const placement = getAttribute(xmlExtension, PLACEMENT_PROPERTIES.placement) || v4.Placement.After;\n    const annotationAnchor = `${annotationPrefix}${anchor}`;\n    const extension = {\n        position: {\n            anchor: annotationAnchor in schema.properties ? annotationAnchor : anchor,\n            placement\n        }\n    } as CustomExtension;\n    return { key, extension };\n}\n\n/**\n * Method updates 'propertyIndex' for passed schema's properties.\n * Method prepares proxy objects and reuses 'utils.addExtensionToArray' method to recalculate order of annotation and custom extensions.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object which contains custom extensions and annotation elements.\n */\nfunction updatePropertyIndices(node: XMLElement, schema: SchemaDefinition): void {\n    // Reuse \"addExtensionToArray\" method for calculating extensions position as it is done for manifest based extensions\n    // Logic requires to create 2 proxy objects to be able to reuse same logic\n    // Custom extension entries\n    const extensions: CustomExtensions = {};\n    // Annotation entries\n    const sortedExtensionsArray: [string, SchemaDefinition][] = [];\n    // Custom extension mapping between schema property key and extension key in xml\n    const extensionSchemaKeyMap: { [key: string]: string } = {};\n    // Populate annotation and custom extension entries\n    for (const property in schema.properties) {\n        const schemaNode = schema.properties[property] as SchemaDefinition;\n        if ('metadata' in schemaNode) {\n            // Custom extension node\n            const { extension, key } = getExtensionData(node, schema, property);\n            extensions[key] = extension;\n            // Mapping between extension key in xml and key in schema\n            extensionSchemaKeyMap[key] = property;\n        } else {\n            // Annotation based node\n            sortedExtensionsArray.push([property, schemaNode]);\n        }\n    }\n    // Reuse method to calculate order\n    addExtensionToArray(extensions, sortedExtensionsArray, '', 'position');\n    // Apply order to 'propertyIndex' properties in schema\n    for (let i = 0; i < sortedExtensionsArray.length; i++) {\n        const key = sortedExtensionsArray[i][0];\n        let schemaNode = schema.properties[key] as SchemaDefinition;\n        if (sortedExtensionsArray[i][1].$ref === '#/definitions/' && key in extensionSchemaKeyMap) {\n            // Entry of custom extension\n            schemaNode = schema.properties[extensionSchemaKeyMap[key]] as SchemaDefinition;\n        }\n\n        if (schemaNode) {\n            // Update index to affect ordering\n            schemaNode.propertyIndex = i;\n        }\n    }\n}\n\n/**\n * Method refreshes custom extension schema's 'anchor' property with 'oneOf' enum entires.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object which contains custom extensions and annotation elements.\n * @param {SchemaDefinition} appSchema Full app schema.\n */\nfunction applyEnumsForAnchors(node: XMLElement, schema: SchemaDefinition, appSchema: SchemaDefinition): void {\n    const annotationPrefix = getAnnotationPrefix(node.name);\n    for (const name in schema.properties) {\n        const anchorProperty = 'anchor';\n        const property = schema.properties[name] as SchemaDefinition;\n        if (!property.metadata) {\n            continue;\n        }\n        addDescriptiveEnumDefinition(\n            appSchema,\n            schema,\n            {\n                property: anchorProperty,\n                schema: property\n            },\n            {\n                excludeKey: name,\n                resolveDefinition: true\n            }\n        );\n        // Remove annotation prefix from anchor enum entries - it is difference between manifest and macros anchering\n        const oneOf = (property.properties?.[anchorProperty] as SchemaDefinition)?.oneOf || [];\n        for (const entry of oneOf) {\n            if (typeof entry !== 'object' || typeof entry.const !== 'string') {\n                continue;\n            }\n            const property = schema.properties[entry.const] as SchemaDefinition;\n            if (entry.const.startsWith(annotationPrefix)) {\n                // Remove annotation prefix - it is not required for macros\n                entry.const = entry.const.replace(annotationPrefix, '');\n            } else if (property?.metadata?.path) {\n                // Reference to custom extension - use key for enum value\n                const index = property.metadata.path[property.metadata.path.length - 1].index;\n                entry.const = getAttribute(node.subElements[index], 'key') || entry.const;\n            }\n        }\n    }\n}\n\n/**\n * Method handles custom extension - resolve positions and ordering.\n * Currently it handles `sap.fe.macros.FilterField`, but code is generic and can handle also other extensions - method relies on 'anchor' and 'placement' properties.\n * @param {XMLElement} node Parsed XML element.\n * @param {SchemaDefinition} schema Schema object which contains custom extensions and annotation elements.\n * @param {SchemaDefinition} appSchema Full app schema.\n */\nexport function handleExtensions(node: XMLElement, schema: SchemaDefinition, appSchema: SchemaDefinition): void {\n    if (!isCustomExtensionSchema(schema, appSchema)) {\n        // Schema does not support custom extensions\n        return;\n    }\n\n    // Update ordering of nodes by updating 'propertyIndex' for each node\n    updatePropertyIndices(node, schema);\n    // Enhance anchor property to add enum\n    applyEnumsForAnchors(node, schema, appSchema);\n}\n", "import { parseAndMergeAndConvert, isFeatureSupported } from '../../common/utils';\nimport {\n    generateFreestyleSchemaV4,\n    generateListReportSchemaV4,\n    generateObjectPageSchemaV4,\n    generateCustomPageSchemaV4\n} from '.';\nimport type {\n    ExtensionLogger,\n    GenerateAppSchemaParameters,\n    FileData,\n    Manifest,\n    FeatureToggle\n} from '@sap/ux-specification-types';\nimport { v4, FioriElementsVersion, TemplateType, Features } from '@sap/ux-specification-types';\nimport { getPageCustomViewFile } from '../utils/utils';\nimport { getEntityTypeEntitySetFromContextPath } from '../../common/importProject';\n\n/**\n * Generates the app specific schema of an object page out of the generic schema for the same page.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entitySetName - the base entity set of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {FileData[]} fragments - list of fragment files and their content\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageInterfaceV4(\n    genericSchema: object,\n    entitySetName: string,\n    annotations: FileData[],\n    manifest: object,\n    logger?: ExtensionLogger,\n    fragments?: FileData[],\n    contextPath?: string\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n\n    const { entitySet, entityType } = getEntityTypeEntitySetFromContextPath(serviceAVT, contextPath, entitySetName);\n\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType: TemplateType.ListReportObjectPageV4,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger,\n        entitySet,\n        entityType\n    };\n    return generateObjectPageSchemaV4(generateParameters, genericSchema, contextPath);\n}\n\n/**\n * Generates the app specific schema of a list report out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {TemplateType} templateType - the template type allows distinguishing LR and ALP\n * @param genericSchema - generic JSON schema of a list report\n * @param entitySetName - the base entity set of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateListReportInterfaceV4(\n    templateType: TemplateType,\n    genericSchema: object,\n    entitySetName: string,\n    annotations: FileData[],\n    logger?: ExtensionLogger,\n    manifest?: object,\n    contextPath?: string\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const { entitySet, entityType } = getEntityTypeEntitySetFromContextPath(serviceAVT, contextPath, entitySetName);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        serviceAVT,\n        logger,\n        entitySet,\n        entityType\n    };\n\n    const templateName =\n        templateType === TemplateType.ListReportObjectPageV4 ? v4.FE_TEMPLATE_V4_LIST_REPORT : v4.FE_TEMPLATE_V4_ALP;\n    return generateListReportSchemaV4(generateParameters, genericSchema, templateName, contextPath);\n}\n\n/**\n * Generates the app specific schema of a freestyle page out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {TemplateType} templateType - the template type allows distinguishing LR and ALP\n * @param genericSchema - generic JSON schema of a list report\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateFreestyleInterfaceV4(\n    templateType: TemplateType,\n    genericSchema: object,\n    annotations: FileData[],\n    manifest?: object,\n    _entitySetName?: string,\n    logger?: ExtensionLogger\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        serviceAVT,\n        logger\n    };\n    return generateFreestyleSchemaV4(generateParameters, genericSchema);\n}\n\n/**\n * Generates the app specific schema of a FPM Custom page out of the generic schema.\n * @param {object} genericSchema - generic JSON schema of a list report.\n * @param {string} routingId - page id in routing.\n * @param {Manifest} manifest - manifest.json of the app.\n * @param {FileData[]} views - array of views.xml files.\n * @param {FeatureToggle[]} [featureToggles] - array of supported features.\n * @param {ExtensionLogger} [logger] - Logger class for logging messages.\n *\n * @returns the app specific JSON schema.\n */\nexport function generateFPMCustomPageInterfaceV4(\n    genericSchema: object,\n    routingId: string,\n    manifest: Manifest,\n    views: FileData[],\n    annotations: FileData[],\n    featureToggles?: FeatureToggle[],\n    logger?: ExtensionLogger\n): object {\n    let schema = {};\n    if (isFeatureSupported(featureToggles, Features.BuildingBlocks)) {\n        const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n        const viewData = getPageCustomViewFile(views || [], routingId, manifest);\n        schema = viewData?.file.fileContent\n            ? generateCustomPageSchemaV4(genericSchema, viewData, serviceAVT, logger)\n            : {};\n    }\n    return schema;\n}\n", "import { syncRule, childId, validity } from '../common/decoration/decorators';\nimport type { v4, ViewTypes, Target, Manifest, Application } from '@sap/ux-specification-types';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { QUICKVARPATH } from '@sap/ux-specification-types';\nimport { controllerExtensions } from './sync-rules/controllerExtensions';\n\nexport const getSettingsPathForPage = (pageName: string[]): string => {\n    return `sap.ui5/routing/targets/${pageName[0]}/options/settings`;\n};\n\nexport const getSettingsPathForLRViewsPaths = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/views/paths`;\n};\n\nexport const getSettingsPathForHeaderOP = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/content/header`;\n};\n\nexport const getSettingsPathForFooterOP = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/content/footer`;\n};\n\nexport const getControlConfigurationPath = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + '/controlConfiguration';\n};\n\nexport const getHeaderFacetSettingPath = (pageName: string[], _manifest: Manifest, sectionId: string): string => {\n    return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.HeaderFacets}/facets/${sectionId}`;\n};\n\nexport const getSelectionFieldsPath = (pageName: string[]): string => {\n    return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.SelectionFields}`;\n};\n\nexport const getFilterFieldPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    fieldId: string\n): string => {\n    return getSelectionFieldsPath(pageName) + `/filterFields/${fieldId}`;\n};\n\n/**\n * Common function that calculates the path in manifest for table settings of a list report or ALP table view\n * @param pageName - page name in manifest\n * @param manifest - manifest (not used)\n * @param targetAnnotationEncoded - encoded target annotation (not used)\n * @param viewKey - view key (not used)\n * @param targetAnnotation - target annotation, i.e. the line item (with or without qualifier)\n * @returns - path as string\n */\nexport const getTableSettingsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    _viewKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation?.replace(/\\//gi, '??');\n    return annotationEncoded\n        ? getControlConfigurationPath(pageName) + `/${annotationEncoded}/tableSettings`\n        : undefined;\n};\n\nexport const getTableSettingsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getTableSettingsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/tableSettings`;\n    }\n};\n\nexport const getQuickVariantPath = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    return (\n        getTableSettingsPathForLR(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation) +\n        QUICKVARPATH\n    );\n};\n\nexport const getColumnsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation.replace(/\\//gi, '??');\n    return getControlConfigurationPath(pageName) + `/${annotationEncoded}/columns/${columnKey}`;\n};\n\nexport const getColumnsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getColumnsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/columns/${columnKey}`;\n    }\n};\n\nexport const getActionsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation.replace(/\\//gi, '::');\n    return getControlConfigurationPath(pageName) + `/${annotationEncoded}/actions/${columnKey}`;\n};\n\nexport const getActionsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getActionsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/actions/${columnKey}`;\n    }\n};\n\nexport const getColumnsPathForOP = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/columns/${columnKey}`;\n};\n\nexport const getActionsPathForOP = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getHeaderActionsPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getSettingsPathForHeaderOP(pageName) + `/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getFooterActionsPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getSettingsPathForFooterOP(pageName) + `/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getTableSettingsPathForOP = (pageName: string[], _manifest: Manifest, sectionId: string): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/tableSettings`;\n};\n\nexport const getCustomSectionPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    pathPart?: string\n): string => {\n    let path = getSettingsPathForPage(pageName) + `/content/body/sections/${sectionId}`;\n    if (pathPart) {\n        path += '/' + pathPart;\n    }\n    return path;\n};\n\nexport class ApplicationV4 implements Application {\n    $schema?: string;\n    id?: string;\n    pages?: v4.Pages;\n    home?: string;\n    target?: Target;\n    @childId('settings')\n    settings?: AppSettings;\n}\n\nexport class AppSettings implements v4.AppSettings {\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    title?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    description?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    flexibleColumnLayout?: v4.FlexibleColumnLayoutV4;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5'\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    flexEnabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    viewType?: ViewTypes;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    path?: string;\n\n    @syncRule(controllerExtensions)\n    controllerExtensions?: v4.ControllerExtensions;\n}\n", "import { PageTypeV2, v4 } from '@sap/ux-specification-types';\n\nconst PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP = new Map<PageTypeV2, string>([\n    [PageTypeV2.ListReport, v4.SAPUI5_VIEW_EXTENSION_LIST_REPORT],\n    [PageTypeV2.ObjectPage, v4.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]\n]);\n\n/**\n * Method transfers values of 'controllerNames' and 'controllerName' from source to target.\n * Method can be uses in both ways - import or export.\n * @param {SapUi5ControllerExtensionV4} source - source object\n * @param {SapUi5ControllerExtensionV4} target - target object\n */\nconst applyControllerNameProperties = (\n    source: v4.SapUi5ControllerExtensionV4,\n    target: v4.SapUi5ControllerExtensionV4\n) => {\n    const properties = ['controllerNames', 'controllerName'];\n    for (const property of properties) {\n        if (property in source) {\n            target[property] = source[property];\n        } else if (property in target) {\n            // Deletion of property happens\n            delete target[property];\n        }\n    }\n};\n\n/**\n * Method returns extension key for import(page.json).\n * @param {string} manifestKey - extension name in manifest.\n * @returns - extension key for import.\n */\nconst getExtensionKeyForImport = (manifestKey: string): string | undefined => {\n    for (const [pageType, key] of PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP) {\n        if (manifestKey.startsWith(key)) {\n            // Replace SAPUI5 specific key like 'sap.fe.templates.ObjectPage.ObjectPageController' with more readable PageTypeV2\n            let configKey: string = pageType;\n            if (manifestKey.includes('#')) {\n                // Append with page id\n                const id = manifestKey.split('#')[1]?.split('::')[1];\n                configKey += `#${id}`;\n            }\n            return configKey;\n        }\n    }\n    return undefined;\n};\n\n/**\n * Method returns extension key for export(manifest.json).\n * @param {string} configKey - extension name in config.\n * @param {string} appId - application id.\n * @returns - extension key for export.\n */\nconst getExtensionKeyForExport = (configKey: string, appId: string): string => {\n    let manifestKey = '';\n    for (const [pageType, key] of PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP) {\n        if (configKey.startsWith(pageType)) {\n            manifestKey = key;\n        }\n    }\n    const idParts = configKey.split('#');\n    if (idParts.length > 1) {\n        const pageId = idParts[1];\n        manifestKey = `${manifestKey}#${appId}::${pageId}`;\n    }\n    return manifestKey;\n};\n\nexport const controllerExtensions = {\n    manifest: {\n        path: (): string => `sap.ui5/extends/extensions/${v4.SAPUI5_CONTROLLER_EXTENSION}`,\n        import: (extensions: v4.SapUi5ControllerExtensionsV4): v4.ControllerExtensions | undefined => {\n            const result: v4.ControllerExtensions = {};\n            if (extensions && typeof extensions === 'object') {\n                for (const manifestKey in extensions) {\n                    const configKey = getExtensionKeyForImport(manifestKey);\n                    if (configKey) {\n                        result[configKey] = {};\n                        applyControllerNameProperties(extensions[manifestKey], result[configKey]);\n                    }\n                }\n            }\n            return Object.keys(result).length ? result : undefined;\n        },\n        export: (\n            manifestSection: v4.SapUi5ControllerExtensionsV4,\n            configObject: v4.ApplicationV4,\n            key: string\n        ): void => {\n            const appId = configObject?.id || '';\n            const configExtensions = configObject?.settings?.[key] || {};\n            // Go through all config extensions\n            for (const configKey in configExtensions) {\n                const manifestKey = getExtensionKeyForExport(configKey, appId);\n                if (!manifestSection[manifestKey]) {\n                    manifestSection[manifestKey] = {};\n                }\n                applyControllerNameProperties(configExtensions[configKey], manifestSection[manifestKey]);\n            }\n            // Handle removed extensions\n            for (const manifestKey in manifestSection) {\n                const configKey = getExtensionKeyForImport(manifestKey);\n                if (configKey && !configExtensions[configKey]) {\n                    delete manifestSection[manifestKey];\n                }\n            }\n        }\n    }\n};\n", "import {\n    PageTypeV4,\n    SchemaType,\n    ManifestSection,\n    MANIFESTPATH,\n    SchemaTag,\n    DefinitionName,\n    LogSeverity,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport type { Manifest, v4, ImportListReportV4Parameters } from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX, getPageTypeV4, removeEmptyStructure, getDefinitionKey } from '../../../common';\nimport { transferSettingsOfObject } from '../utils';\nimport { initI18n } from '../../../../i18n/i18n';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { MetadataInstanceFactoryV4 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport type { Definition } from 'typescript-json-schema';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\n\n/**\n * Imports the content of annotation-based as well as custom columns\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - ID of the given page\n * @param {string} configId - config id\n * @param {string} viewId - view id in multi view mode\n */\nfunction transferColumns(\n    config: v4.Table | v4.LRTableView,\n    importParameters: ImportListReportV4Parameters,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    configId?: string,\n    viewId?: string\n) {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    const lineItemsId = configId && configId !== `@${UIAnnotationTerms.LineItem}` ? configId : DefinitionName.LineItems;\n    const lineItems = schemaDefinitions[lineItemsId] as Definition;\n    if (lineItems) {\n        config.columns = {};\n        for (const columnKey in lineItems.properties) {\n            const columnDefinition = (schemaDefinitions[lineItemsId] as Definition).properties[columnKey] as Definition;\n            const schemaPropertyName = columnDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1].split('<')[0];\n            config.columns[columnKey] = factory.createInstance(pageType, schemaPropertyName);\n            const targetAnnotation = viewId || configId;\n            transferSettingsOfObject(\n                config.columns[columnKey],\n                importParameters.manifest,\n                schemaDefinitions[schemaPropertyName] as Definition,\n                routingId,\n                [columnKey, targetAnnotation],\n                targetAnnotation,\n                importParameters.logger\n            );\n            removeEmptyStructure(config.columns, columnKey);\n        }\n        removeEmptyStructure(config, 'columns');\n    } else {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLINEITEMS')\n        });\n    }\n}\n\n/**\n * Import visual filters of list report\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {v4.FilterBar} filterBarConfig - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n */\nfunction importVisualFilters(\n    importParameters: ImportListReportV4Parameters,\n    filterBarConfig: v4.FilterBar,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string\n) {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    const visualFilters = schemaDefinitions[DefinitionName.VisualFilters];\n    filterBarConfig.visualFilters = {};\n    if (typeof visualFilters === 'object') {\n        for (const visualFilter in visualFilters.properties) {\n            const filterDefinition = visualFilters.properties[visualFilter];\n            if (typeof filterDefinition === 'object' && filterDefinition.$ref) {\n                const definitionKey = getDefinitionKey(filterDefinition.$ref);\n                const schemaPropertyName = definitionKey.split('<')[0];\n                filterBarConfig.visualFilters[visualFilter] = factory.createInstance(pageType, schemaPropertyName);\n                transferSettingsOfObject(\n                    filterBarConfig.visualFilters[visualFilter],\n                    importParameters.manifest,\n                    schemaDefinitions[definitionKey] as Definition,\n                    routingId,\n                    [visualFilter]\n                );\n            }\n        }\n        removeEmptyStructure(filterBarConfig, 'visualFilters');\n    }\n}\n\n/**\n * Import table toolbar actions of list report\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {SapUiAppPageV4} page - page in manifest\n * @param {PageTypeV4} pageType - page type\n */\nfunction importActions(\n    importParameters: ImportListReportV4Parameters,\n    tableConfig: v4.Table | v4.LRTableView | v4.ALPTableView,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    columnDefinitionName: string = DefinitionName.LineItems,\n    viewId?: string\n) {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    let targetAnnotation = viewId;\n    if (\n        !targetAnnotation &&\n        [DefinitionName.LineItems, `${DefinitionName.LineItems}OfSPV::LineItem`].indexOf(columnDefinitionName) === -1\n    ) {\n        targetAnnotation = `@${UIAnnotationTerms.LineItem}#${columnDefinitionName.split('::').pop()}`;\n    }\n    const actionsDefinition = schemaDefinitions[`${DefinitionName.Actions}<${columnDefinitionName}>`];\n    if (typeof actionsDefinition === 'object') {\n        for (const actionKey in actionsDefinition.properties) {\n            const actionDefinition = actionsDefinition.properties[actionKey];\n            if (typeof actionDefinition === 'object' && actionDefinition.$ref) {\n                const definitionKey = getDefinitionKey(actionDefinition.$ref);\n                const schemaPropertyName = definitionKey.split('<')[0];\n                tableConfig.toolBar.actions[actionKey] = factory.createInstance(pageType, schemaPropertyName);\n\n                transferSettingsOfObject(\n                    tableConfig.toolBar.actions[actionKey],\n                    importParameters.manifest,\n                    schemaDefinitions[definitionKey] as Definition,\n                    routingId,\n                    [actionKey, targetAnnotation]\n                );\n                removeEmptyStructure(tableConfig.toolBar.actions, actionKey);\n            }\n        }\n    }\n}\n\nfunction transferToolBar(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4 | v4.Table,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    columnDefinitionName: string = DefinitionName.LineItems,\n    viewId?: string\n) {\n    const toolbarInstance = factory.createInstance(pageType, DefinitionName.ToolBar, {\n        actions: {}\n    });\n    let table;\n    if (!viewId && config && 'table' in config) {\n        table = config.table;\n    } else {\n        table = config;\n    }\n    table.toolBar = toolbarInstance;\n\n    transferSettingsOfObject(\n        table.toolBar,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ToolBarLR],\n        routingId,\n        []\n    );\n    importActions(importParameters, table, factory, pageType, routingId, columnDefinitionName, viewId);\n\n    removeEmptyStructure(table.toolBar, 'actions');\n    removeEmptyStructure(table, 'toolBar');\n}\n\n/**\n * Determines the target annotation of a list report view or defaultTemplateAnnotationPath\n * @param schemaDefinitions - app schema definitions\n * @param definitionName - current definition name\n * @returns the target annotation as string\n */\nfunction determineTargetAnnotationOfView(schemaDefinitions: Definition, definitionName: string): string {\n    const lineItemAnnotation = schemaDefinitions[definitionName]?.[SchemaTag.annotationPath];\n    const navigationProperty = schemaDefinitions[definitionName]?.navigationProperty;\n    let targetAnnotation = lineItemAnnotation?.substr(lineItemAnnotation.lastIndexOf('@'));\n    targetAnnotation = navigationProperty ? `${navigationProperty}/${targetAnnotation}` : targetAnnotation;\n    return targetAnnotation;\n}\n\n/**\n * Import chart & table view of ALP\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {SapUiAppPageV4} page - page in manifest\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n */\nfunction importALPViews(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string\n): void {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    //chart view\n    config.chart = factory.createInstance(pageType, DefinitionName.ALPChart);\n    const chartDefinition = schemaDefinitions[DefinitionName.ALPChart] as Definition;\n    const chartAnnotationPath = chartDefinition[SchemaTag.annotationPath];\n    transferSettingsOfObject(config.chart, importParameters.manifest, chartDefinition, routingId, [\n        chartDefinition[SchemaTag.key],\n        chartAnnotationPath?.substr(chartAnnotationPath.lastIndexOf('@'))\n    ]);\n    config.chart.toolBar = factory.createInstance(pageType, DefinitionName.ToolBar, { actions: {} });\n    transferSettingsOfObject(\n        config.chart.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ViewChartToolBar] as Definition,\n        routingId,\n        []\n    );\n    //table view\n    const tableAnnotationPath = schemaDefinitions[DefinitionName.ALPTable][SchemaTag.annotationPath];\n    if (tableAnnotationPath) {\n        const tableDefinition = schemaDefinitions[DefinitionName.ALPTable];\n        const tableConfig = (config.table = factory.createInstance(\n            pageType,\n            DefinitionName.ALPTable\n        ) as v4.ALPTableView);\n        transferToolBar(importParameters, config, factory, pageType, routingId);\n        const configId = tableAnnotationPath.substr(tableAnnotationPath.lastIndexOf('@'));\n        transferSettingsOfObject(tableConfig, importParameters.manifest, tableDefinition, routingId, [\n            tableDefinition[SchemaTag.key],\n            configId\n        ]);\n        //transfer columns\n        transferColumns(tableConfig, importParameters, factory, pageType, routingId, undefined, configId);\n    }\n}\n\n/**\n * Method received view definition name and returns view type.\n * @param {string} definition  - definition name in schema.\n * @returns {DefinitionName | undefined} Resolved view type.\n */\nfunction getViewTypeByDefinition(definition: string): DefinitionName | undefined {\n    let viewType: DefinitionName;\n    if (definition.indexOf(DefinitionName.LRTableView) > -1) {\n        viewType = DefinitionName.LRTableView;\n    } else if (definition.indexOf(DefinitionName.LRChartView) > -1) {\n        viewType = DefinitionName.LRChartView;\n    } else if (definition === DefinitionName.TableViewExtension) {\n        viewType = DefinitionName.TableViewExtension;\n    }\n    return viewType;\n}\n\n/**\n * Import table views of list report\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n */\nfunction importLRViews(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string\n): void {\n    const tableViewConfig: v4.MultiTableModeV4 = ((config.table as v4.Table).views = factory.createInstance(\n        pageType,\n        DefinitionName.MultiTableModeV4\n    ));\n    const schemaDefinitions = importParameters.jsonSchema.definitions as Definition;\n\n    //Transfer settings on overall views' level\n    transferSettingsOfObject(\n        tableViewConfig,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.MultiTableModeV4],\n        routingId,\n        []\n    );\n    const properties = schemaDefinitions[DefinitionName.MultiTableModeV4].properties;\n    const sortedList = Object.entries(properties).sort(\n        (a, b) => a[1][SchemaTag.propertyIndex] - b[1][SchemaTag.propertyIndex]\n    );\n    for (const element of sortedList) {\n        //process single views\n        if (element[1]['$ref']) {\n            const nextDefinition = element[1]['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n            const viewType = getViewTypeByDefinition(nextDefinition);\n            const tableView = (tableViewConfig[element[0]] = factory.createInstance(pageType, viewType));\n            const targetAnnotation = determineTargetAnnotationOfView(schemaDefinitions, nextDefinition);\n            transferSettingsOfObject(\n                tableView,\n                importParameters.manifest,\n                schemaDefinitions[nextDefinition],\n                routingId,\n                [element[0], targetAnnotation]\n            );\n            if (viewType === DefinitionName.LRTableView) {\n                const definitionName = `${DefinitionName.LineItemsOfView}::${element[0]}`;\n                transferToolBar(\n                    importParameters,\n                    tableView,\n                    factory,\n                    pageType,\n                    routingId,\n                    definitionName,\n                    targetAnnotation\n                );\n                transferColumns(\n                    tableView,\n                    importParameters,\n                    factory,\n                    pageType,\n                    routingId,\n                    definitionName,\n                    targetAnnotation\n                );\n            }\n            if (Object.keys(tableView).length === 0) {\n                delete tableViewConfig[element[0]];\n            }\n        }\n    }\n    removeEmptyStructure(config.table, 'views');\n}\n\n/**\n * Fills the header actions in the config file of a V4 list report page\n * @param {Definition} appSchema - app specific schema\n * @param {v4.ListReportConfigV4} objectPageConfig - configuration, to be enhanced\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {Manifest} manifest - manifest.json of the app\n * @param {routingId} string - current (object) page\n */\nfunction transferHeaderActions(\n    appSchema: Definition,\n    listReportPageConfig: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    manifest: Manifest,\n    routingId: string\n): void {\n    const definitionName = DefinitionName.HeaderActions;\n    const actionType = PropertyName.header;\n    const actions = appSchema.definitions[definitionName] as Definition;\n    if (typeof actions === 'object') {\n        listReportPageConfig[actionType].actions = {};\n        for (const actionKey in actions.properties) {\n            const definition = actions.properties[actionKey];\n            if (typeof definition === 'object' && definition.$ref) {\n                const definitionKey = getDefinitionKey(definition.$ref);\n                const actionDefinition = appSchema.definitions[definitionKey] as Definition;\n                const key = getDefinitionKey(actionDefinition.$ref || definition.$ref);\n\n                listReportPageConfig[actionType].actions[actionKey] = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    key\n                );\n                transferSettingsOfObject(\n                    listReportPageConfig[actionType].actions[actionKey],\n                    manifest,\n                    appSchema.definitions[key],\n                    routingId,\n                    [actionKey.replace('/', '??')]\n                );\n                removeEmptyStructure(listReportPageConfig.header, 'actions');\n                removeEmptyStructure(listReportPageConfig, 'header');\n            }\n        }\n    }\n}\n\n/**\n * Adds manifest settings to the config.json of LR or ALP V4\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n * @param {SchemaType} schemaType - allows distinction of LR and ALP scenario\n */\nexport function addSettings(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    schemaType: SchemaType\n): void {\n    // Transfer page level settings with sync rules\n    transferSettingsOfObject(config, importParameters.manifest, importParameters.jsonSchema, routingId, []);\n\n    config.header = factory.createInstance(pageType, DefinitionName.Header);\n    transferSettingsOfObject(\n        config.header,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.Header],\n        routingId,\n        []\n    );\n    transferHeaderActions(importParameters.jsonSchema, config, factory, importParameters.manifest, routingId);\n\n    //FilterBar:\n    config.filterBar = factory.createInstance(pageType, DefinitionName.FilterBar);\n    transferSettingsOfObject(\n        config.filterBar,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.FilterBar],\n        routingId,\n        []\n    );\n    importVisualFilters(importParameters, config.filterBar, factory, pageType, routingId);\n    //Distinguish ALP table from LR table\n    if (schemaType === SchemaType.ListReport) {\n        let definitionName = DefinitionName.Table;\n        let tableDefinition = importParameters.jsonSchema.definitions[definitionName] as Definition;\n        let columnDefinitionName;\n        if (tableDefinition.$ref) {\n            //(S)PV scenario ==> delegation, go to TableSPV\n            definitionName = tableDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1] as DefinitionName;\n            tableDefinition = importParameters.jsonSchema.definitions[definitionName] as Definition;\n            columnDefinitionName = (tableDefinition.properties.columns as Definition).$ref.split(\n                DEFINITION_LINK_PREFIX\n            )[1];\n        }\n        config.table = factory.createInstance(pageType, DefinitionName.Table);\n        const targetAnnotation = determineTargetAnnotationOfView(\n            importParameters.jsonSchema.definitions,\n            definitionName\n        );\n        transferSettingsOfObject(config.table, importParameters.manifest, tableDefinition, routingId, [\n            definitionName,\n            targetAnnotation\n        ]);\n        //transfer toolbar\n        transferToolBar(importParameters, config, factory, pageType, routingId, columnDefinitionName);\n        //transfer columns\n        transferColumns(\n            config.table,\n            importParameters,\n            factory,\n            pageType,\n            routingId,\n            columnDefinitionName,\n            targetAnnotation\n        );\n        importLRViews(importParameters, config, factory, pageType, routingId);\n    } else if (schemaType === SchemaType.AnalyticalListPage) {\n        importALPViews(importParameters, config, factory, pageType, routingId);\n    }\n}\n\n/**\n * Creates the configuration file content for a list report V4\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n *\n * @returns {ListReportConfig} - the configuration (JSON) for the list report\n */\nexport function createListReportConfig(\n    importParameters: ImportListReportV4Parameters,\n    schemaType: SchemaType\n): v4.ListReportConfigV4 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.jsonSchema) {\n        return;\n    }\n    if (!importParameters.manifest[ManifestSection.ui5] || !importParameters.manifest[ManifestSection.ui5]['routing']) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const v4Pages = importParameters.manifest[ManifestSection.ui5]['routing']['targets'];\n    if (!v4Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTARGETS'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageTypeV4.ListReport);\n\n    for (const key in v4Pages) {\n        const v4Page = v4Pages[key];\n        const pageType = getPageTypeV4(v4Page);\n        if ('name' in v4Page && (pageType === PageTypeV4.ListReport || pageType === PageTypeV4.AnalyticalListPage)) {\n            addSettings(importParameters, config, factory, PageTypeV4.ListReport, key, schemaType);\n            break;\n        }\n    }\n\n    return config;\n}\n", "import type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport { importProperty, checkDeprecatedProperties, getManifestSectionByPathV4 } from '../../common';\nimport { getReflectMetadata } from '../../common/decoration/decorators';\nimport type { ExtensionLogger } from '../../..';\nimport type { Manifest } from '@sap/ux-specification-types';\n\n/**\n * Transfers settings from manifest to object page config\n * @param configPart - part of the configuration to be filled\n * @param manifest - manifest.json of the app\n * @param appSchema - app specific schema\n * @param pageID - ID of the given object page\n * @param sectionId (optional) - ID of the given section (optional)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: Definition | DefinitionOrBoolean,\n    pageKey: string,\n    breadcrumbs: string[],\n    sectionId?: string,\n    logger?: ExtensionLogger\n): void {\n    if (!appSchema) {\n        return;\n    }\n    let manifestSection = {};\n    const deprecatedProperties = configPart?.getDeprecated;\n    const targetAnnotationEncoded = sectionId && sectionId.replace('/', '::');\n\n    for (const propertyKey in appSchema['properties']) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n\n        if (syncRule?.manifest) {\n            const path = syncRule.manifest.path([pageKey], manifest, targetAnnotationEncoded, ...breadcrumbs);\n            manifestSection = getManifestSectionByPathV4(manifest, path, sectionId, targetAnnotationEncoded);\n            if (manifestSection && Object.keys(manifestSection).length > 0) {\n                importProperty(syncRule, manifestSection, propertyKey, configPart, sectionId, breadcrumbs);\n                checkDeprecatedProperties(deprecatedProperties, manifestSection, path, logger);\n            }\n        }\n    }\n}\n", "export * from './Table';\nexport * from './TableColumn';\nexport * from './ToolBar';\nexport * from './ToolBarAction';\nexport * from './ObjectPageToolBarAction';\nexport * from './ObjectPageForm';\nexport * from './ObjectPageFormAction';\nexport * from './FilterBar';\nexport * from './Header';\nexport * from './HeaderAction';\nexport * from './ObjectPageTableColumn';\nexport * from './ObjectPageHeader';\nexport * from './ObjectPageFooter';\nexport * from './ObjectPageHeaderSection';\nexport * from './ObjectPageLayout';\nexport * from './ObjectPageTable';\nexport * from './ObjectPageCustomSection';\nexport * from './ObjectPageForm';\nexport * from './ObjectPageHeaderAction';\nexport * from './ObjectPageFooterAction';\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { v4, SchemaTag } from '@sap/ux-specification-types';\nimport type { ToolBar } from './ToolBar';\nimport { addPatternForBindingChangeOfEnumLR } from '../../../common';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport {\n    getTableSettingsPathForLR,\n    getSettingsPathForPage,\n    getSettingsPathForLRViewsPaths,\n    getTableSettingsPathForView,\n    getQuickVariantPath\n} from '../../application';\n\n/**\n * Special edition of the global function getManifestSectionByPathV4 that initializes the views array if empty\n * @param manifest - manifest.json\n * @param path - path to the views array in manifest\n * @param key - key of the view\n * @returns the paths array of the views\n */\nconst getManifestSectionByPathV4 = (manifest: object, path: string): Array<object> => {\n    let manifestSection = manifest;\n    for (const element of path.split('/')) {\n        if (!manifestSection[element]) {\n            if (element === 'paths') {\n                manifestSection[element] = [];\n            } else {\n                manifestSection[element] = {};\n            }\n        }\n        manifestSection = manifestSection[element];\n    }\n    return manifestSection as Array<object>;\n};\n\n/**\n * Common function for determining the path in manifest of a list report view's path\n * @param pageName - page name in manifest\n * @param manifest - manifest.json\n * @param _targetAnnotationEncoded - target annotation (not used here)\n * @param viewKey - value of the key property of the view\n * @returns the path to the entry in manifest\n */\nfunction getSettingsPathForLRViewsPath(\n    pageName: string[],\n    manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    viewKey: string,\n    _targetAnnotation: string,\n    configObject: object\n): string {\n    const viewsPath = getSettingsPathForLRViewsPaths(pageName);\n    const manifestSection = getManifestSectionByPathV4(JSON.parse(JSON.stringify(manifest)), viewsPath);\n    let path: string;\n    for (let index = 0; index < manifestSection.length; index++) {\n        const view = manifestSection[index];\n        if (view && (view[SchemaTag.key] === configObject?.['key'] || view[SchemaTag.key] === viewKey)) {\n            path = `${viewsPath}/${index}`;\n            break;\n        }\n    }\n    if (!path) {\n        path = `${viewsPath}/[]`;\n    }\n    return path;\n}\n\n/**\n * sync rule function for export of creationMode.name\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportCreationModeName(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['creationMode'] === 'string') {\n        manifestSection['creationMode'] = {};\n    }\n    manifestSection['creationMode'][manifestKey] = configObject[key];\n}\n\n/**\n * Subroutine of checkViewOrder, fills the new list of views for the manifest\n */\nfunction fillNewlyOrderedViews(\n    manifestSection: object,\n    keyInConfig: string,\n    newIndex: string,\n    minIndex: number,\n    maxIndex: number,\n    direction: number\n): Array<object> {\n    const newlyOrderedViews = JSON.parse(JSON.stringify(manifestSection));\n    const viewKeys = Object.keys(manifestSection);\n\n    for (const index of viewKeys) {\n        const indexInManifest = Number(index);\n        const view = manifestSection[index];\n        if (keyInConfig === view['key']) {\n            newlyOrderedViews[newIndex] = view;\n        } else {\n            if (indexInManifest >= minIndex && indexInManifest <= maxIndex) {\n                newlyOrderedViews[Math.max(0, indexInManifest + direction)] = view;\n            } else {\n                newlyOrderedViews[index] = view;\n            }\n        }\n    }\n    return newlyOrderedViews;\n}\n\n/**\n * If a view index was changed we need to adapt the order of views in manifest\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n */\nexport function checkViewOrder(manifestSection: unknown, configObject: unknown): void {\n    const keyInConfig = configObject['key'];\n    const oldIndex = (manifestSection as Array<object>).findIndex((view) => {\n        return view?.['key'] === keyInConfig;\n    });\n    const newIndex = configObject['index'];\n    if (oldIndex > -1 && oldIndex !== newIndex) {\n        const direction = newIndex > oldIndex ? -1 : 1;\n        const minIndex = Math.min(Number(oldIndex), newIndex);\n        const maxIndex = Math.max(Number(oldIndex), newIndex);\n        const newlyOrderedViews = fillNewlyOrderedViews(\n            manifestSection as object,\n            keyInConfig,\n            newIndex,\n            minIndex,\n            maxIndex,\n            direction\n        );\n        for (const index of Object.keys(newlyOrderedViews)) {\n            manifestSection[index] = newlyOrderedViews[index];\n        }\n    }\n}\n\n/**\n * common sync rule function for export of creation for personalization object\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportPersonalization(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey?: string\n): void {\n    if (\n        !manifestSection[manifestKey] &&\n        typeof configObject[key] === 'object' &&\n        Object.keys(configObject[key]).length\n    ) {\n        // Create 'personalization' object only when config object is not empty\n        configObject[key] = {};\n    }\n}\n\n/**\n * common sync rule function for export of personalization properties\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportPersonalizationProperty(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['personalization'] === 'boolean' || !manifestSection['personalization']) {\n        manifestSection['personalization'] = {};\n    }\n    manifestSection['personalization'][manifestKey] = configObject[key];\n}\n\n/**\n * sync rule function for the deletion of creationMode.name\n * @param manifestSection - section in manifest comprising the table settings\n * @param manifestKey - key or property in manifest\n */\nexport function deleteCreationModeName(manifestSection: unknown, manifestKey: string): void {\n    if (\n        typeof manifestSection['creationMode'] === 'object' &&\n        manifestSection['creationMode'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['creationMode'][manifestKey];\n    } else if (typeof manifestSection['creationMode'] === 'string' && manifestSection['creationMode'] !== undefined) {\n        delete manifestSection['creationMode'];\n    }\n}\n\n/**\n * common sync rule function for the deletion of any property of personalization\n * @param manifestSection - section in manifest comprising the table settings\n * @param _configObject - page config object\n * @param _key - key or property in page config object\n * @param manifestKey - key or property in manifest\n */\nexport function deletePersonalizationProperty(\n    manifestSection: unknown,\n    _configObject: object,\n    _key: string,\n    manifestKey: string\n): void {\n    if (\n        typeof manifestSection['personalization'] === 'object' &&\n        manifestSection['personalization'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['personalization'][manifestKey];\n        if (Object.keys(manifestSection['personalization']).length === 0) {\n            delete manifestSection['personalization'];\n        }\n    } else if (\n        typeof manifestSection['personalization'] === 'string' &&\n        manifestSection['personalization'] !== undefined\n    ) {\n        delete manifestSection['personalization'];\n    }\n}\n\n/**\n * sync rule deleting a view if the index gets deleted\n * @param manifestSection - manifest section of the given view\n * @param configObject - section of the configration JSON\n * @param syncRuleKey - key of the view\n * @param config - the complete config JSON\n */\nfunction deleteView(\n    manifestSection: object,\n    configObject: object,\n    _configPropertyKey: string,\n    _manifestKey: string,\n    syncRuleKey: string,\n    config: object\n): void {\n    let deletedViewIndex;\n    if (!configObject || Object.keys(configObject).length === 0) {\n        const viewsInManifest = manifestSection as Array<object>;\n        Object.keys(viewsInManifest).forEach((index) => {\n            if (viewsInManifest[index] && viewsInManifest[index].key === syncRuleKey) {\n                manifestSection[Number(index)] = {};\n                deletedViewIndex = index;\n            }\n        });\n    }\n    if (deletedViewIndex) {\n        const viewsInConfig = config['table']['views'];\n        for (const key in viewsInConfig) {\n            if (viewsInConfig[key].index > deletedViewIndex) {\n                viewsInConfig[key].index--;\n            }\n        }\n    }\n}\n\n/**\n * sync rule for preventing the deletion of a property\n */\nfunction doNotDelete(): void {\n    return;\n}\n\n/**\n * sync rule function for export of creationMode.createAtEnd\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportCreationModeCreateAtEnd(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['creationMode'] === 'object') {\n        manifestSection['creationMode'][manifestKey] = configObject[key];\n    } else if (typeof manifestSection['creationMode'] === 'string') {\n        // If createAtEnd property is defined in config, then we have to convert manifest property creationMode to an object\n        manifestSection['creationMode'] = {\n            name: configObject['name'],\n            [manifestKey]: configObject[key]\n        };\n    }\n}\n\n/**\n * sync rule function for the deletion of creationMode.createAtEnd\n * @param manifestSection - section in manifest comprising the table settings\n * @param manifestKey - key or property in manifest\n */\nexport function deleteCreationModeCreateAtEnd(manifestSection: unknown, manifestKey: string): void {\n    if (\n        typeof manifestSection['creationMode'] === 'object' &&\n        manifestSection['creationMode'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['creationMode'][manifestKey];\n    }\n}\n\n/**\n * sync rule for the import of personalization, does an implicit conversion of the former boolean value to the new object representation\n * @param tableSettings - table settings in manifest, to be analyzed\n * @returns - object representing the value(s) for the config file\n */\nfunction importPersonalization(tableSettings: object): object | undefined {\n    const value: any = tableSettings['personalization'];\n    if (typeof value === 'object') {\n        return value;\n    } else if (typeof value === 'boolean') {\n        return {\n            column: value,\n            sort: value,\n            filter: value\n        };\n    }\n}\n\n/**\n * sync rule for the import of creationMode, does an implicit conversion of the former string value to the new object representation\n * @param tableSettings - table settings in manifest, to be analyzed\n * @returns - object representing the value(s) for the config file\n */\nfunction importCreationMode(tableSettings: object): object | undefined {\n    const value: any = tableSettings['creationMode'];\n    if (typeof value === 'object') {\n        return value;\n    } else if (typeof value === 'string') {\n        return {\n            name: value\n        };\n    }\n}\n\n/**\n * sync rule for the import of the index of a table view\n * @param manifestSection - manifest section, as determined by synRule.path\n * @param _sectionId  - not used\n * @param _propertyKey - not used\n * @param breadcrumbs - list if breadcrumbs, includes the given view key\n * @returns index of the view in manifest, undefined if not found\n */\nfunction determineIndexOfView(\n    manifestSection: object[],\n    _sectionId: string,\n    _propertyKey: string,\n    breadcrumbs: string[]\n): number | undefined {\n    const viewIndex = manifestSection.findIndex((view) => view['key'] === breadcrumbs[0]);\n    return viewIndex === -1 ? undefined : viewIndex;\n}\n\n/**********************************\n * Sync class for TableCreationMode\n */\nexport class TableCreationMode implements v4.TableCreationMode {\n    //name\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    //createAtEnd\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\n/**********************************\n * Sync class for TableCreationMode\n */\nexport class ViewTableCreationMode implements v4.ViewTableCreationMode {\n    //name\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    //createAtEnd\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\n/************************************\n * Sync class for PersonalizationType\n */\nexport class PersonalizationType implements v4.PersonalizationType {\n    //column\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    //sort\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    //filter\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\nexport class ViewPersonalizationType implements v4.ViewPersonalizationType {\n    //column\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    //sort\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    //filter\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\n/****************************************\n * Sync class for QuickVariantSelectionV4\n */\nexport class QuickVariantSelectionV4 implements v4.QuickVariantSelectionV4 {\n    //paths\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    paths: v4.AnnotationPathAsObject[];\n\n    //hideTableTitle\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    hideTableTitle?: boolean;\n\n    //showCounts\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    showCounts?: boolean;\n}\n\n/****************************************\n * Sync class for TableSettings\n */\nexport class TableSettings implements v4.TableSettings {\n    //type\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    //creationMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            import: importCreationMode\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationMode;\n\n    //personalization\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            import: importPersonalization,\n            export: exportPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: PersonalizationType;\n\n    //selectionMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    //selectAll\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    //selectionLimit\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    //enableExport\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    //quickVariantSelection\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4;\n\n    //condensedTableLayout\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\n/****************************************\n * Sync class for ALPChartView (renamed due to indirection in app schema)\n */\nexport class ALPChart implements v4.ALPChartView {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views/paths/0/primary/0',\n            delete: deleteView\n        }\n    })\n    annotationPath: string;\n\n    //toolBar\n    toolBar?: v4.ViewChartToolBar;\n}\n\nexport class CommonViewSettings implements v4.CommonViewSettings {\n    //key\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath,\n            delete: doNotDelete\n        }\n    })\n    key: string;\n    //index\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPaths,\n            import: determineIndexOfView,\n            export: (manifestSection, configObject): void => {\n                checkViewOrder(manifestSection, configObject);\n            },\n            delete: deleteView\n        }\n    })\n    index: number;\n\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath,\n            delete: doNotDelete\n        }\n    })\n    annotationPath: string;\n\n    //entitySet\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    entitySet?: string;\n}\n\n/****************************************\n * Sync class for view table settings\n */\nexport class TableViewSettings extends CommonViewSettings implements v4.TableSettings {\n    //type\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    //creationMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            import: importCreationMode\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationMode;\n\n    //personalization\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            import: importPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: ViewPersonalizationType;\n\n    //selectionMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    //selectAll\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    //selectionLimit\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    //enableExport\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    //quickVariantSelection\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4;\n\n    //condensedTableLayout\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nfunction getTableViewSettings<T>(SuperClass: T) {\n    return TableViewSettings;\n}\n\n/****************************************\n * Sync class for ALPTableView (renamed due to indirection in app schema)\n */\nexport class ALPTable extends TableViewSettings implements v4.ALPTableView {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views/paths/0/secondary/0',\n            delete: doNotDelete\n        }\n    })\n    annotationPath: string;\n\n    //initialLoad\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    initialLoad?: v4.InitialLoadType;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n\n/****************************************\n * Sync class for LRChartView\n */\nexport class LRChartView extends CommonViewSettings implements v4.LRChartView {\n    //toolBar\n    toolBar?: v4.ViewChartToolBar;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n}\n\n/****************************************\n * Sync class for LRTableView\n */\nexport class LRTableView extends getTableViewSettings(CommonViewSettings) {\n    //keepPreviousPersonalization\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    keepPreviousPersonalization?: boolean;\n\n    //entitySet\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n\nexport class TableViewExtension implements v4.TableViewExtension {\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    key: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPaths,\n            import: determineIndexOfView,\n            export: (manifestSection, configObject): void => {\n                checkViewOrder(manifestSection, configObject);\n            },\n            delete: deleteView\n        }\n    })\n    index: number;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    label?: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    template: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n}\n\n/**\n * LR multi-view: own class for properties on views' level\n */\nexport class MultiTableModeV4 implements v4.MultiTableModeV4 {\n    // List of annotation paths\n    [key: string]: v4.ViewTypeV4;\n\n    //showCounts\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views'\n        }\n    })\n    showCounts?: boolean;\n}\n\n/****************************************\n * Sync class for Table\n */\nexport class Table extends TableSettings implements v4.Table {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views/paths/0/secondary/0',\n            delete: doNotDelete\n        }\n    })\n    annotationPath?: string;\n\n    //views\n    views?: MultiTableModeV4;\n\n    //initialLoad\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    initialLoad?: v4.InitialLoadType;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getColumnsPathForLR, getColumnsPathForView } from '../../application';\n\nexport class ActionAfterExecutionConfiguration implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\n/************************************\n * Sync class for TableColumn\n */\nexport class TableColumn implements v4.TableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\n/************************************\n * Sync class for ViewTableColumn\n */\nexport class ViewTableColumn implements v4.ViewTableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\nexport class TableColumnAction extends TableColumn implements v4.TableColumnAction {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport class ViewTableColumnAction extends ViewTableColumn implements v4.ViewTableColumnAction {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Sync class for Position\n */\nexport class Position implements v4.Position {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\n\n/**\n * Sync class for ViewPosition\n */\nexport class ViewPosition implements v4.ViewPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\n\n/**\n * Sync class for TableCustomColumn\n */\nexport class TableCustomColumn implements v4.TableCustomColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: Position;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n\n/**\n * Sync class for ViewTableCustomColumn\n */\nexport class ViewTableCustomColumn implements v4.ViewTableCustomColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: Position;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { ToolBarAction, CustomTableAction } from './ToolBarAction';\n\nexport class Actions implements v4.Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\nexport class ToolBar implements v4.ToolBar {\n    actions: Actions;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForLR, getActionsPathForView } from '../../application';\nimport { addPatternForBindingChangeOfEnumLR } from '../../../common/decoration/control';\n\nexport class ActionAfterExecutionConfigurationToolBarLR implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class ToolBarAction implements v4.ToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\nexport class ViewToolBarAction implements v4.ViewToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n}\n\n/**\n * Sync class for Position\n */\nexport class CustomActionPosition implements v4.CustomActionPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomTableAction implements v4.CustomTableAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n\n/**\n * Sync class for Position\n */\nexport class ViewCustomActionPosition implements v4.ViewCustomActionPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class ViewTableCustomAction implements v4.ViewTableCustomAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\n\nexport class ObjectPageToolBarAction implements v4.ObjectPageToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n}\n\n/**\n * Sync class for Position\n */\nexport class CustomActionPositionOP implements v4.CustomActionPositionOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomTableActionOP implements v4.CustomTableActionOP {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { CustomFormActionOP } from './ObjectPageFormAction';\n\nexport class ActionAfterExecutionConfigurationForm implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class FormAction implements v4.FormAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationForm;\n}\n\nexport class ObjectPageFormActions implements v4.ObjectPageFormActions {\n    [key: string]: FormAction | CustomFormActionOP;\n}\n\nexport class ObjectPageForm implements v4.ObjectPageForm {\n    actions: ObjectPageFormActions;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\nimport type { CustomActionPositionOP } from './ObjectPageToolBarAction';\n\nexport class CustomFormActionOP implements v4.CustomFormActionOP {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getFilterFieldPath, getSelectionFieldsPath, getSettingsPathForPage } from '../../application';\n\nfunction exportVisualFilterValueList(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey?: string\n): void {\n    if (manifestSection[manifestKey]) {\n        manifestSection[manifestKey].valueList = configObject[key];\n    } else {\n        manifestSection[manifestKey] = { valueList: configObject[key] };\n    }\n}\n\nexport class FilterBar implements v4.FilterBar {\n    selectionFields?: v4.SelectionFields | v4.CompactFilters;\n\n    visualFilters?: v4.VisualFilters;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.99.0'\n    })\n    hideFilterBar?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getSelectionFieldsPath\n        }\n    })\n    @validity({\n        since: '1.93.0'\n    })\n    initialLayout?: v4.InitialLayoutType;\n\n    @syncRule({\n        manifest: {\n            path: getSelectionFieldsPath\n        }\n    })\n    @validity({\n        since: '1.93.0'\n    })\n    layout?: v4.LayoutType;\n}\n\nexport class VisualFilter implements v4.VisualFilter {\n    @syncRule({\n        manifest: {\n            path: getFilterFieldPath\n        }\n    })\n    @validity({\n        since: '1.93.0'\n    })\n    availability?: v4.Availability;\n\n    @syncRule({\n        manifest: {\n            path: getFilterFieldPath,\n            import: (manifestSection: unknown) => manifestSection?.['visualFilter']?.['valueList'],\n            export: exportVisualFilterValueList,\n            key: 'visualFilter'\n        }\n    })\n    @validity({\n        since: '1.93.0'\n    })\n    visualFilterValueList?: string;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { CustomHeaderAction } from './HeaderAction';\n\nexport class HeaderActions implements v4.HeaderActions {\n    [key: string]: CustomHeaderAction;\n}\n\nexport class Header implements v4.Header {\n    actions?: HeaderActions;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { addPatternForBindingChangeOfEnumLR } from '../../../common/decoration/control';\nimport { getHeaderActionsPath } from '../../application';\n\n/**\n * Sync class for Position\n */\nexport class CustomHeaderActionPosition implements v4.CustomHeaderActionPosition {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomHeaderAction implements v4.CustomHeaderAction {\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomHeaderActionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getColumnsPathForOP } from '../../application';\n\nexport class ActionAfterExecutionConfigurationOP implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class ObjectPageTableColumn implements v4.ObjectPageTableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\nexport class ObjectPageTableColumnAction extends ObjectPageTableColumn implements v4.ObjectPageTableColumnAction {}\n\nexport class PositionOP implements v4.PositionOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\nexport class TableCustomColumnOP implements v4.TableCustomColumnOP {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: PositionOP;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage, getSettingsPathForHeaderOP } from '../../application';\nimport { ObjectPageHeaderAction, CustomHeaderActionOP } from './ObjectPageHeaderAction';\n\nexport class ObjectPageHeaderActions implements v4.ObjectPageHeaderActions {\n    [key: string]: ObjectPageHeaderAction | CustomHeaderActionOP;\n}\n\nexport class ObjectPageHeader implements v4.ObjectPageHeader {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    editableHeaderContent?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    showRelatedApps?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForHeaderOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForHeaderOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchorBarVisible?: boolean;\n    sections?: v4.HeaderSections;\n    actions?: ObjectPageHeaderActions;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { FooterActionV4, CustomFooterActionOP } from './ObjectPageFooterAction';\n\nexport class ObjectPageFooterActions implements v4.ObjectPageFooterActions {\n    [key: string]: FooterActionV4 | CustomFooterActionOP;\n}\nexport class ObjectPageFooter implements v4.ObjectPageFooter {\n    actions?: ObjectPageFooterActions;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getHeaderFacetSettingPath } from '../../application';\n\nexport class FlexSettings implements v4.FlexSettings {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getHeaderFacetSettingPath(pageName, manifest, sectionId) + '/flexSettings'\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    designtime?: v4.DesigntimeValues;\n}\n\nexport class CommonHeaderFacetSettings implements v4.CommonHeaderFacetSettings {\n    @syncRule({\n        manifest: {\n            path: getHeaderFacetSettingPath\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    stashed?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderFacetSettingPath\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    flexSettings?: FlexSettings;\n}\n\nexport class ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings implements v4.ObjectPageHeaderSectionForm {}\n\nexport class ObjectPageHeaderSectionChart\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionChart {}\n\nexport class ObjectPageHeaderSectionDataPoint\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionDataPoint {}\n\nexport class ObjectPageHeaderSectionContact\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionContact {}\n\nexport class ObjectPageHeaderSectionAddress\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionAddress {}\n\nexport class HeaderSections implements v4.HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\nexport class ObjectPageLayout implements v4.ObjectPageLayout {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    sectionLayout?: v4.SectionLayoutType;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { QUICKVARPATH } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getTableSettingsPathForOP } from '../../application';\nimport {\n    exportCreationModeName,\n    deleteCreationModeName,\n    exportCreationModeCreateAtEnd,\n    deleteCreationModeCreateAtEnd,\n    exportPersonalizationProperty,\n    deletePersonalizationProperty,\n    exportPersonalization\n} from './Table';\n\nexport class TableCreationModeOP implements v4.TableCreationModeOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\nexport class PersonalizationTypeOP implements v4.PersonalizationTypeOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId), // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId), // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\nexport class QuickVariantSelectionV4OP implements v4.QuickVariantSelectionV4 {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    paths: v4.AnnotationPathAsObject[];\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    hideTableTitle?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    showCounts?: boolean;\n}\n\nexport class ObjectPageTable implements v4.ObjectPageTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP,\n            import: (tableSettings: object): object | undefined => {\n                const value: any = tableSettings['creationMode'];\n                if (typeof value === 'object') {\n                    return value;\n                } else if (typeof value === 'string') {\n                    return {\n                        name: value\n                    };\n                }\n            }\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationModeOP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP,\n            import: (tableSettings: object): object | undefined => {\n                const value: any = tableSettings['personalization'];\n                if (typeof value === 'object') {\n                    return value;\n                } else if (typeof value === 'boolean') {\n                    return {\n                        column: value,\n                        sort: value,\n                        filter: value\n                    };\n                }\n            },\n            export: exportPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: PersonalizationTypeOP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4OP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    enableFullScreen?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enablePaste?: boolean;\n}\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { SAPUI5_FRAGMENT_CLASS, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getCustomSectionPath } from '../../application';\n\nexport class ObjectPageCustomSectionFragment implements v4.ObjectPageCustomSectionFragment {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId): string =>\n                getCustomSectionPath(pageName, manifest, sectionId, 'position'),\n            key: 'anchor'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    relatedFacet: string;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (_manifest: v4.SapUi5RoutingTargetContentSection, sectionId: string): string => {\n                // Id is read from path's section - it is object's key\n                return sectionId;\n            },\n            export: false\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    id: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getCustomSectionPath(pageName, manifest, sectionId, 'position'),\n            key: 'placement'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    relativePosition: v4.SectionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifest: v4.SapUi5RoutingTargetContentSection): v4.CustomSectionViewTypesV4 | string => {\n                // Currently only XML supported, but idea is that we need to check 'manifest.type' and allow other types - maybe JS, JSON, etc.\n                if (!manifest.type || manifest.type.startsWith(v4.CustomSectionViewTypesV4.XML)) {\n                    return v4.CustomSectionViewTypesV4.XML;\n                }\n                return '';\n            },\n            export: (manifest: v4.SapUi5RoutingTargetContentSection, object: ObjectPageCustomSectionFragment): void => {\n                // Currently only 'XMLFragment', but in future we can add logic here\n                let type = '' as typeof v4.SAPUI5_FRAGMENT_TYPE_V4;\n                if ('type' in object) {\n                    type += object.type;\n                }\n                if ('className' in object) {\n                    if (object.className === SAPUI5_FRAGMENT_CLASS) {\n                        type += 'Fragment';\n                    } else {\n                        type += object.className;\n                    }\n                }\n                manifest.type = type;\n            }\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    type: v4.CustomSectionViewTypesV4;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifest: v4.SapUi5RoutingTargetContentSection): typeof SAPUI5_FRAGMENT_CLASS | string => {\n                // Currently only XML Fragment supported, but idea is that we need to check 'value.type'\n                // f.e. type === 'XMLFragment' ? 'sap.ui.core.Fragment' : ...\n                if (!manifest.type || manifest.type.startsWith(v4.CustomSectionViewTypesV4.XML)) {\n                    if (!manifest.type || manifest.type === 'XMLFragment') {\n                        return SAPUI5_FRAGMENT_CLASS;\n                    } else {\n                        return (manifest.type as string).slice(v4.CustomSectionViewTypesV4.XML.length);\n                    }\n                }\n                // Fallback - if there is unsupported value\n                return manifest.type;\n            },\n            export: false\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifestSection: v4.SapUi5RoutingTargetContentSection): string => {\n                // During import, we need to consider both `name` and `template` to correctly fill our config and to be upgrade safe\n                return manifestSection.name || manifestSection.template;\n            },\n            key: 'template' // key: 'name' deprecated since '1.86'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fragmentName: string;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\nimport { getHeaderActionsPath } from '../../application';\nimport { CustomHeaderActionPosition } from './HeaderAction';\n\nexport class ActionAfterExecutionConfigurationObjectPageHeader\n    implements v4.ActionAfterExecutionConfigurationObjectPageHeader\n{\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class ObjectPageHeaderAction implements v4.ObjectPageHeaderAction {\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationObjectPageHeader;\n}\n\n/**\n * Sync class for Position\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport class CustomHeaderActionPositionOP extends CustomHeaderActionPosition {}\n\nexport class CustomHeaderActionOP implements v4.CustomHeaderActionOP {\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomHeaderActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\nimport { getFooterActionsPath } from '../../application';\n\nexport class ActionAfterExecutionConfigurationFooter implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class FooterActionV4 implements v4.ObjectPageHeaderAction {\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationFooter;\n}\n\n/**\n * Sync class for Position\n */\nexport class CustomFooterActionPositionOP implements v4.CustomFooterActionPositionOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomFooterActionOP implements v4.CustomFooterActionOP {\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomFooterActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "export * from './ListReport';\nexport * from './ObjectPage';\nexport * from './FreestylePage';\n", "import type { v4 } from '@sap/ux-specification-types';\nimport type { Table, FilterBar, Header } from '../controls';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\n/**\n * sync rule deleting all views if the chart view gets deleted\n * @param manifestSection - manifest section of the given view\n */\nfunction deleteAllALPViews(manifestSection: object): void {\n    if (manifestSection['paths']?.[0]?.primary || manifestSection['paths']?.[0]?.secondary) {\n        Object.keys(manifestSection).forEach((key) => delete manifestSection[key]);\n    }\n}\n\n/**\n * sync rule for preventing the export of a property\n */\nfunction doNotExport(): void {\n    return;\n}\n\n/**\n * sync rule for preventing the import of a property\n */\nfunction doNotImport(): void {\n    return;\n}\n\n/**\n * Sync class for import and export of V4 list report\n */\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.ListReport.view.ListReport',\n    pageId: 'sap.suite.ui.generic.template.ListReport'\n})\nexport class ListReport implements v4.ListReportConfigV4 {\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views',\n            import: doNotImport,\n            export: doNotExport,\n            delete: deleteAllALPViews\n        }\n    })\n    chart?: v4.ALPChartView;\n\n    /* Table\n    Example Ids: EntitySet - Booking\n    s4v4lrop::BookingList--fe::table::Booking::LineItem-innerTable for sap.m.Table\n    s4v4lrop::BookingList--fe::table::Booking::LineItem for sap.ui.mdc.Table\n    */\n    table?: v4.ALPTableView | Table;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    variantManagement?: v4.VariantManagementTypeListReport;\n\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName) + '/views/paths/[]/0'\n        }\n    })\n    defaultPath?: v4.DefaultPathType;\n\n    @syncRule({\n        manifest: {\n            path: (pageName): string => getSettingsPathForPage(pageName)\n        }\n    })\n    defaultTemplateAnnotationPath?: string;\n\n    @childId('header')\n    header?: Header;\n\n    // Currently childIds are not used in case of OData V4 Example Id - \"fe::FilterBar::Booking\", where Booking is entitySet\n    @childId('fe::FilterBar')\n    filterBar?: FilterBar;\n}\n", "import type { ObjectPageHeader, ObjectPageLayout } from '../controls';\nimport { v4 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\n@pageLayoutInformation({\n    id: `${v4.FE_TEMPLATE_V4_OBJECT_PAGE}.view.Details`,\n    pageId: v4.FE_TEMPLATE_V4_OBJECT_PAGE\n})\nexport class ObjectPage implements v4.ObjectPageConfigV4 {\n    @childId('header')\n    header?: ObjectPageHeader;\n\n    @childId('layout')\n    layout?: ObjectPageLayout;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[]): string => getSettingsPathForPage(pageName)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    variantManagement?: v4.VariantManagementTypeObjectPage;\n\n    @childId('sections')\n    sections?: v4.GenericSections | v4.CustomSections;\n\n    footer?: v4.ObjectPageFooter<v4.ObjectPageFooterActions>;\n}\n", "/**\n * Sync class for import and export of V4 freestyle page\n */\nexport class FreestylePage {}\n", "import * as controls from './controls';\nimport * as pages from './pages';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport { MetadataFactory } from '../../common/decoration/factory';\nimport { PageTypeV2 } from '@sap/ux-specification-types';\n\n/**\n * Note: If the key of the elements corresponds to the name of the definition in schema, you do not have to list it explicitly here.\n * The following tables only comprise entries for elements that do not follow the official pattern (yet)\n */\nconst ALPElements = {\n    //no deviations\n};\n\nconst LRElements = {\n    //no deviations\n};\n\nconst OPElements = {\n    Table: controls.ObjectPageTable,\n    TableColumn: controls.ObjectPageTableColumn,\n    ObjectPageCustomSectionView: controls.ObjectPageCustomSectionFragment,\n    ActionAfterExecutionConfiguration: controls.ActionAfterExecutionConfigurationOP\n};\n\nconst pageTypes = {\n    [PageTypeV2.AnalyticalListPage]: ALPElements,\n    [PageTypeV2.ListReport]: LRElements,\n    [PageTypeV2.ObjectPage]: OPElements\n};\n\n/**\n * V4 specific factory class for creating instances of (reflect) metadata classes\n */\nexport class MetadataInstanceFactoryV4 extends MetadataFactory implements MetadataInstanceInterface {\n    constructor() {\n        super(controls, pages, pageTypes);\n    }\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { Manifest, v4, ImportObjectPageV4Parameters } from '@sap/ux-specification-types';\nimport {\n    MANIFESTPATH,\n    FacetTitlePrefix,\n    ManifestSection,\n    PageTypeV4,\n    DefinitionName,\n    LogSeverity,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { transferSettingsOfObject } from '../utils';\nimport { DEFINITION_LINK_PREFIX, getDefinitionKey } from '../../../common';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { MetadataInstanceFactoryV4 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\n\n/**\n * Converts section ID to manifest ID (replaces '::' with ['/', '#'])\n * @param sectionId - converted ID of the given object page section\n * @param splitOnLt - split ID and get only part in <...>\n * @param annotationTerm - annotationTerm to split Id on\n * @returns manifest ID\n */\nexport function getManifestId(sectionId: string, splitOnLt = false, annotationTerm?: string) {\n    const Id = splitOnLt ? sectionId.split('<')[1]?.slice(0, -1) : sectionId;\n    if (annotationTerm) {\n        const pathParts = Id.split(`@${annotationTerm}`);\n        return `${pathParts[0]?.replace(/::/g, '/')}@${annotationTerm}${pathParts[1]?.replace(/::/g, '#')}`;\n    }\n\n    return `${sectionId?.replace(/::/g, '/').replace(/::/g, '#')}`;\n}\n\n/**\n * Converts manifest ID to definition ID (replaces ['#', '/'] with '::')\n * @param manifestId - ID of the given object page section in manifest\n * @returns definition ID\n */\nexport function getDefinitionId(manifestId: string) {\n    return manifestId.replace(/#/g, '::').replace(/\\//g, '::');\n}\n\n/**\n * Fills the section table columns in a V4 config\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSection - section of the manifest.json\n * @param configPart - the given part of the object page config\n * @param sectionId - converted ID of the given object page section\n * @param manifestSectionId - ID of the given object page section in manifest\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - page definition in V4 format\n */\nfunction fillTableColumnsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSection: string | number | boolean | object,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string\n) {\n    if (manifestSection['columns']) {\n        configPart[sectionId].table.columns = {};\n        let tableDefinition: DefinitionName;\n        const lineItems = importParameters.jsonSchema.definitions[getDefinitionId(manifestSectionId)] as Definition;\n        if (lineItems) {\n            for (const columnKey in lineItems.properties) {\n                const columnInSchema = lineItems.properties[columnKey] as Definition;\n                if (columnInSchema.$ref.indexOf(DefinitionName.CustomColumnOP) > -1) {\n                    tableDefinition = DefinitionName.CustomColumnOP;\n                } else {\n                    tableDefinition = DefinitionName.ObjectPageTableColumn;\n                }\n                const columnInConfig = factory.createInstance(PageTypeV4.ObjectPage, tableDefinition);\n\n                transferSettingsOfObject(\n                    columnInConfig,\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[tableDefinition],\n                    importParameters.routingId,\n                    [columnKey],\n                    manifestSectionId\n                );\n                if (Object.keys(columnInConfig).length > 0) {\n                    configPart[sectionId].table.columns[columnKey] = columnInConfig;\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the table actions in config.json\n * @param {ImportObjectPageV4Parameters} importParameters - object comprising all input data\n * @param sectionId - ID of the current section\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillTableActionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    sectionId: string,\n    configPart: object,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string = sectionId\n) {\n    const actionsDefinition =\n        importParameters.jsonSchema.definitions[`${DefinitionName.Actions}<${getDefinitionId(manifestSectionId)}>`];\n    if (typeof actionsDefinition === 'object') {\n        for (const actionKey in actionsDefinition['properties']) {\n            const actionDefinition = actionsDefinition.properties[actionKey];\n            if (typeof actionDefinition === 'object' && actionDefinition.$ref) {\n                const definitionKey = getDefinitionKey(actionDefinition.$ref);\n                const schemaPropertyName = definitionKey.split('<')[0];\n                configPart[sectionId].table.toolBar.actions[actionKey] = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    schemaPropertyName\n                );\n                transferSettingsOfObject(\n                    configPart[sectionId].table.toolBar.actions[actionKey],\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[definitionKey],\n                    importParameters.routingId,\n                    [actionKey],\n                    manifestSectionId\n                );\n                if (Object.keys(configPart[sectionId].table.toolBar.actions[actionKey]).length === 0) {\n                    delete configPart[sectionId].table.toolBar.actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills form  actions in config.json\n * @param {ImportObjectPageV4Parameters} importParameters - object comprising all input data\n * @param sectionId - ID of the current section\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillFormActionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSection: string | number | boolean | object,\n    sectionId: string,\n    configPart: object,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string = sectionId\n) {\n    if (manifestSection['actions']) {\n        configPart[sectionId].form.actions = {};\n        const forms = importParameters.jsonSchema.definitions[\n            `${DefinitionName.ObjectPageSectionForm}<${getDefinitionId(manifestSectionId)}>`\n        ] as Definition;\n        const formReference = forms.properties.form['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n        const form = importParameters.jsonSchema.definitions[formReference] as Definition;\n        const actions = form.properties['actions'] as Definition;\n        const actionsReference = actions.$ref.split(DEFINITION_LINK_PREFIX)[1];\n        const actionsDefinition = importParameters.jsonSchema.definitions[actionsReference] as Definition;\n\n        for (const actionKey in actionsDefinition['properties']) {\n            const actionDefinition = actionsDefinition.properties[actionKey] as Definition;\n            const definitionKey = getDefinitionKey(actionDefinition.$ref);\n            const formActionDefinition = importParameters.jsonSchema.definitions[definitionKey] as Definition;\n            if (\n                formActionDefinition['annotationType'] === UIAnnotationTypes.DataFieldForAction ||\n                formActionDefinition.description === 'Custom Action'\n            ) {\n                // For custom actions we use definitionKey.split('<')[0];\n                const formActionKey = getDefinitionKey(formActionDefinition.$ref) || definitionKey.split('<')[0];\n                configPart[sectionId].form.actions[actionKey] = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    formActionKey\n                );\n                transferSettingsOfObject(\n                    configPart[sectionId].form.actions[actionKey],\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[formActionKey],\n                    importParameters.routingId,\n                    [actionKey.replace('/', '??')],\n                    manifestSectionId\n                );\n                if (Object.keys(configPart[sectionId].form.actions[actionKey]).length === 0) {\n                    delete configPart[sectionId].form.actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the table settings in config.json\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param sectionId - ID of the current section\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillTableInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface,\n    tableId?: string\n) {\n    const manifestSectionId = tableId ? tableId : getManifestId(sectionId, false, UIAnnotationTerms.LineItem);\n    const manifestSection = manifestSettings.controlConfiguration[manifestSectionId];\n\n    if (manifestSection) {\n        // Data needs to be transferred\n        configPart[sectionId] = {};\n        configPart[sectionId].table = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageTable);\n\n        const sectionDefinition = `${DefinitionName.ObjectPageTable}<${\n            tableId ? getDefinitionId(tableId) : sectionId.replace('#', '::')\n        }>`;\n        transferSettingsOfObject(\n            configPart[sectionId].table,\n            importParameters.manifest,\n            importParameters.jsonSchema.definitions[sectionDefinition],\n            importParameters.routingId,\n            [],\n            manifestSectionId\n        );\n\n        configPart[sectionId].table.toolBar = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ToolBar, {\n            actions: {}\n        });\n        fillTableActionsInConfig(importParameters, sectionId, configPart, factory, manifestSectionId);\n        fillTableColumnsInConfig(importParameters, manifestSection, configPart, sectionId, factory, manifestSectionId);\n    }\n}\n\n/**\n * Fills the form settings in config.json\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param sectionId - ID of the current section\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param formId - from defitinion ID\n */\nfunction fillFormInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n) {\n    const manifestSectionId = getManifestId(sectionId);\n    const manifestSection = manifestSettings.controlConfiguration[manifestSectionId];\n    if (manifestSection) {\n        configPart[sectionId] = {};\n        configPart[sectionId].form = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageForm, {\n            actions: {}\n        });\n        fillFormActionsInConfig(importParameters, manifestSection, sectionId, configPart, factory, manifestSectionId);\n    }\n}\n\n/**\n * Fills the sections and subsections of the configuration (recursive function)\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param sectionProperties - current properties' list (of sections or subsections)\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillSectionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    sectionProperties: Definition,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: Definition,\n    factory: MetadataInstanceInterface\n): void {\n    for (const sectionId in sectionProperties) {\n        const schemaSection: Definition = sectionProperties[sectionId];\n        let tableManifestId = sectionId;\n        if (\n            sectionId.includes('com.sap.vocabularies.UI.v1.PresentationVariant') &&\n            schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionTableV4)\n        ) {\n            const sectionIdRef = schemaSection['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n            tableManifestId = sectionIdRef ? getManifestId(sectionIdRef, true, UIAnnotationTerms.LineItem) : sectionId;\n            fillTableInConfig(importParameters, manifestSettings, configPart, sectionId, factory, tableManifestId);\n        } else if (schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionTableV4)) {\n            // Section without subsections\n            fillTableInConfig(importParameters, manifestSettings, configPart, sectionId, factory);\n        } else if (schemaSection.properties && schemaSection.properties.subsections) {\n            configPart[sectionId] = {\n                subsections: {}\n            };\n            fillSectionsInConfig(\n                importParameters,\n                schemaSection.properties.subsections['properties'],\n                manifestSettings,\n                configPart[sectionId].subsections,\n                factory\n            );\n        } else if (\n            schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionForm) &&\n            schemaSection.$ref?.includes('@com.sap.vocabularies.UI.v1.FieldGroup::')\n        ) {\n            // Form section\n            fillFormInConfig(importParameters, manifestSettings, configPart, sectionId, factory);\n        }\n    }\n}\n\n/**\n * Fills the header facets in the config file of a V4 object page\n * @param appSchema - app specific schema\n * @param objectPageConfig - configuration, to be enhanced\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param manifest - manifest.json of the app\n * @param v4Page - current (object) page\n */\nfunction fillHeaderFacets(\n    appSchema: Definition,\n    objectPageConfig: v4.ObjectPageConfigV4,\n    factory: MetadataInstanceInterface,\n    manifest: Manifest,\n    routingId: string\n): void {\n    const headerSections = appSchema.definitions[DefinitionName.HeaderSections] as Definition;\n    if (headerSections && headerSections.properties) {\n        objectPageConfig.header.sections = {};\n        for (const sectionId in headerSections.properties) {\n            const sectionDefinitionKey = headerSections.properties[sectionId]['$ref']?.split(DEFINITION_LINK_PREFIX)[1];\n            const sectionDefinition = sectionDefinitionKey\n                ? appSchema.definitions[sectionDefinitionKey]\n                : headerSections.properties[sectionId];\n            const factoryKey = sectionDefinitionKey ? sectionDefinitionKey.split('<')[0] : undefined;\n\n            objectPageConfig.header.sections[sectionId] = factoryKey\n                ? factory.createInstance(PageTypeV4.ObjectPage, factoryKey)\n                : {};\n\n            transferSettingsOfObject(\n                objectPageConfig.header.sections[sectionId],\n                manifest,\n                sectionDefinition,\n                routingId,\n                [],\n                (sectionDefinition as Definition)?.title?.split(FacetTitlePrefix)[1]\n            );\n        }\n    }\n}\n\n/**\n * Fills the header and footer actions in the config file of a V4 object page\n * @param {Definition} appSchema - app specific schema\n * @param {v4.ObjectPageConfigV4} objectPageConfig - configuration, to be enhanced\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {Manifest} manifest - manifest.json of the app\n * @param {string} routingId - routing id of page\n * @param {DefinitionName} definitionName definition name in the schema\n * @param {PropertyName} actionType - header or a footer action\n */\nfunction fillHeaderFooterActions(\n    appSchema: Definition,\n    objectPageConfig: v4.ObjectPageConfigV4,\n    factory: MetadataInstanceInterface,\n    manifest: Manifest,\n    routingId: string,\n    definitionName: DefinitionName,\n    actionType: PropertyName\n): void {\n    const actions = appSchema.definitions[definitionName] as Definition;\n    if (typeof actions === 'object') {\n        objectPageConfig[actionType].actions = {};\n        for (const actionKey in actions.properties) {\n            const definition = actions.properties[actionKey];\n            if (typeof definition === 'object' && definition.$ref) {\n                const definitionKey = getDefinitionKey(definition.$ref);\n                const actionDefinition = appSchema.definitions[definitionKey] as Definition;\n                const key = getDefinitionKey(actionDefinition.$ref || definition.$ref);\n\n                objectPageConfig[actionType].actions[actionKey] = factory.createInstance(PageTypeV4.ObjectPage, key);\n                transferSettingsOfObject(\n                    objectPageConfig[actionType].actions[actionKey],\n                    manifest,\n                    appSchema.definitions[key],\n                    routingId,\n                    [actionKey.replace('/', '??')]\n                );\n                if (Object.keys(objectPageConfig[actionType].actions[actionKey]).length === 0) {\n                    delete objectPageConfig[actionType].actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the object page configuration from the given manifest\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param v4Page - current (object) page\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @returns {ObjectPageConfig} the object page configuration\n */\nfunction fillObjectPageConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    v4Page: v4.SapUiAppPageV4,\n    factory: MetadataInstanceInterface\n): v4.ObjectPageConfigV4 {\n    const objectPageConfig: v4.ObjectPageConfigV4 = factory.createPageInstance(PageTypeV4.ObjectPage);\n\n    const manifestSettings = v4Page.options && v4Page.options.settings;\n\n    // Transfer header information\n    objectPageConfig.header = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageHeader);\n    transferSettingsOfObject(\n        objectPageConfig.header,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageHeader],\n        importParameters.routingId,\n        []\n    );\n\n    // Transfer footer information\n    objectPageConfig.footer = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageFooter);\n    transferSettingsOfObject(\n        objectPageConfig.footer,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageFooter],\n        importParameters.routingId,\n        []\n    );\n\n    // Transfer layout information\n    objectPageConfig.layout = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageLayout);\n    transferSettingsOfObject(\n        objectPageConfig.layout,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageLayout],\n        importParameters.routingId,\n        []\n    );\n\n    transferSettingsOfObject(\n        objectPageConfig,\n        importParameters.manifest,\n        importParameters.jsonSchema,\n        importParameters.routingId,\n        []\n    );\n    if (!objectPageConfig.sections) {\n        objectPageConfig.sections = {};\n    }\n    if (manifestSettings) {\n        if (manifestSettings.controlConfiguration && importParameters.jsonSchema.definitions[DefinitionName.Sections]) {\n            // Fill sections and subsections\n            objectPageConfig.sections = {};\n            fillSectionsInConfig(\n                importParameters,\n                importParameters.jsonSchema.definitions[DefinitionName.Sections]['properties'],\n                manifestSettings,\n                objectPageConfig.sections as Definition,\n                factory\n            );\n        }\n        // Fill Custom sections\n        const customSections = manifestSettings.content?.body?.sections;\n        if (customSections) {\n            objectPageConfig.sections.custom = [];\n            for (const sectionId in customSections) {\n                const section = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    DefinitionName.ObjectPageCustomSectionFragment\n                );\n                transferSettingsOfObject(\n                    section,\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[DefinitionName.ObjectPageCustomSectionFragment],\n                    importParameters.routingId,\n                    [],\n                    sectionId\n                );\n                objectPageConfig.sections.custom.push(section);\n            }\n        }\n\n        // Fill header facets\n        fillHeaderFacets(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId\n        );\n        fillHeaderFooterActions(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId,\n            DefinitionName.ObjectPageHeaderActions,\n            PropertyName.header\n        );\n        fillHeaderFooterActions(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId,\n            DefinitionName.FooterActions,\n            PropertyName.footer\n        );\n    }\n    return objectPageConfig;\n}\n\n/**\n * External API: Create configuration (file content) for a V4 object page\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns {ObjectPageConfig} config - the object page configuration\n */\nexport function createObjectPageConfigV4(\n    importParameters: ImportObjectPageV4Parameters\n): v4.ObjectPageConfigV4 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.manifest[ManifestSection.ui5] || !importParameters.manifest[ManifestSection.ui5]['routing']) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const v4Pages = importParameters.manifest[ManifestSection.ui5]['routing']['targets'] as v4.SapUiAppPageV4[];\n    if (!v4Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTARGETS'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    const v4Page = v4Pages[importParameters.routingId];\n    if (!v4Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTINGID', { routingId: importParameters.routingId }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n\n    //Fill config.json\n    return fillObjectPageConfig(importParameters, v4Page, factory);\n}\n", "import type { v4, ImportFPMCustomPageV4Parameters, SchemaDefinition } from '@sap/ux-specification-types';\nimport { getPageCustomViewFile } from '../../utils/utils';\nimport { parseXML, traverseSchema } from '../../utils/macros';\nimport type { TraverseData } from '../../utils/macros';\n\n/**\n * Method checks if passed string value and schema matches to boolean type.\n * @param {string} value Attribute value from xml file.\n * @param {SchemaDefinition} schema Property's schema containing information about property type.\n * @returns {boolean} Is value a boolean type.\n */\nfunction isBoolean(value: string, schema: SchemaDefinition): boolean {\n    const schemaBoolean = 'boolean';\n    if (\n        schema.type === schemaBoolean ||\n        schema.anyOf?.find((entry: SchemaDefinition) => entry.type === schemaBoolean)\n    ) {\n        return value === 'true' || value === 'false';\n    }\n    return false;\n}\n\n/**\n * Method checks if passed string value and schema matches to number type.\n * @param {string} value Attribute value from xml file.\n * @param {SchemaDefinition} schema Property's schema containing information about property type.\n * @returns {boolean} Is value a number type.\n */\nfunction isNumber(value: string, schema: SchemaDefinition): boolean {\n    const schemaNumber = 'number';\n    if (schema.type === schemaNumber || schema.anyOf?.find((entry: SchemaDefinition) => entry.type === schemaNumber)) {\n        return !isNaN(parseFloat(value.toString()));\n    }\n    return false;\n}\n\n/**\n * Method converts string value from XML file attribute to strict type depending on property's schema.\n * @param {string | number} value Attribute value from xml file.\n * @param {SchemaDefinition} schema Property's schema containing information about property type.\n * @returns {unknown} Converted value.\n */\nfunction convertValue(value: string | number, schema: SchemaDefinition): unknown {\n    const valueStr = value.toString();\n    if (isBoolean(valueStr, schema)) {\n        return valueStr === 'true' ? true : false;\n    }\n    if (isNumber(valueStr, schema)) {\n        return parseFloat(valueStr);\n    }\n    return value;\n}\n\n/**\n * Callback method of traversing schema and XML.\n * Method imports value from XML element to page config object.\n * @param {TraverseData} traverseData Schema and XML traverse data.\n * @param {SchemaDefinition} property Schema property to use for import.\n * @param {object} config Fragment of page config object.\n * @param {string} name Name of property to import.\n * @returns {boolean} Is new value differs.\n */\nfunction importProperty(traverseData: TraverseData, property: SchemaDefinition, config: object, name: string): boolean {\n    const { element } = traverseData;\n    let differs = false;\n    if (element.attributes && name in element.attributes) {\n        const value = convertValue(element.attributes[name], property);\n        if (value !== config[name]) {\n            config[name] = value;\n            differs = true;\n        }\n    }\n    return differs;\n}\n\n/**\n * Imports the content of fpm custom page by parsing associated view file.\n * @param {ImportFPMCustomPageV4Parameters} importParameters Object comprising all input data.\n * @param {FeatureToggle[]} [featureToggles] - array of supported features.\n * @returns {v4.ListReportConfigV4 | undefined} Result of import.\n */\nexport function createCustomPageConfig(\n    importParameters: ImportFPMCustomPageV4Parameters\n): v4.ListReportConfigV4 | undefined {\n    const { views, manifest, jsonSchema, routingId, logger } = importParameters;\n    if (!jsonSchema || Object.keys(jsonSchema).length === 0) {\n        // Unsupported feature\n        return undefined;\n    }\n    const viewData = getPageCustomViewFile(views || [], routingId, manifest);\n    let config: v4.ListReportConfigV4 | undefined;\n    if (viewData) {\n        const element = parseXML(viewData.file, false, logger);\n        if (element) {\n            const coreElement = element.elements?.[0];\n            config = {};\n            const schema = jsonSchema;\n            traverseSchema(\n                {\n                    fullSchema: schema,\n                    schema: schema,\n                    element: coreElement,\n                    contextPath: [],\n                    config\n                },\n                importProperty\n            );\n        }\n    }\n    return config;\n}\n", "import { AppProvider } from '../../../common/appProvider';\nimport { AppSettings } from '../../application';\nimport { getSchemaFilePath, determineV4PageTemplateType } from '../../../common';\nimport { createListReportConfig } from '../pages/listReport';\nimport { createObjectPageConfigV4 } from '../pages/objectPage';\nimport { createCustomPageConfig } from '../pages/fpmCustomPage';\nimport type {\n    ExtensionFiles,\n    Files,\n    Manifest,\n    SapUi5RoutingRoute,\n    SapUi5RoutingRouteTarget,\n    ImportAllConfigsParameters\n} from '@sap/ux-specification-types';\nimport {\n    v4,\n    MANIFESTPATH,\n    TemplateType,\n    PageTypeV4,\n    FioriElementsVersion,\n    SchemaType,\n    ManifestSection,\n    ViewTypes,\n    LogSeverity\n} from '@sap/ux-specification-types';\nimport { transferSettingsOfObject } from '../utils';\nimport type {\n    ExtensionLogger,\n    ImportObjectPageV4Parameters,\n    ImportListReportV4Parameters,\n    ImportFPMCustomPageV4Parameters,\n    ImportAnalyticalListPageV4Parameters\n} from '../../../..';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport type { Definition } from 'typescript-json-schema';\nimport { getEntityTypeEntitySetFromContextPath } from '../../../common/importProject';\n\nexport enum Constants {\n    OptionalQuery = ':?query:',\n    Component = 'sap/fe/AppComponent',\n    Namespace = 'sap.fe.templates'\n}\n\n// Store controller names which should be handled lately\nexport const unhandledControllers: Array<string> = [];\n// Store route associations\nlet associations: object = {};\n\n/**\n * Sort in following way\n * 1. string targets first\n * 2. Then sort targets as array by elements count - from lowest to highest(ASC)\n * @param {SapUi5RoutingRoute} route1 - First instance of router to compare.\n * @param {SapUi5RoutingRoute} route2 - Second instance of router to compare.\n * @return {number} Compare result.\n */\nfunction routesSorter(route1: SapUi5RoutingRoute, route2: SapUi5RoutingRoute): number {\n    const target1 = route1.target;\n    const target2 = route2.target;\n    const isT1Array = Array.isArray(target1);\n    const isT2Array = Array.isArray(target2);\n    if (isT1Array && isT2Array) {\n        return target1.length - target2.length;\n    }\n    if (!isT1Array && !isT2Array) {\n        return 0;\n    }\n    return !isT1Array ? -1 : 1;\n}\n\n/**\n * Method to resolve target and return target name as string.\n * Thing is that we can receive target as array of targets and we need detect which target is unique target in that array.\n * @param {SapUi5RoutingRouteTarget} target - Target to resolve.\n * @param {Array<string>} usedTargets - Array of resolved targets(which means that those targets are not unique anymore).\n * @return {string} Resolved unique target namet.\n */\nfunction resolveTarget(target: SapUi5RoutingRouteTarget, usedTargets: Array<string> = []): string {\n    if (!Array.isArray(target)) {\n        return target;\n    }\n    let targetParts: Array<string> = target;\n    for (const usedTarget of usedTargets) {\n        targetParts = targetParts.filter((targetPart) => !usedTarget.includes(targetPart));\n    }\n    return targetParts[0];\n}\n\n/**\n * Method which populates object with routings routes associations.\n * @param {SapUi5RoutingRoute} routes - Routing routes.\n * @return {object} Map object of association routes.\n */\nfunction populateAssociations(routes: SapUi5RoutingRoute[]): object {\n    const routesAssociations = {};\n    routes = routes.concat().sort(routesSorter);\n    const resolvedTargets = [];\n    for (const route of routes) {\n        const parts = route.pattern.split(':')[0].split('/');\n        let target;\n        if (Array.isArray(route.target)) {\n            target = resolveTarget(route.target, resolvedTargets);\n            resolvedTargets.push(route.target);\n        } else {\n            target = route.target;\n        }\n        for (const part of parts) {\n            const prop = part.split('(')[0];\n            routesAssociations[target] = routesAssociations[target] ? `${routesAssociations[target]}.${prop}` : prop;\n        }\n    }\n    return routesAssociations;\n}\n\n/**\n * Determines the page type of a routing target\n * @param target - routing target, as defined in manifest\n * @param logger - logger for error messages\n * @param routingTargetId - ID of the routing target\n * @returns the page type\n */\nfunction determinePageType(\n    target: v4.RoutingTargetOptions,\n    logger: ExtensionLogger,\n    routingTargetId: string\n): PageTypeV4 {\n    let pageType: PageTypeV4;\n    if (target['name']) {\n        if (target['name'] === v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n            pageType = PageTypeV4.FPMCustomPage;\n        } else if (\n            target['name'].endsWith(PageTypeV4.ListReport) ||\n            target['name'].endsWith(PageTypeV4.AnalyticalListPage)\n        ) {\n            pageType = PageTypeV4.ListReport;\n        } else if (target['name'].endsWith(PageTypeV4.ObjectPage)) {\n            pageType = PageTypeV4.ObjectPage;\n        } else {\n            pageType = PageTypeV4.CustomPage;\n        }\n    } else if ('viewId' in target) {\n        pageType = PageTypeV4.CustomPage;\n    } else {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('INVALIDTARGETDEFINITION', { target: JSON.stringify(target) }),\n            location: {\n                path: MANIFESTPATH,\n                range: [`${ManifestSection.ui5}/routing/targets/${routingTargetId}`]\n            }\n        });\n        if (target['viewType'] in ViewTypes && 'viewName' in target) {\n            pageType = PageTypeV4.CustomPage;\n        }\n    }\n    return pageType;\n}\n\nexport type ConversionParameters = {\n    target: v4.RoutingTargetOptions;\n    pageType: PageTypeV4;\n    manifest: Manifest;\n    schemas: Files;\n    logger: ExtensionLogger;\n    page: v4.Page;\n    id: string;\n    templateType: TemplateType;\n    extensionFiles: ExtensionFiles;\n};\n\nfunction convertSettingsToConfig(params: ConversionParameters) {\n    const viewId = params.target['viewId'] || params.target['id'];\n    const schemaId = getSchemaFilePath(params.page.pageType, params.id, viewId).filename;\n    if (!schemaId || params.page.pageType === PageTypeV4.CustomPage) {\n        return;\n    }\n    // Get the JSON schema for the page. If no page specific schema exists, fall back top the generic schema for the page type\n    const jsonSchema: string =\n        Object.keys(params.schemas).find((element) => element.includes(schemaId)) ||\n        Object.keys(params.schemas).find((element) => element.includes(schemaId.slice(0, -1))) ||\n        Object.keys(params.schemas).find((element) => element.includes(params.page.pageType));\n\n    if (jsonSchema) {\n        if (params.page.pageType === PageTypeV4.ObjectPage) {\n            const importParameters: ImportObjectPageV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                routingId: params.id,\n                logger: params.logger\n            };\n            params.page.config = createObjectPageConfigV4(importParameters);\n        } else if (params.page.pageType === PageTypeV4.FPMCustomPage) {\n            const importParameters: ImportFPMCustomPageV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger,\n                routingId: params.id,\n                fragments: params.extensionFiles.fragments,\n                views: params.extensionFiles.views\n            };\n            params.page.config = createCustomPageConfig(importParameters);\n        } else if (params.templateType === TemplateType.ListReportObjectPageV4) {\n            const importParameters: ImportListReportV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger\n            };\n            params.page.config = createListReportConfig(importParameters, SchemaType.ListReport);\n        } else if (params.templateType === TemplateType.AnalyticalListPageV4) {\n            const importParameters: ImportAnalyticalListPageV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger\n            };\n            params.page.config = createListReportConfig(importParameters, SchemaType.AnalyticalListPage);\n        } else if (\n            params.templateType === TemplateType.FreestylePageV4 &&\n            params.page.pageType === PageTypeV4.ListReport\n        ) {\n            const importParameters: ImportListReportV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger\n            };\n            const templateType = determineV4PageTemplateType(params.target as v4.SapUiAppPageV4);\n            const schemaType =\n                templateType === TemplateType.AnalyticalListPageV4\n                    ? SchemaType.AnalyticalListPage\n                    : SchemaType.ListReport;\n            params.page.config = createListReportConfig(importParameters, schemaType);\n        }\n    }\n}\n\n/**\n * Updates the class variable collecting the unhandled controllers\n * @param target - current routing target\n */\nfunction updateUnhandledControllers(target: v4.RoutingTargetOptions): void {\n    if (target.options) {\n        if ('viewName' in target.options.settings) {\n            const viewParts = target.options.settings.viewName.split('.');\n            unhandledControllers.push(viewParts[viewParts.length - 1]);\n        }\n    } else if ('viewId' in target) {\n        // There no 'options' for custom page target -\n        //    we need check target's controller source for navigation\n        const viewParts = target.viewName.split('.');\n        unhandledControllers.push(viewParts[viewParts.length - 1]);\n    }\n}\n\n/*\n * Evaluates the target options in manifest, determines variantManagement and page navigation.\n * @param {RoutingTargetOptions} target - target definition in manifest\n * @param {Page} page - page config, to be updated\n */\nfunction setVariantManagmentAndNavigation(target: v4.RoutingTargetOptions, page: v4.PageV4): void {\n    if (target.options) {\n        if (target.options.settings.variantManagement) {\n            page.variantManagement = target.options.settings.variantManagement;\n        }\n        page.navigation = {};\n        for (const name in target.options.settings.navigation) {\n            const navigationRoute = target.options.settings.navigation[name];\n            page.navigation[name] = navigationRoute.detail;\n        }\n    }\n}\n\n/**\n * Evaluates the target options in manifest, determines entitySet, entityType and contextPath.\n * @param {RoutingTargetOptions} target - target definition in manifest\n * @param {Page} page - page config, to be updated\n */\nfunction setEntitySetEntityTypeContextPath(\n    target: v4.RoutingTargetOptions,\n    page: v4.PageV4,\n    importParameters: ImportAllConfigsParameters\n): void {\n    if (target.options) {\n        page.entitySet = target.options.settings?.entitySet;\n        page.contextPath = target.options.settings?.contextPath;\n        const { entitySet, entityType } = getEntityTypeEntitySetFromContextPath(\n            importParameters.serviceAVT,\n            page.contextPath,\n            page.entitySet,\n            importParameters.logger\n        );\n        page.entitySet = page.entitySet || entitySet?.name;\n        page.entityType = entityType?.fullyQualifiedName;\n    }\n}\n\n/**\n * Checks if the manifest's routing target represents a custom page definition\n * @param {RoutingTargetOptions} target - target definition in manifest\n * @param {Page} page - page config, to be updated\n * @param {PageTypeV4} pageType - page type\n */\nfunction evaluateCustomPageSettings(target: v4.RoutingTargetOptions, page: v4.Page, pageType: PageTypeV4): void {\n    if ('viewId' in target) {\n        // Populate view of custom page\n        page.view = {\n            id: target.viewId,\n            name: target.viewName,\n            ...(target.viewType && { viewType: target.viewType }),\n            ...(target.viewPath && { path: target.viewPath }),\n            ...(target.path && { path: target.path })\n        };\n    } else if ([PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(pageType)) {\n        const customPageName =\n            (target as v4.SapUi5RoutingTargetCustomPageV4New).options?.settings?.viewName || target['viewName'];\n        page.view = {\n            ...(target.id && { id: target.id }),\n            ...(customPageName && { name: customPageName }),\n            ...(target.name && { template: target.name as any }),\n            ...(target['viewType'] && { viewType: target['viewType'] })\n        };\n    }\n}\n\n/**\n * Determines the Pages(app.json) using routing configuration from manifest and creates the configuration for each page\n * @param {ImportAllConfigsParameters} importParameters - structure comprising all input parameters\n *\n * @returns a list of configs for all pages\n */\nexport function getPagesAndConfigs(importParameters: ImportAllConfigsParameters): v4.Pages {\n    const pages: v4.Pages = {};\n    const routing: v4.SapUi5RoutingV4 = importParameters.manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4;\n    associations = populateAssociations(routing.routes || []);\n    for (const id in routing.targets) {\n        const target: v4.RoutingTargetOptions = routing.targets[id];\n        const pageType = determinePageType(target, importParameters.logger, id);\n        const page: v4.PageV4 = { pageType };\n        // Entity set\n        setEntitySetEntityTypeContextPath(target, page, importParameters);\n        if (target.controlAggregation) {\n            page.controlAggregation = target.controlAggregation;\n        }\n        if (associations[id] && associations[id].indexOf('.') !== -1) {\n            const parts = associations[id].split('.');\n            page.navigationProperty = parts[parts.length - 1];\n        }\n        // Custom page's view object\n        evaluateCustomPageSettings(target, page, pageType);\n        setVariantManagmentAndNavigation(target, page);\n        updateUnhandledControllers(target);\n        // Get layout from route\n        const route = routing.routes.find((routingRoute) => routingRoute.name === id);\n        if (route && 'layout' in route) {\n            page.defaultLayoutType = route.layout;\n        }\n        pages[id] = page;\n        // convert settings to config\n        const conversionParameters: ConversionParameters = {\n            target,\n            pageType,\n            manifest: importParameters.manifest,\n            schemas: importParameters.appSchemas,\n            logger: importParameters.logger,\n            page,\n            id,\n            templateType: importParameters.templateType,\n            extensionFiles: { views: importParameters.views, fragments: importParameters.fragments }\n        };\n        convertSettingsToConfig(conversionParameters);\n    }\n\n    return pages;\n}\n\n/**\n * Get the id of the page that is to open when the application is started.\n * @param routing UI5 routing configuration\n */\nexport function getHome(routing: v4.SapUi5RoutingV4): string | undefined {\n    let routeHome;\n    if (routing && routing.routes && routing.routes.length > 0) {\n        for (const route of routing.routes) {\n            //find the home, i.e. route which starts with ':?query:' pattern for List Report,\n            //resp. doesn't contain '/' for Form Page\n            if (route.pattern.startsWith(':?query:')) {\n                routeHome = route;\n                break;\n            } else if (route.pattern.indexOf('/') === -1) {\n                routeHome = route;\n                continue;\n            }\n        }\n        if (routeHome) {\n            return resolveTarget(routeHome.target);\n        } else {\n            return resolveTarget(routing.routes[0].target);\n        }\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Method which detects app settings from manifest.\n * Currently only some settings are detected - Flexible Column Layout, viewPath, viewType, path\n * @param routing UI5 routing configuration.\n * @return {AppSettings} Application settings.\n */\nexport function getSettings(routing: v4.SapUi5RoutingV4): AppSettings {\n    const config = routing.config;\n    return {\n        ...(config.flexibleColumnLayout && { flexibleColumnLayout: config.flexibleColumnLayout }),\n        ...(config.viewType && { viewType: config.viewType }),\n        ...(config.viewPath && { path: config.viewPath }),\n        ...(config.path && { path: config.path })\n    };\n}\n\nexport function getPages(manifest: Manifest, targetName: string): v4.SapUiAppPagesV4 {\n    const routing = manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4;\n    const pages: v4.SapUiAppPagesV4 = {};\n    if (routing) {\n        for (const id in routing.targets) {\n            const v4Page = routing.targets[id];\n            if (v4Page['name'] === targetName) {\n                pages[id] = v4Page as v4.SapUiAppPageV4;\n            }\n        }\n    }\n    return pages;\n}\n\nexport class V4AppProvider extends AppProvider {\n    public constructor(importParameters: ImportAllConfigsParameters) {\n        // Import settings\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        const appSchema = importParameters.appSchemas[schemaFile.filename] as Definition;\n        transferSettingsOfObject(appSettings, importParameters.manifest, appSchema.definitions.AppSettings, '', []);\n        super(\n            importParameters.manifest,\n            importParameters.appSchemas,\n            getHome(importParameters.manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4),\n            getPagesAndConfigs(importParameters),\n            FioriElementsVersion.v4,\n            {\n                ...getSettings(importParameters.manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4),\n                ...appSettings\n            },\n            importParameters.logger\n        );\n        this.unhandledControllers = unhandledControllers;\n    }\n}\n", "import { readFile } from 'fs';\nimport { join } from 'path';\nimport type { FioriElementsVersion } from '@sap/ux-specification-types';\nimport { SchemaType } from '@sap/ux-specification-types';\n\n/**\n * Return the path to the generic JSON schema\n * @param version - Fiori elements version\n * @param schemaType - Type of the schema, e.g Application, ListReport, ObjectPage, ...\n */\nexport const getPathToGenericSchema = (\n    version: FioriElementsVersion,\n    schemaType: SchemaType,\n    directory: string = __dirname\n): string | undefined => {\n    let fileName: string;\n    switch (schemaType) {\n        case SchemaType.Application: {\n            fileName = `${SchemaType.Application}${version.toUpperCase()}.json`;\n            break;\n        }\n        case SchemaType.FPMCustomPage: {\n            // Use building blocks generic schema for FPM custom pages\n            fileName = `${SchemaType.BuildingBlocks}Config.json`;\n            break;\n        }\n        default: {\n            fileName = `${schemaType}Config.json`;\n            break;\n        }\n    }\n    if (directory.endsWith('dist')) {\n        return join(directory, 'schemas', version, fileName);\n    } else if (directory.endsWith(join('specification', 'packages', 'specification'))) {\n        return join(directory, 'dist', 'schemas', version, fileName);\n    } else if (directory.endsWith(join('src', 'specification'))) {\n        return join(directory, '..', '..', 'dist', 'schemas', version, fileName);\n    } else if (directory.indexOf('node_modules') > -1) {\n        const moduleRoot = directory.substring(0, directory.indexOf('node_modules') + 12);\n        return join(moduleRoot, '@sap', 'ux-specification', 'dist', 'schemas', version, fileName);\n    }\n    return undefined;\n};\n\n/**\n * Read JSON schema from given path\n * @param path - path to schema file\n */\nconst readJsonSchema = async (path: string): Promise<JSON> => {\n    return new Promise((resolve, reject): void => {\n        readFile(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(JSON.parse(data));\n            }\n        });\n    });\n};\n\n/**\n * Return the generic schema for a given version and type\n * @param version - Fiori elements version, e.g. v2 or v4\n * @param schemaType - Type of the schema, e.g Application, ListReport, ObjectPage, ...\n */\nexport const getGenericSchema = async (version: FioriElementsVersion, schemaType: SchemaType): Promise<JSON> => {\n    try {\n        const path = getPathToGenericSchema(version, schemaType, __dirname);\n        return await readJsonSchema(path);\n    } catch (error) {\n        throw new Error(`No schema available for type: ${schemaType}, version: ${version}. Error was ${error.message}`);\n    }\n};\n", "import type { Definition } from 'typescript-json-schema';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { v2, PageTypeV2, PageTypeV4, FileData, SyncRule } from '@sap/ux-specification-types';\nimport { ArtifactType, DefinitionName, SchemaTag, SchemaKeyName } from '@sap/ux-specification-types';\nimport type { AnnotationTerm, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes, LineItem, SelectionFields } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    addKeyToDefinition,\n    getActionKey,\n    DEFINITION_LINK_PREFIX,\n    addDataTypeToDefinition,\n    addCommonLineItemDefinitions,\n    createAnnotationPath,\n    determineDataType,\n    getDataFieldDescription,\n    getLabelForPropertyPath,\n    getNextTargetDefinition,\n    getSchemaKeyOfLineItemRecord,\n    prepareRef\n} from '../../common';\nimport { getReflectMetadata } from '../../common/decoration/decorators';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { sep } from 'path';\nimport { xml2json } from 'xml-js';\nimport { ActionTypeV2 } from '../types';\n\n/**\n * Common function for enhancing the LineItems definiton of app schema by custom columns\n * @param appSchema - app-specific JSON schema\n * @param customColumnsDefinitionName - custom column definition name (plural)\n * @param customColumnDefinitionName - custom column definition name (singular)\n */\nfunction addCustomColumnDefinition(\n    appSchema: Definition,\n    customColumnsDefinitionName: string,\n    customColumnDefinitionName: string\n): void {\n    if (appSchema.definitions[DefinitionName.LineItems]) {\n        (appSchema.definitions[DefinitionName.LineItems] as Definition).properties['custom'] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnsDefinitionName}`\n        };\n    }\n    appSchema.definitions[customColumnsDefinitionName] = {\n        type: 'array',\n        items: {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnDefinitionName}`\n        },\n        description: 'Custom Columns'\n    };\n    appSchema.definitions[customColumnsDefinitionName][SchemaTag.isViewNode] = true;\n    const extensionType = (appSchema.definitions[customColumnDefinitionName] as Definition).properties['extensionType'];\n    if (extensionType) {\n        extensionType[SchemaTag.artifactType] = ArtifactType.Manifest;\n    }\n}\n\n/**\n * Prepares and returns id of action for further use and reference\n * @param actionType - type of action\n * @param lineItemProperties - properties of the line item collection: lineItemPath, lineItemRecord, lineItemId\n * @returns {string} actionId\n */\nfunction getActionId(\n    actionType: ActionTypeV2,\n    lineItemProperties: { lineItemPath: any; lineItemRecord: any; lineItemId: any; entityType: EntityType }\n): string {\n    let actionId: string;\n    if (actionType === ActionTypeV2.ColumnIntentBased) {\n        actionId = getSchemaKeyOfLineItemRecord(lineItemProperties.lineItemRecord);\n    } else if (actionType === ActionTypeV2.ToolBarIntentBased || actionType === ActionTypeV2.FooterIntentBased) {\n        actionId = prepareRef(\n            `${lineItemProperties.lineItemRecord.SemanticObject}::${lineItemProperties.lineItemRecord.Action}`\n        );\n    } else if (\n        actionType === ActionTypeV2.Column &&\n        lineItemProperties.lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n    ) {\n        actionId = prepareRef(`DataFieldForAction:::sAction::${lineItemProperties.lineItemRecord.Action}`);\n    } else {\n        actionId = prepareRef(lineItemProperties.lineItemRecord.Action);\n    }\n    if (lineItemProperties.lineItemId && lineItemProperties.lineItemId !== 'LineItems') {\n        return `${lineItemProperties.lineItemId}??${actionId}`;\n    } else {\n        return actionId;\n    }\n}\n\n/**\n * Processes a LineItem record of type DataFieldForAction and DataFieldForIntentBasedNavigation during app schema generation\n * @param appSchema - the app specific schema that shall get enhanced\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param actions - actions definition in schema, parent object\n * @param lineItemProperties - properties of the line item collection: lineItemPath, lineItemRecord, lineItemId\n * @param actionType - type of action\n * @param recordIndex - record index in the collection\n */\nexport function handleActionRecord(\n    appSchema: Definition,\n    actions: Definition,\n    lineItemProps: { lineItemPath; lineItemRecord; lineItemId; entityType: EntityType },\n    actionType: ActionTypeV2,\n    recordIndex: number\n): void {\n    let actionReferenceType;\n    const actionTemplate = lineItemProps.lineItemId === DefinitionName.LineItems ? '' : 'ObjectPage';\n    const actionId = getActionId(actionType, lineItemProps);\n\n    if (actionType === ActionTypeV2.Footer || actionType === ActionTypeV2.FooterIntentBased) {\n        actionReferenceType = `Action`;\n        actionType = ActionTypeV2.Footer;\n    } else if (actionType === ActionTypeV2.Column || actionType === ActionTypeV2.ColumnIntentBased) {\n        actionReferenceType = `TableColumnAction`;\n    } else {\n        actionReferenceType = actionTemplate !== '' ? `${actionTemplate}${actionType}` : `Action`;\n        actionType = ActionTypeV2.ToolBar;\n    }\n    const actionDefinition = `${actionTemplate}${actionType}<${actionId}>`;\n    const description = getDataFieldDescription(\n        lineItemProps.lineItemRecord as DataFieldAbstractTypes,\n        lineItemProps.entityType\n    );\n    actions.properties[actionId] = {\n        $ref: DEFINITION_LINK_PREFIX + actionDefinition\n    };\n    actions.properties[actionId][SchemaTag.propertyIndex] = recordIndex;\n    const { key, ns } = getActionKey(lineItemProps.lineItemRecord.Action, true);\n    if (appSchema.definitions[actionReferenceType]) {\n        appSchema.definitions[actionDefinition] = {\n            ...JSON.parse(JSON.stringify(appSchema.definitions[actionReferenceType])),\n            description,\n            keys: [{ name: 'Action', value: key }],\n            annotationPath: `${lineItemProps.lineItemPath}/${recordIndex}`\n        };\n        if (ns) {\n            appSchema.definitions[actionDefinition][SchemaTag.target] = ns;\n        }\n    } else {\n        appSchema.definitions[actionDefinition] = {\n            type: 'object',\n            properties: {},\n            description,\n            additionalProperties: false\n        };\n        appSchema.definitions[actionDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[actionDefinition][SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            appSchema.definitions[actionDefinition][SchemaTag.target] = ns;\n        }\n        appSchema.definitions[actionDefinition][\n            SchemaTag.annotationPath\n        ] = `${lineItemProps.lineItemPath}/${recordIndex}`;\n    }\n}\n\n/**\n * Returns the type of a column lineItem action\n * @param lineItemId - optional: in case of OP the parameter must be passed to distinguish the OP tables;\n * @param {object} lineItemRecord - actual record of the line item collection\n * @param actionTypes - array of action types to be filled\n */\nfunction getColumnActionType(lineItemId: string, lineItemRecord, actionTypes: ActionTypeV2[]) {\n    if (\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemRecord.Inline === true &&\n        (lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction ||\n            lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation)\n    ) {\n        actionTypes.push(ActionTypeV2.OPColumn);\n    } else if (lineItemRecord.Inline === true && lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction) {\n        actionTypes.push(ActionTypeV2.Column);\n    } else if (\n        lineItemRecord.Inline === true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.ColumnIntentBased);\n    }\n}\n\n/**\n * Returns the type of a lineItem action\n * @param {object} lineItemRecord - actual record of the line item collection\n * @returns {string[] | undefined } ActionTypeV2[] - action type(s) of the lineItem\n */\nfunction getActionType(lineItemRecord: DataFieldAbstractTypes, lineItemId: string): ActionTypeV2[] | undefined {\n    const actionTypes: ActionTypeV2[] = [];\n    if (\n        lineItemRecord.$Type !== UIAnnotationTypes.DataFieldForAction &&\n        lineItemRecord.$Type !== UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        return undefined;\n    }\n    if (\n        lineItemRecord.Inline !== true &&\n        lineItemRecord.Determining !== true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n    ) {\n        actionTypes.push(ActionTypeV2.ToolBar);\n    } else if (\n        lineItemRecord.Inline !== true &&\n        lineItemRecord.Determining !== true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.ToolBarIntentBased);\n    } else if (lineItemRecord.Determining === true && lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction) {\n        actionTypes.push(ActionTypeV2.Footer);\n    } else if (\n        lineItemRecord.Determining === true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.FooterIntentBased);\n    }\n    getColumnActionType(lineItemId, lineItemRecord, actionTypes);\n    return actionTypes;\n}\n\ntype LineItemProperties = {\n    lineItemPath: string;\n    lineItemRecord: DataFieldAbstractTypes;\n    lineItemId: string;\n    entityType: EntityType;\n};\n\nfunction generateGenericColumn(lineItemProperties: LineItemProperties, appSchema: Definition, recordIndex: number) {\n    const schemaKey = getSchemaKeyOfLineItemRecord(lineItemProperties.lineItemRecord);\n    if (schemaKey) {\n        const lineItemDefinition = appSchema.definitions[lineItemProperties.lineItemId] as Definition;\n        lineItemDefinition.properties[schemaKey] = {\n            $ref: DEFINITION_LINK_PREFIX + DefinitionName.TableColumn,\n            description: getDataFieldDescription(lineItemProperties.lineItemRecord, lineItemProperties.entityType)\n            // Custom property in schema - for object properties ordering purpose\n        };\n        lineItemDefinition.properties[schemaKey][SchemaTag.propertyIndex] = recordIndex;\n        lineItemDefinition.properties[schemaKey][\n            SchemaTag.annotationPath\n        ] = `${lineItemProperties.lineItemPath}/${recordIndex}`;\n        addDataTypeToDefinition(\n            lineItemDefinition.properties[schemaKey] as Definition,\n            lineItemProperties.lineItemRecord\n        );\n        addKeyToDefinition(lineItemProperties.lineItemRecord, lineItemDefinition.properties, schemaKey);\n    }\n}\n\nfunction handleAnyAction(\n    actionType: ActionTypeV2,\n    appSchema: Definition,\n    actions: object,\n    lineItemProperties: LineItemProperties,\n    recordIndex: number,\n    footerActions: object,\n    lineItemId: string\n) {\n    switch (actionType) {\n        case ActionTypeV2.ToolBar:\n        case ActionTypeV2.ToolBarIntentBased: {\n            handleActionRecord(appSchema, actions, lineItemProperties, actionType, recordIndex);\n            break;\n        }\n        case ActionTypeV2.Footer:\n        case ActionTypeV2.FooterIntentBased: {\n            if (footerActions) {\n                handleActionRecord(appSchema, footerActions, lineItemProperties, actionType, recordIndex);\n            }\n            break;\n        }\n        case ActionTypeV2.Column:\n        case ActionTypeV2.ColumnIntentBased: {\n            handleActionRecord(\n                appSchema,\n                appSchema.definitions[lineItemId] as Definition,\n                lineItemProperties,\n                actionType,\n                recordIndex\n            );\n            break;\n        }\n        case ActionTypeV2.OPColumn: {\n            generateGenericColumn(lineItemProperties, appSchema, recordIndex);\n        }\n    }\n}\n\n/**\n * Adds the line item records to the app schema (for the list report or an object page section comprising a table)\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param lineItemId - optional: in case of OP the parameter must be passed to distinguish the OP tables;\n *                      in case of LR or ALP no ID is passed, 'LineItems' is taken then.\n * @param customColumnRef - schema reference to custom column definition.\n */\nexport function addLineItemsType(\n    appSchema: Definition,\n    lineItemAnnotation: AnnotationTerm<LineItem>,\n    entityType: EntityType,\n    lineItemId?: string,\n    customColumnRef?: string\n): void {\n    // Add the correct lineItem definition\n    lineItemId = lineItemId || DefinitionName.LineItems;\n\n    const { actions, footerActions, lineItemPath } = addCommonLineItemDefinitions(\n        appSchema,\n        lineItemAnnotation,\n        entityType,\n        lineItemId\n    );\n\n    if (lineItemAnnotation) {\n        let recordIndex = 0;\n        lineItemAnnotation.forEach((lineItemRecord) => {\n            const lineItemProperties: LineItemProperties = { lineItemPath, lineItemRecord, lineItemId, entityType };\n            const actionTypes = getActionType(lineItemRecord, lineItemId);\n            if (actionTypes) {\n                actionTypes.forEach((actionType) => {\n                    handleAnyAction(\n                        actionType,\n                        appSchema,\n                        actions,\n                        lineItemProperties,\n                        recordIndex,\n                        footerActions,\n                        lineItemId\n                    );\n                });\n            } else {\n                generateGenericColumn(lineItemProperties, appSchema, recordIndex);\n            }\n            recordIndex++;\n        });\n    }\n    if (customColumnRef) {\n        (appSchema.definitions[lineItemId] as Definition).properties['custom'] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnRef}`\n        };\n    }\n}\n\n/**\n * Adds enum entries of possible leading properties for 'leadingProperty' property in TableCustomColumn properties.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param definitionName - definition name of CustomColumn definition\n */\nexport function addListReportLeadingProperties(\n    appSchema: object,\n    entityType: EntityType,\n    definitionName: string\n): void {\n    // Leading Property\n    const leadingPropertySchema =\n        appSchema['definitions'][definitionName] &&\n        appSchema['definitions'][definitionName]['properties'] &&\n        appSchema['definitions'][definitionName]['properties']['leadingProperty'];\n    if (leadingPropertySchema) {\n        const properties = [\n            //  Entity properties\n            ...(entityType?.entityProperties || []),\n            // Navigation Properties\n            ...(entityType?.navigationProperties || [])\n        ];\n        leadingPropertySchema['enum'] = properties?.reduce((result: string[], property) => {\n            if (!result.includes(property.name)) {\n                result.push(property.name);\n            }\n            return result;\n        }, []);\n    }\n}\n\n/**\n * Adds enum entries of posible tabKey properties for 'leadingProperty' property in TableCustomColumn properties.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param definitionName - definition name of CustomColumn definition\n * @param page - sapui5 page object\n */\nexport function addTabkeyEnum(appSchema: object, definitionName: string, page?: v2.SapUiAppPageV2): void {\n    const tabkeyPropertySchema =\n        appSchema['definitions'][definitionName] &&\n        appSchema['definitions'][definitionName]['properties'] &&\n        appSchema['definitions'][definitionName]['properties']['tabKey'];\n    if (page) {\n        const quickVariantsX =\n            page.component &&\n            page.component.settings &&\n            page.component.settings.quickVariantSelectionX &&\n            page.component.settings.quickVariantSelectionX['variants'];\n        if (quickVariantsX) {\n            const enumEntries = [];\n            Object.keys(quickVariantsX).reduce((result: string[], variant) => {\n                const key =\n                    quickVariantsX[variant] && quickVariantsX[variant]['key'] !== undefined\n                        ? quickVariantsX[variant]['key']\n                        : undefined;\n                // Avoid duplicates\n                if (key !== undefined && !result.includes(key)) {\n                    result.push(key);\n                }\n                return result;\n            }, enumEntries);\n            tabkeyPropertySchema['enum'] = enumEntries;\n        }\n    }\n}\n\n/**\n * Adds enum entries of posible fragment entries.\n * @param {object} appSchema The app specific schema that shall get enhanced.\n * @param {FileData[]} fragments Array of fragments.\n * @param {string[]} appId Application id.\n * @param {string} property Property name.\n * @param {string} definitionName Definition name of CustomColumn definition.\n */\nexport function addFragmentEnum(\n    appSchema: Definition,\n    fragments: FileData[],\n    appId: string,\n    property: string,\n    definitionName: string\n): void {\n    if (!fragments || !appId || appId.startsWith('${')) {\n        return;\n    }\n    const enumEntries = [];\n    fragments.forEach((fragment) => {\n        let relPath = fragment.dataSourceUri.split('webapp')[1];\n        if (relPath && relPath.indexOf('.fragment.xml') > 0) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }))[\n                'core:FragmentDefinition'\n            ];\n            if (\n                (property === 'fragmentName' &&\n                    (!fragmentJson || fragmentJson.Column || fragmentJson['table:Column'])) ||\n                (property === 'cellsFragmentName' &&\n                    (!fragmentJson ||\n                        (!fragmentJson.Column &&\n                            !fragmentJson['table:Column'] &&\n                            !fragmentJson['smartfilterbar:ControlConfiguration'])))\n            ) {\n                relPath = relPath.replace(new RegExp('\\\\' + sep, 'g'), '/');\n                const fragmentName = appId + relPath.split('.fragment.xml')[0].replace(/\\//g, '.');\n                enumEntries.push(fragmentName);\n            }\n        }\n    });\n    if (enumEntries.length > 0) {\n        const fragmentPropertySchema = appSchema.definitions[definitionName]?.['properties']?.[property];\n        fragmentPropertySchema['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds the custom columns to the line item records of the app schema (for the list report comprising a table).\n * @param {object} appSchema The app specific schema that shall get enhanced.\n * @param {EntityType} entityType The entity type as part of the AVT ConvertedMetadata.\n * @param {SapUiAppPageV2} page Sapui5 page object.\n * @param {object} manifest Application manifest.\n * @param {FileData[]} [fragments] Array of fragments.\n * @param {string} [customColumnsDefinitionName=DefinitionName.CustomColumns] Definition name of Custom Columns definition.\n * @param {string} [customColumnDefinitionName=DefinitionName.CustomColumn] Definition name of Custom Column definition.\n */\nexport function addTableColumnExtensions(\n    appSchema: object,\n    entityType: EntityType,\n    page: v2.SapUiAppPageV2,\n    manifest: object,\n    fragments?: FileData[],\n    customColumnsDefinitionName: string = DefinitionName.CustomColumns,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn\n): void {\n    addCustomColumnDefinition(appSchema, customColumnsDefinitionName, customColumnDefinitionName);\n\n    // Leading Property\n    addListReportLeadingProperties(appSchema, entityType, customColumnDefinitionName);\n    // Tab key property\n    addTabkeyEnum(appSchema, customColumnDefinitionName, page);\n    // Fragment property\n    const appId = manifest && manifest['sap.app'] && manifest['sap.app']['id'];\n    addFragmentEnum(appSchema, fragments, appId, 'fragmentName', customColumnDefinitionName);\n    addFragmentEnum(appSchema, fragments, appId, 'cellsFragmentName', customColumnDefinitionName);\n}\n\n/**\n * Processes an anyOf definition of the generic schema\n * @param propertyDefinition - current definition in the generic schema\n * @param schema - the app-specific schema\n * @param propertyKey - key of the single property\n * @param factory - factory for creating metadata instances\n * @param pageType - page type\n */\nfunction processAnyOf(\n    propertyDefinition: any,\n    schema: object,\n    propertyKey: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV2 | PageTypeV4\n) {\n    propertyDefinition['anyOf'].forEach((element) => {\n        const nextDefinition = getNextTargetDefinition(schema, '', {}, element, propertyKey, factory, pageType);\n        if (nextDefinition) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processMetadata(schema, nextDefinition.targetDefinition, nextDefinition.configObject, pageType, factory);\n        }\n    });\n}\n\n/**\n * Processes an object reference of the generic schema\n * @param schema\n * @param propertyDefinition - current definition in the generic schema\n * @param propertyKey - key of the single property\n * @param factory - factory for creating metadata instances\n * @param pageType - page type\n */\nfunction processObject(\n    schema: object,\n    propertyDefinition: any,\n    propertyKey: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV2 | PageTypeV4\n) {\n    const nextDefinition = getNextTargetDefinition(schema, '', {}, propertyDefinition, propertyKey, factory, pageType);\n    if (nextDefinition) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processMetadata(schema, nextDefinition.targetDefinition, nextDefinition.configObject, pageType, factory);\n    }\n}\n\n/**\n * Determines the artifact type of a property and adds it to the property definition in schema\n * @param syncRule - sync rule of the current property\n * @param propertyDefinition - current definition in the generic schema\n */\nfunction addArtifactType(syncRule: SyncRule, propertyDefinition: any) {\n    if (syncRule.manifest !== undefined) {\n        propertyDefinition.artifactType = ArtifactType.Manifest;\n    } else if (syncRule.flex !== undefined) {\n        propertyDefinition.artifactType = ArtifactType.FlexChange;\n        //Add control type\n        if (syncRule.flex.controlType) {\n            propertyDefinition.controlType = syncRule.flex.controlType();\n        }\n    } else {\n        propertyDefinition.artifactType = ArtifactType.Annotation;\n    }\n}\n\n/**\n * After the generation of a generic schema, apply post-generation rule to a single property\n * @param metaDataDefinition\n * @param schema - given app schema, to be adapted\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n * @param propertyDefinition - definition of the single property\n * @param propertyKey - key of the single property\n * @param schemaDefinition - the current entry point or definition in the app schema\n */\nfunction processSingleProperty(\n    metaDataDefinition: { [key: string]: any },\n    schema: object,\n    pageType: PageTypeV2 | PageTypeV4,\n    factory: MetadataInstanceInterface,\n    propertyDefinition: any,\n    propertyKey: string,\n    schemaDefinition: object\n): void {\n    if (metaDataDefinition) {\n        const syncRule = getReflectMetadata(metaDataDefinition, propertyKey);\n        if (syncRule) {\n            if (typeof syncRule.generate === 'function') {\n                syncRule.generate(schema, schemaDefinition, propertyKey);\n                propertyDefinition = schemaDefinition['properties'][propertyKey];\n            }\n            //Add artifact type\n            addArtifactType(syncRule, propertyDefinition);\n        }\n        if (propertyDefinition.type === 'object' || propertyDefinition.$ref) {\n            processObject(schema, propertyDefinition, propertyKey, factory, pageType);\n        } else if (propertyDefinition['anyOf']) {\n            processAnyOf(propertyDefinition, schema, propertyKey, factory, pageType);\n        }\n    }\n}\n\n/**\n * After the generation of a generic schema, apply rules to a list of properties of the given schema section\n * @param schema - given app schema, to be adapted\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n */\nfunction processProperties(\n    schema: object,\n    schemaDefinition: object,\n    metaDataDefinition: { [key: string]: any },\n    propertiesSection: string,\n    pageType: PageTypeV2 | PageTypeV4,\n    factory: MetadataInstanceInterface\n) {\n    if (schemaDefinition[propertiesSection]) {\n        for (const propertyKey in schemaDefinition[propertiesSection]) {\n            if (propertyKey === 'anyOf') {\n                processAnyOf(schemaDefinition[propertiesSection], schema, propertyKey, factory, pageType);\n            } else {\n                const propertyDefinition = schemaDefinition[propertiesSection][propertyKey];\n                if (propertyDefinition['anyOf']) {\n                    processAnyOf(propertyDefinition, schema, propertyKey, factory, pageType);\n                } else if (propertyKey === '$ref') {\n                    processObject(schema, schemaDefinition[propertiesSection], propertyKey, factory, pageType);\n                } else {\n                    processSingleProperty(\n                        metaDataDefinition,\n                        schema,\n                        pageType,\n                        factory,\n                        propertyDefinition,\n                        propertyKey,\n                        schemaDefinition\n                    );\n                }\n            }\n        }\n    }\n}\n\n/**\n * Apply post-processing rules as specified in form of \"generate\" at the syncRule\n * @param schema - given app schema, to be adapted\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n */\nexport function processMetadata(\n    schema: object,\n    schemaDefinition: object,\n    metaDataDefinition: { [key: string]: any },\n    pageType: PageTypeV2 | PageTypeV4,\n    factory: MetadataInstanceInterface\n): void {\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'properties', pageType, factory);\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'additionalProperties', pageType, factory);\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'patternProperties', pageType, factory);\n}\n\n/**\n * Method updates passed 'enum' array by removing passed matching entries.\n * @param {Array<unknown>} values Array of values.\n * @param {Array<unknown>} valuesToRemove Array of values to remove.\n */\nexport function removeElementsFromEnum(values: Array<unknown>, valuesToRemove: Array<unknown>): void {\n    for (const value of valuesToRemove) {\n        const index = values.indexOf(value);\n        if (index !== -1) {\n            // Value exists - remove it\n            values.splice(index, 1);\n        }\n    }\n}\n\n/**\n * Adds the selection fields to the app schema, as properties of the Filterbar\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param appSchema - the app specific schema that shall get enhanced\n * @param selectionFieldsAnnotation - the UI.SelectionField annotation\n */\nexport function addSelectionFields(\n    appSchema: Definition,\n    selectionFieldsAnnotation: AnnotationTerm<SelectionFields>,\n    entityType: EntityType\n): void {\n    appSchema.definitions.SelectionFields = {\n        ...(appSchema.definitions.SelectionFields as object),\n        properties: {},\n        additionalProperties: false\n    };\n    const selectionFieldsDefinition = appSchema.definitions.SelectionFields;\n    selectionFieldsDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n        entityType.fullyQualifiedName,\n        UIAnnotationTerms.SelectionFields\n    );\n\n    if (!selectionFieldsAnnotation) {\n        return;\n    }\n    let i = 0;\n    selectionFieldsAnnotation.forEach((selectionField) => {\n        let description = selectionField.value;\n        const fieldDefinition = `SelectionField<${prepareRef(selectionField.value)}>`;\n        const dataType = determineDataType(selectionField);\n        if (selectionField.type === 'PropertyPath') {\n            description = getLabelForPropertyPath(selectionField, entityType);\n        }\n        selectionFieldsDefinition.properties[selectionField.value] = {\n            $ref: DEFINITION_LINK_PREFIX + fieldDefinition\n        };\n        selectionFieldsDefinition.properties[selectionField.value][SchemaTag.propertyIndex] = i;\n        appSchema.definitions[fieldDefinition] = {\n            type: 'object',\n            description,\n            additionalProperties: false\n        };\n        appSchema.definitions[fieldDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationType] = selectionField?.type;\n        appSchema.definitions[fieldDefinition][SchemaTag.dataType] = dataType;\n        appSchema.definitions[fieldDefinition][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: `${selectionField.value}` }\n        ];\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationPath] = `${\n            selectionFieldsDefinition[SchemaTag.annotationPath]\n        }/${i}`;\n\n        if (['Date', 'DateTime', 'DateTimeOffset'].includes(dataType)) {\n            appSchema.definitions[fieldDefinition]['$ref'] = `${DEFINITION_LINK_PREFIX}SelectionFieldDateSettings`;\n        } else {\n            appSchema.definitions[fieldDefinition]['properties'] = {};\n        }\n        i++;\n    });\n}\n\n/**\n * Add entityProperties to passed a passed enum entry\n * @param {string[]} appSchemaEnum - Enum to be enhanced\n * @param {EntityType} entityType - Given entity type for which entries shall get generated\n */\nexport function addEntityPropertiesToEnum(appSchemaEnum: string[], entityType: EntityType): void {\n    for (const key of entityType.entityProperties) {\n        appSchemaEnum.push(key.name);\n    }\n}\n", "import { addLineItemsType, addSelectionFields, addTableColumnExtensions, addEntityPropertiesToEnum } from './utils';\nimport { findListReportPageV2 } from '../import';\nimport {\n    DEFINITION_LINK_PREFIX,\n    addFieldsType,\n    addEnumForSingleTabVariant,\n    addEnumForMultiTabVariant,\n    addEnumForVariantEntitySet,\n    addEnumForFilterBarAnnotationPath,\n    addEnumFieldGroupAnnotationPath,\n    updatePropertyIndices\n} from '../../common';\nimport i18next from 'i18next';\nimport { ManifestSection, DefinitionName, LogSeverity, MANIFESTPATH, METADATAPATH } from '@sap/ux-specification-types';\nimport type { v2 } from '@sap/ux-specification-types';\nimport { log } from '../../../extensionLogger';\nimport { ANALYTICALTABLE, GRIDTABLE, INLINEDELETETABLE, MULTISELECTTABLE, TREETABLE } from '../types';\nimport type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { Definition } from 'typescript-json-schema';\nimport type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\n\nconst ROOT_PROPERTIES_ORDER: Array<keyof v2.ListReportConfigV2> = ['filterBar', 'table', 'footer'];\n\n/**\n * Adds the enum types for QuickVariant and QuickVariantX, based on the entity type annotations\n * @param {EntityType} entityType\n * @param {EntitySet} entitySet - current entity set of the page or view\n * @param {Definition} appSchema - app specific JSON schema\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n */\nexport function addEnumForVariantPaths(\n    entityType: EntityType,\n    entitySet: EntitySet,\n    appSchema: Definition,\n    oDataServiceAVT: ConvertedMetadata\n): void {\n    addEnumForSingleTabVariant(entityType, appSchema, 'QuickVariant');\n    addEnumForMultiTabVariant(appSchema, 'QuickVariantX', entitySet);\n    addEnumForVariantEntitySet(oDataServiceAVT, appSchema, 'QuickVariantX');\n}\n\n/**\n * Generates an app specific schema for the FE V2 Listreport from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} genericSchema - generic JSON schema of a list report\n * @returns appSchema - the application specific JSON schema\n */\nexport function generateListReportSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: Definition\n): object {\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    appSchema.properties.table['anyOf']['0']['$ref'] = DEFINITION_LINK_PREFIX + MULTISELECTTABLE;\n    appSchema.properties.table['anyOf']['1']['$ref'] = DEFINITION_LINK_PREFIX + INLINEDELETETABLE;\n    appSchema.properties.table['anyOf']['2']['$ref'] = DEFINITION_LINK_PREFIX + TREETABLE;\n    appSchema.properties.table['anyOf']['3']['$ref'] = DEFINITION_LINK_PREFIX + ANALYTICALTABLE;\n    appSchema.properties.table['anyOf']['4']['$ref'] = DEFINITION_LINK_PREFIX + GRIDTABLE;\n\n    const responsiveTableMultiSelect = JSON.parse(\n        JSON.stringify(genericSchema.definitions.ResponsiveTableWithMultiSelect)\n    ) as Definition;\n    const responsiveTableInlineDelete = JSON.parse(\n        JSON.stringify(genericSchema.definitions.ResponsiveTableWithInlineDelete)\n    );\n    const treeTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.TreeTable));\n    const analyticalTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.AnalyticalTable));\n    const gridTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.GridTable));\n\n    const lrLineItems = {\n        $ref: DEFINITION_LINK_PREFIX + DefinitionName.LineItems\n    };\n    responsiveTableMultiSelect.properties.columns = lrLineItems;\n    responsiveTableInlineDelete.properties.columns = lrLineItems;\n    treeTableDefinition.properties.columns = lrLineItems;\n    analyticalTableDefinition.properties.columns = lrLineItems;\n    gridTableDefinition.properties.columns = lrLineItems;\n\n    const lrToolBar = DEFINITION_LINK_PREFIX + DefinitionName.ToolBarLR;\n    appSchema.definitions[MULTISELECTTABLE] = responsiveTableMultiSelect;\n    (appSchema.definitions[MULTISELECTTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[INLINEDELETETABLE] = responsiveTableInlineDelete;\n    (appSchema.definitions[INLINEDELETETABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[TREETABLE] = treeTableDefinition;\n    (appSchema.definitions[TREETABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[ANALYTICALTABLE] = analyticalTableDefinition;\n    (appSchema.definitions[ANALYTICALTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[GRIDTABLE] = gridTableDefinition;\n    (appSchema.definitions[GRIDTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n\n    const entityType = generateParameters.entitySet?.entityType;\n    if (!entityType) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYTYPE4SET', { entitySetName: generateParameters.entitySet?.name }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    } else {\n        //handle line items\n        const lineItemAnnotation =\n            entityType.annotations && entityType.annotations.UI && entityType.annotations.UI.LineItem;\n        addLineItemsType(appSchema, lineItemAnnotation, entityType);\n        //handle filter fields\n        const selectionFieldAnnotation = entityType?.annotations?.UI?.SelectionFields;\n        addSelectionFields(appSchema, selectionFieldAnnotation, entityType);\n\n        //add fields for createWithParameterDialog\n        addFieldsType(appSchema, entityType);\n\n        // add entityProperties to a enum, in this case MultiEdit -> ignoredFields\n        appSchema.definitions.MultiEdit['properties']['ignoredFields']['items']['enum'] = [];\n        addEntityPropertiesToEnum(\n            appSchema.definitions.MultiEdit['properties']['ignoredFields']['items']['enum'],\n            entityType\n        );\n\n        const pageKeys = [];\n        const v2Page = findListReportPageV2(generateParameters.manifest[ManifestSection.generic].pages, pageKeys);\n        if (!v2Page) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOLR'),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        addTableColumnExtensions(\n            appSchema,\n            entityType,\n            v2Page,\n            generateParameters.manifest,\n            generateParameters.fragments\n        );\n\n        addEnumForVariantPaths(entityType, generateParameters.entitySet, appSchema, generateParameters.serviceAVT);\n        addEnumForFilterBarAnnotationPath(entityType, appSchema, DefinitionName.ListReportFilterBar);\n        addEnumFieldGroupAnnotationPath(entityType, appSchema, DefinitionName.MultiEditV2);\n\n        //Delete generic definitions\n        delete appSchema.definitions.ResponsiveTableWithMultiSelect;\n        delete appSchema.definitions.ResponsiveTableWithInlineDelete;\n        delete appSchema.definitions.TreeTable;\n        delete appSchema.definitions.AnalyticalTable;\n        delete appSchema.definitions.GridTable;\n        delete appSchema.definitions.GenericColumns;\n        delete appSchema.definitions.TableColumnAction;\n        delete appSchema.definitions.ToolBar;\n        delete appSchema.definitions.Actions;\n        delete appSchema.definitions.GenericFooter;\n        delete appSchema.definitions.FieldPath;\n    }\n    updatePropertyIndices(appSchema, ROOT_PROPERTIES_ORDER);\n    return appSchema;\n}\n", "import { addLineItemsType, addSelectionFields, addTableColumnExtensions, removeElementsFromEnum } from './utils';\nimport { findAnalyticalListPage } from '../import';\nimport { addFieldsType, DEFINITION_LINK_PREFIX, updatePropertyIndices } from '../../common';\nimport {\n    v2,\n    ManifestSection,\n    DefinitionName,\n    PropertyName,\n    LogSeverity,\n    METADATAPATH\n} from '@sap/ux-specification-types';\nimport { addEnumForVariantPaths } from './listReport';\nimport type { Definition } from 'typescript-json-schema';\nimport type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\n\nconst ROOT_PROPERTIES_ORDER: Array<keyof v2.AnalyticalListPageConfigV2> = ['filterBar', 'table', 'footer'];\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema - generic JSON schema of a list report\n * @param entityTypeName - the base entity type of the given page\n */\nexport function generateAnalyticalListReportSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object\n): object {\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    (appSchema.properties[PropertyName.table] as Definition).anyOf[0]['$ref'] =\n        DEFINITION_LINK_PREFIX + 'ALPResponsiveTable<LineItems>';\n    const tableDefinitionResponsive = JSON.parse(\n        JSON.stringify(appSchema.definitions.ALPResponsiveTable)\n    ) as Definition;\n    tableDefinitionResponsive.properties['columns']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionResponsive.properties['toolBar']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPResponsiveTable<LineItems>'] = tableDefinitionResponsive;\n\n    appSchema.properties[PropertyName.table]['anyOf'][1]['$ref'] = `${DEFINITION_LINK_PREFIX}ALPGridTable<LineItems>`;\n    const tableDefinitionGrid = JSON.parse(JSON.stringify(appSchema['definitions']['ALPGridTable'])) as Definition;\n    tableDefinitionGrid.properties.columns['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionGrid.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPGridTable<LineItems>'] = tableDefinitionGrid;\n\n    appSchema.properties[PropertyName.table]['anyOf'][2][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}ALPAnalyticalTable<LineItems>`;\n    const tableDefinitionAnalytical = JSON.parse(\n        JSON.stringify(appSchema.definitions['ALPAnalyticalTable'])\n    ) as Definition;\n    tableDefinitionAnalytical.properties.columns['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionAnalytical.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPAnalyticalTable<LineItems>'] = tableDefinitionAnalytical;\n\n    // Remove Custom Column non existing extensions - TreeTableColumnsExtension does not exist in ALP\n    removeElementsFromEnum(appSchema.definitions.TableColumnExtensionTypeV2['enum'], [\n        v2.TableColumnExtensionTypeV2.TreeTableColumnsExtension\n    ]);\n\n    const entityType = generateParameters.entitySet?.entityType;\n    if (!entityType) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYTYPE4SET', { entitySetName: generateParameters.entitySet?.name }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    } else {\n        //handle line items\n        const lineItemAnnotation = entityType?.annotations?.UI?.LineItem;\n        addLineItemsType(appSchema, lineItemAnnotation, entityType);\n        //handle filter fields\n        const selectionFieldAnnotation = entityType?.annotations?.UI?.SelectionFields;\n        addSelectionFields(appSchema, selectionFieldAnnotation, entityType);\n\n        //add fields for createWithParameterDialog\n        addFieldsType(appSchema, entityType);\n\n        const pageKeys = [];\n        const v2Page = findAnalyticalListPage(\n            generateParameters.manifest[ManifestSection.generic].pages,\n            pageKeys,\n            generateParameters.logger\n        );\n        addTableColumnExtensions(\n            appSchema,\n            entityType,\n            v2Page,\n            generateParameters.manifest,\n            generateParameters.fragments\n        );\n        addEnumForVariantPaths(entityType, generateParameters.entitySet, appSchema, generateParameters.serviceAVT);\n\n        // Delete generic definitions that have been replaced\n        delete appSchema.definitions.ALPGridTable;\n        delete appSchema.definitions.ALPResponsiveTable;\n        delete appSchema.definitions.ALPAnalyticalTable;\n        delete appSchema.definitions.GenericColumns;\n        delete appSchema.definitions.TableColumnAction;\n        delete appSchema.definitions.ToolBar;\n        delete appSchema.definitions.GenericFooter;\n        delete appSchema.definitions.Actions;\n        delete appSchema.definitions.FieldPath;\n    }\n    updatePropertyIndices(appSchema, ROOT_PROPERTIES_ORDER);\n    return appSchema;\n}\n", "import type { Manifest, SapUi5OdataModel } from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX } from '../../common';\n\n/**\n * Method returns array of card definition names.\n * @param genericSchema - Generic schema of Overview Page.\n *\n * @returns Array of definition names\n */\nexport function getCardDefinitionNames(genericSchema: object): Array<string> {\n    // Apply enum to all card properties\n    const properties = genericSchema['properties'];\n    const cardProperties =\n        (properties['cards'] &&\n            properties['cards']['additionalProperties'] &&\n            properties['cards']['additionalProperties']['anyOf']) ||\n        [];\n    return cardProperties.map((cardProperty: object) => {\n        // Resolve ref\n        const refParts = cardProperty['$ref'].split('/');\n        return refParts[refParts.length - 1];\n    });\n}\n\n/**\n * Defines and adds enum entries for 'model' property of Cards.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param manifest - manifest.json of the app\n */\nexport function addModelsEnum(appSchema: object, manifest: Manifest): void {\n    const dataSources = (manifest && manifest['sap.app'] && manifest['sap.app'].dataSources) || {};\n    const serviceKeys = Object.keys(dataSources);\n    const models = (manifest && manifest['sap.ui5'] && manifest['sap.ui5'].models) || {};\n    let enumValues = [];\n    enumValues = enumValues.concat(\n        Object.keys(models).filter((model) => serviceKeys.includes((models[model] as SapUi5OdataModel).dataSource))\n    );\n\n    // Define enum\n    const definition = appSchema['definitions'];\n    definition['CardModel'] = {\n        enum: enumValues,\n        type: 'string'\n    };\n    // Apply enum to all card properties\n    const cards = getCardDefinitionNames(appSchema);\n    for (const card of cards) {\n        const property = definition[card]['properties']['model'];\n        delete property.type;\n        property['$ref'] = DEFINITION_LINK_PREFIX + 'CardModel';\n    }\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app manifest.\n *\n * @param genericSchema - generic JSON schema of an object page\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateOverviewPageSchemaV2(genericSchema: object, manifest: Manifest): object {\n    const appSchema = JSON.parse(JSON.stringify(genericSchema));\n    // schema validation for card name\n    appSchema['properties']['cards']['propertyNames'] = {\n        pattern: '^[a-zA-Z0-9_\\\\.\\\\-]+$'\n    };\n    // Enhance 'model' property with enum entries\n    addModelsEnum(appSchema, manifest);\n    return appSchema;\n}\n", "import { parseAndMergeAndConvert } from '../../common/utils';\nimport { generateObjectPageSchemaV2 } from './objectPage';\nimport { generateListReportSchemaV2 } from './listReport';\nimport { generateAnalyticalListReportSchemaV2 } from './analyticalListReport';\nimport { generateOverviewPageSchemaV2 } from './overviewPage';\nimport type { ExtensionLogger, GenerateAppSchemaParameters, FileData } from '@sap/ux-specification-types';\nimport { LogSeverity, METADATAPATH, FioriElementsVersion, TemplateType } from '@sap/ux-specification-types';\nimport { getEntitySetByEntitySetName } from '../../common/importProject';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport { initI18n } from '../../../i18n/i18n';\n\n/**\n * Common logic for LR and OP to prepare the generation\n * @param {FileData[]} annotations - list of all annotation files (file content plus URI as identifier)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {object} manifest - manifest.json of the app\n * @param {FileData[]} [fragments] - Array with XML fragments.\n * @param {string} entitySet - the base entity set name of the given page\n *\n * @returns the filled intrface structure with all information for the schema generation\n */\nfunction prepareGenerationV2(\n    annotations: FileData[],\n    logger: ExtensionLogger,\n    manifest: object,\n    fragments: FileData[],\n    entitySet: string,\n    templateType: TemplateType\n): GenerateAppSchemaParameters {\n    initI18n();\n\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        fioriElementsVersion: FioriElementsVersion.v2,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger\n    };\n    generateParameters.entitySet = getEntitySetByEntitySetName(entitySet, generateParameters.serviceAVT);\n    if (!generateParameters.entitySet) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('ENTITYSETNOTFOUND', { entitySetName: entitySet }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    }\n    return generateParameters;\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param {object} genericSchema - generic JSON schema of an object page\n * @param {string} entitySet - the base entity set name of the given page\n * @param {FileData[]} annotations - list of all annotation files (file content plus URI as identifier)\n * @param {object} manifest - manifest.json of the app\n * @param {FileData[]} [fragments] - Array with XML fragments.\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageInterfaceV2(\n    genericSchema: object,\n    entitySet: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const generateParameters = prepareGenerationV2(\n        annotations,\n        logger,\n        manifest,\n        fragments,\n        entitySet,\n        TemplateType.ListReportObjectPageV2\n    );\n    return generateObjectPageSchemaV2(generateParameters, genericSchema);\n}\n\n/**\n * Generates the app specific schema of a list report out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entitySet - the base entity set name of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {FileData[]} fragments - list of fragment files and their content\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns the app specific JSON schema\n */\nexport function generateListReportInterfaceV2(\n    genericSchema: object,\n    entitySet: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const generateParameters = prepareGenerationV2(\n        annotations,\n        logger,\n        manifest,\n        fragments,\n        entitySet,\n        TemplateType.ListReportObjectPageV2\n    );\n    return generateListReportSchemaV2(generateParameters, genericSchema);\n}\n\n/**\n * Generates the app specific schema of an analytical list page out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entityType - the base entity type of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {FileData[]} fragments - list of fragment files and their content\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {string} appId - application ID\n *\n * @returns the app specific JSON schema\n */\nexport function generateAnalyticalListPageInterfaceV2(\n    genericSchema: object,\n    entitySet: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const generateParameters = prepareGenerationV2(\n        annotations,\n        logger,\n        manifest,\n        fragments,\n        entitySet,\n        TemplateType.AnalyticalListPageV2\n    );\n    return generateAnalyticalListReportSchemaV2(generateParameters, genericSchema);\n}\n\n/**\n * Generates the app specific schema of an overview page\n * @param genericSchema - file content of the generic schema\n * @param manifest - manifest.json of the app\n *\n * @returns the generic schema, as equivalent to the app schema\n */\nexport function generateOVPInterfaceV2(genericSchema: object, manifest: object): object {\n    return generateOverviewPageSchemaV2(genericSchema, manifest);\n}\n", "import i18next from 'i18next';\nimport _unset from 'lodash.unset';\nimport Ajv from 'ajv';\nimport type {\n    UI5Version,\n    ExportParametersV2,\n    ExportAnalyticalListPageV2Parameters,\n    ExportListReportV2Parameters,\n    ExportObjectPageV2Parameters,\n    ExportOverviewPageV2Parameters\n} from '../../..';\nimport type { ExportResults, FileData, FioriElementsVersion } from '@sap/ux-specification-types';\nimport {\n    v2,\n    PageTypeV2,\n    SchemaType,\n    SAPUI5_FRAGMENT_CLASS,\n    MANIFESTPATH,\n    ManifestSection,\n    LogSeverity\n} from '@sap/ux-specification-types';\nimport type { ObjectPage } from './pages';\nimport { deleteEmptyStructure, getPageLayoutInformation, getReflectMetadata } from '../../common';\nimport { ApplicationV2, AppSettings } from '../application';\nimport { ensureManifestSectionByPathV2, transformPageToNewManifestV2 } from './manifest';\nimport { findListReportPageV2, findAnalyticalListPage, findObjectPageV2 } from '../import';\nimport { MetadataInstanceFactoryV2 as Factory } from './factory';\nimport { transferManifestEntriesAndFlexChange, transferManifestEntriesOVP } from './export';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV2 } from '../types';\nimport { log } from '../../../extensionLogger';\n\n/**\n * Returns a fresh export results object with default values\n */\nconst getDefaultExportResult = (fragmentFiles?: FileData[]): ExportResults => ({\n    flexChanges: [],\n    manifest: {\n        [ManifestSection.generic]: { pages: {} }\n    },\n    fragments: fragmentFiles ? fragmentFiles : []\n});\n\n/**\n * Instantiates the export classes for a single object page section\n * @param currentSection - Export class as an object, to be updated\n * @param sectionId - Current section ID\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n */\nfunction getClassesForSingleSection(\n    currentSection: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n): void {\n    if (currentSection && sectionId === 'custom') {\n        // Custom sections\n        for (const index in currentSection) {\n            if (currentSection[index].className === SAPUI5_FRAGMENT_CLASS) {\n                currentSection[index] = factory.createInstance(\n                    PageTypeV2.ObjectPage,\n                    'ObjectPageCustomSectionFragment',\n                    currentSection[index]\n                );\n            } else {\n                currentSection[index] = factory.createInstance(\n                    PageTypeV2.ObjectPage,\n                    'ObjectPageCustomSectionView',\n                    currentSection[index]\n                );\n            }\n        }\n    }\n}\n\n/**\n * Recursive sub-function for handling subsections\n * @param currentSection - Object page section in config\n */\nfunction getSubsectionClasses(currentSection: object, factory: MetadataInstanceInterface): void {\n    if (currentSection?.['subsections']) {\n        let subSection: object;\n\n        for (const subSectionId in currentSection['subsections']) {\n            subSection = currentSection['subsections'][subSectionId];\n            getClassesForSingleSection(subSection, subSectionId, factory);\n            getSubsectionClasses(subSection, factory);\n        }\n    }\n}\n\n/**\n * Instantiates the export classes for the object page section\n * @param objectPageConfig - the given object page configuration\n * @param objectPage - the overall object page export class where the sections shall be included\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n */\nfunction getExportClassesForSections(\n    objectPageConfig: v2.ObjectPageConfigV2,\n    objectPage: ObjectPage,\n    factory: MetadataInstanceInterface\n): void {\n    // Main function\n    let section: object;\n\n    for (const sectionId in objectPageConfig.sections) {\n        section = objectPage.sections[sectionId];\n        getClassesForSingleSection(section, sectionId, factory);\n        getSubsectionClasses(section, factory);\n    }\n}\n\n/**\n * Run through the given ListReport config and return respective manifest entry and flex changes\n * @param {ExportListReportV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportListReportPage(exportParameters: ExportListReportV2Parameters, ui5Version: UI5Version): ExportResults {\n    const listReportConfig = exportParameters.page.config as v2.ListReportConfigV2;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    const factory = new Factory();\n    const listReport = factory.createPageInstance(PageTypeV2.ListReport, listReportConfig);\n    const pageLayoutInformation = getPageLayoutInformation(listReport);\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n    const pageKeys: string[] = [];\n    const v2Page = findListReportPageV2(exportParameters.manifest[ManifestSection.generic].pages, pageKeys);\n    if (!v2Page) {\n        log(exportParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLR'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    if (!v2Page.component.settings) {\n        v2Page.component.settings = {};\n    }\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    if (listReportConfig && Object.keys(listReportConfig).length !== 0) {\n        const transferParameters: TransferParameterTypeV2 = {\n            v2Page,\n            exportResults,\n            appId: exportParameters.appId,\n            baseId,\n            appSchema: exportParameters.jsonSchema,\n            ui5Version,\n            factory,\n            pageKeys,\n            pageType: PageTypeV2.ListReport,\n            logger: exportParameters.logger\n        };\n\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            listReport,\n            [],\n            [],\n            exportParameters.jsonSchema //starting point for target definition\n        );\n    }\n\n    return exportResults;\n}\n\n/**\n * Run through the given AnalyticalListPage config and return respective manifest entry and flex changes\n * @param {ExportAnalyticalListPageV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportAnalyticalListPage(\n    exportParameters: ExportAnalyticalListPageV2Parameters,\n    ui5Version: UI5Version\n): ExportResults {\n    const analyticalListPageConfig = exportParameters.page.config;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    exportResults.flexChanges = [];\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    const factory = new Factory();\n    //Instantiate Page\n    const analyticalListPage = factory.createPageInstance(PageTypeV2.AnalyticalListPage, analyticalListPageConfig);\n\n    //Instantiate base ID\n    const pageLayoutInformation = getPageLayoutInformation(analyticalListPage);\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n    const pageKeys: string[] = [];\n\n    const v2Page = findAnalyticalListPage(\n        exportParameters.manifest[ManifestSection.generic].pages,\n        pageKeys,\n        exportParameters.logger\n    );\n    if (!v2Page) {\n        return;\n    }\n    if (!v2Page.component.settings) {\n        v2Page.component.settings = {};\n    }\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    if (analyticalListPageConfig && Object.keys(analyticalListPageConfig).length !== 0) {\n        const transferParameters: TransferParameterTypeV2 = {\n            v2Page,\n            exportResults,\n            appId: exportParameters.appId,\n            baseId,\n            appSchema: exportParameters.jsonSchema,\n            ui5Version,\n            factory,\n            pageKeys,\n            pageType: PageTypeV2.AnalyticalListPage,\n            logger: exportParameters.logger\n        };\n\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            analyticalListPage,\n            [],\n            [],\n            exportParameters.jsonSchema //starting point for target definition\n        );\n    }\n\n    return exportResults;\n}\n\n/**\n * Run through the given ObjectPage config and return respective manifest entry and flex changes\n * @param {ExportObjectPageV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportObjectPage(exportParameters: ExportObjectPageV2Parameters, ui5Version: UI5Version): ExportResults {\n    const objectPageConfig = exportParameters.page.config as v2.ObjectPageConfigV2;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    const factory = new Factory();\n    const objectPage = factory.createPageInstance(PageTypeV2.ObjectPage, objectPageConfig);\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    if (objectPageConfig) {\n        const pageLayoutInformation = getPageLayoutInformation(objectPage);\n        const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n\n        const pageKeys: string[] = [];\n        const v2Page: v2.SapUiAppPageV2 = findObjectPageV2(\n            exportParameters.manifest[ManifestSection.generic].pages,\n            entitySet,\n            pageKeys\n        );\n        if (!v2Page) {\n            return exportResults;\n        }\n        if (objectPageConfig.sections) {\n            getExportClassesForSections(objectPageConfig, objectPage, factory);\n        }\n        if (Object.keys(objectPageConfig).length !== 0) {\n            const transferParameters: TransferParameterTypeV2 = {\n                v2Page,\n                exportResults,\n                appId: exportParameters.appId,\n                baseId,\n                appSchema: exportParameters.jsonSchema,\n                ui5Version,\n                factory,\n                pageKeys,\n                pageType: PageTypeV2.ObjectPage,\n                logger: exportParameters.logger\n            };\n\n            transferManifestEntriesAndFlexChange(\n                transferParameters,\n                objectPage,\n                [],\n                [],\n                exportParameters.jsonSchema //starting point for target definition\n            );\n        }\n    }\n    return exportResults;\n}\n/**\n * Run through the given ObjectPage config and return respective manifest entry and flex changes\n * @param {ExportOverviewPageV2Parameters} exportParameters - all API parameters needed for the export\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportOverviewPage = (exportParameters: ExportOverviewPageV2Parameters): ExportResults => {\n    const exportResults: ExportResults = getDefaultExportResult();\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    const factory = new Factory();\n    const overviewPage = factory.createPageInstance(PageTypeV2.OverviewPage, exportParameters.page.config);\n\n    const ajv = new Ajv({ allErrors: true });\n    const validate = ajv.compile(exportParameters.jsonSchema);\n\n    if (!validate(overviewPage)) {\n        for (const err of validate.errors) {\n            const additionalProperty = err.params['additionalProperty'];\n            if (\n                err.keyword === 'additionalProperties' &&\n                !Object.values(v2.CardSettingsType).includes(err.params['additionalProperty']) &&\n                additionalProperty !== 'settings'\n            ) {\n                _unset(overviewPage, `${err.dataPath.slice(1)}.${additionalProperty}`);\n            }\n        }\n    }\n    if (exportParameters.page.config && Object.keys(exportParameters.page.config).length !== 0) {\n        transferManifestEntriesOVP(\n            overviewPage,\n            exportResults,\n            exportParameters.jsonSchema,\n            exportParameters.jsonSchema,\n            factory,\n            []\n        );\n    }\n\n    return exportResults;\n};\n\n/**\n * Exports a Fiori Element V2 application.\n * It converts the entries of the input application (config file) to corresponding manifest settings and flex changes\n * @param application - content of the config file of an application\n * @param manifest - app descriptor (manifest.json)\n * @param jsonSchema - application specific schema\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportApplicationV2 = (application: ApplicationV2, manifest: object, jsonSchema: object): ExportResults => {\n    const exportResults: ExportResults = getDefaultExportResult();\n    exportResults.manifest = JSON.parse(JSON.stringify(manifest));\n\n    //transfer application settings\n    const applicationV2 = Object.assign(new ApplicationV2(), application);\n    applicationV2.settings = Object.assign(new AppSettings(), application['settings']);\n    for (const key in jsonSchema['definitions']['AppSettings']['properties']) {\n        const syncRule = getReflectMetadata(applicationV2.settings, key);\n        if (syncRule && syncRule.manifest) {\n            const path = syncRule.manifest.path();\n            const manifestSection = ensureManifestSectionByPathV2(exportResults.manifest, path);\n            if (application['settings'] && application['settings'][key] !== undefined) {\n                manifestSection[key] = application['settings'][key];\n            } else {\n                delete manifestSection[key];\n                deleteEmptyStructure(exportResults.manifest, path);\n            }\n        }\n    }\n    // transfer pages and routings\n    const manifestPages = exportResults.manifest[ManifestSection.generic]?.pages;\n    if (manifestPages && application['pages']) {\n        transformPageToNewManifestV2(application.home, application['pages'], Object.values(manifestPages)[0] as object);\n    }\n    return exportResults;\n};\n\n/**\n * Exports a Fiori Element V2 page.\n * It converts the entries of the input page (config file) to corresponding manifest settings and flex changes\n * @param exportParametersV2 - list of parameters for the export; the list varies for the different scgema types\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nexport function exportPageV2(\n    exportParametersV2: ExportParametersV2[FioriElementsVersion.v2],\n    ui5Version: UI5Version\n): ExportResults | undefined {\n    if (exportParametersV2[SchemaType.ListReport]) {\n        return exportListReportPage(exportParametersV2[SchemaType.ListReport], ui5Version);\n    } else if (exportParametersV2[SchemaType.ObjectPage]) {\n        return exportObjectPage(exportParametersV2[SchemaType.ObjectPage], ui5Version);\n    } else if (exportParametersV2[SchemaType.OverviewPage]) {\n        return exportOverviewPage(exportParametersV2[SchemaType.OverviewPage]);\n    } else if (exportParametersV2[SchemaType.Application]) {\n        const { application, manifest, jsonSchema } = exportParametersV2[SchemaType.Application];\n        return exportApplicationV2(application, manifest, jsonSchema);\n    } else if (exportParametersV2[SchemaType.AnalyticalListPage]) {\n        return exportAnalyticalListPage(exportParametersV2[SchemaType.AnalyticalListPage], ui5Version);\n    }\n}\n", "import type { TransferParameterTypeV4 } from './types';\nimport { generateCustomExtension } from '../../../api';\nimport type { GenerateCustomExtensionParams, ExtensionLogger } from '@sap/ux-specification-types';\nimport { CustomExtensionType, PropertyName, LogSeverity } from '@sap/ux-specification-types';\nimport type * as fpmWriter from '@sap-ux/fe-fpm-writer';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport { extractLastIdPart } from './utils';\n\n/**\n * Function creates a new custom column with aid of the FPM writer\n * @param propertyDefinition - Definition of the given property in JSON schema\n * @param breadcrumbs - array of sequence of properties that we are currently processing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in the configuration\n * @returns {boolean} - true if a new column was created\n */\nexport function createNewCustomColumn(\n    propertyKey: string,\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any },\n    logger: ExtensionLogger,\n    breadcrumbs: string[]\n): boolean {\n    if (!configObject) {\n        return false;\n    }\n    if (!transferParameters.appRootPath) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOBASEPATH', { appId: transferParameters.appId })\n        });\n        return false;\n    }\n    if (configObject.template && configObject.template.indexOf(propertyKey) === -1) {\n        //Existing fragment which does not fit to FPM writer syntax\n        return false;\n    }\n    const sectionsIndex = breadcrumbs.lastIndexOf(PropertyName.sections);\n    const sectionId = sectionsIndex > -1 ? extractLastIdPart(breadcrumbs[sectionsIndex + 1]) : undefined;\n    const entityInManifest = sectionId ? sectionId.replace(/::/g, '/') : `@${UIAnnotationTerms.LineItem}`;\n    const handler = configObject.eventHandler === true ? true : undefined;\n\n    const data: fpmWriter.CustomTableColumn = {\n        target: transferParameters.pageNameArray[0],\n        targetEntity: entityInManifest,\n        position: configObject.position,\n        name: propertyKey,\n        ...(configObject.header && { header: configObject.header }),\n        ...(configObject.width && { width: configObject.width }),\n        ...(configObject.availability && { availability: configObject.availability }),\n        ...(handler && { eventHandler: handler })\n    };\n    const columnApiParams: GenerateCustomExtensionParams = {\n        customExtension: CustomExtensionType.CustomColumn,\n        basePath: transferParameters.appRootPath,\n        data\n    };\n    generateCustomExtension(columnApiParams);\n    return true;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\n\n/**\n * Method updates passed dependency lib in passed manifest.\n * @param {SapUi5V4} manifest - Manifest \"sap.ui5\" object.\n * @param {string} name - Library name to check.\n * @param {boolean} [add=true] - Add or remove library.\n */\nexport function updateDependencyLib(manifest: v4.SapUi5V4, name: string, add = true): void {\n    if (add) {\n        if (!manifest.dependencies) {\n            manifest.dependencies = {};\n        }\n        if (!manifest.dependencies.libs) {\n            manifest.dependencies.libs = {};\n        }\n        if (manifest.dependencies.libs[name] === undefined) {\n            manifest.dependencies.libs[name] = {};\n        }\n    } else if (manifest.dependencies && manifest.dependencies.libs && manifest.dependencies.libs[name] !== undefined) {\n        delete manifest.dependencies.libs[name];\n    }\n}\n\n/**\n * Looks for <...> pattern in the input string; if found, extracts this last part of the string\n * @param longId - schema ID in its long format\n * @returns the converted ID\n */\nexport function extractLastIdPart(longId: string): string {\n    let lastIdPart = longId;\n    if (longId.indexOf('<') > -1) {\n        lastIdPart = longId.substring(longId.indexOf('<') + 1, longId.length - 1);\n        const navPart = longId.substring(0, longId.lastIndexOf('::')).replace(/::/g, '/');\n        if (navPart) {\n            lastIdPart = `${navPart}/${lastIdPart}`;\n        }\n    }\n    return lastIdPart;\n}\n", "import type { SapUi5RoutingRoute, SapUi5RoutingTarget, SapUi5RoutingTargetSettings } from '@sap/ux-specification-types';\nimport { v4, ManifestSection, PageTypeV4 } from '@sap/ux-specification-types';\n\nexport enum Constants {\n    OptionalQuery = ':?query:',\n    Component = 'sap/fe/AppComponent',\n    Namespace = 'sap.fe.templates'\n}\n\n/**\n * Transform Pages(from app.json) to UI5 routing configuration(manifest.json)\n * @param routing UI5 routing configuration\n */\nconst createRoute = (pattern: string, name: string, target: string): SapUi5RoutingRoute => {\n    return {\n        pattern,\n        name,\n        target\n    };\n};\n\n/**\n * Method returns SapUi5RoutingTargetBase.options object.\n * @param {object} [property] - Entity set or any other property in object form {'entitySet': 'value'}.\n * @param {string} [variantManagement] - Variant management string.\n * @return {{settings: SapUi5RoutingTargetSettings}} Returns object for SapUi5RoutingTargetBase.options.\n */\nconst createTargetOption = (\n    property?: object,\n    variantManagement?: string\n): {\n    settings: SapUi5RoutingTargetSettings;\n} => {\n    return {\n        settings: {\n            ...property,\n            ...(variantManagement && { variantManagement }),\n            navigation: {}\n        }\n    };\n};\n\nfunction initializeRouting(manifestRouting: v4.SapUi5RoutingV4): v4.SapUi5RoutingV4 {\n    let routing: v4.SapUi5RoutingV4 = manifestRouting;\n    if (!routing) {\n        routing = {\n            routes: [],\n            targets: {}\n        };\n    } else {\n        if (!routing.routes) {\n            routing.routes = [];\n        }\n        if (!routing.targets) {\n            routing.targets = {};\n        }\n    }\n    return routing;\n}\n\nfunction setTargetOptions(target: v4.RoutingTargetOptions, keyInManifest: string, navigationEntry: object) {\n    if (!target.options.settings.navigation) {\n        target.options.settings.navigation = {};\n    }\n    target.options.settings.navigation[keyInManifest] = {\n        detail: navigationEntry\n    };\n}\n\n/**\n * Calculates the query pattern for new target entries of the manifest\n * @param parts - array of strings, each entry represents one navigation\n * @param targetPage - page that is being navigated to\n * @returns the query pattern for the new target\n */\nfunction calculateQueryPattern(parts: string[], targetPage: v4.Page): string {\n    let pattern = '';\n\n    parts.forEach((part, index) => {\n        let key = '';\n        if (targetPage && targetPage.pageType !== PageTypeV4.ListReport) {\n            // Keys should be like - 'key', 'key2', 'key3'\n            key = `({key${index ? index + 1 : ''}})`;\n        }\n\n        pattern += `${pattern ? '/' : ''}${part}${key}`;\n    });\n    return `${pattern}${Constants.OptionalQuery}`;\n}\n\n/**\n * Recursive function to determine all parts to combine the query pattern, by traversing the routing navigation links\n * @param parts - list of query parts, to be enhanced per call\n * @param navKey - the key of the given routing navigation entry\n * @param pages - list of all pages\n * @param pageId - key of the current page\n * @param contextPath - contextPath of the page\n */\nfunction fillNavigationParts(\n    parts: string[],\n    navKey: string,\n    pages: v4.Pages,\n    pageId: string,\n    contextPath?: string\n): void {\n    if (contextPath) {\n        parts.push(...contextPath.split('/'));\n        parts.shift();\n        return;\n    }\n    parts.unshift(navKey);\n    let referringPage;\n    for (const key in pages) {\n        if (typeof pages[key].navigation === 'object') {\n            const pageKey = Object.keys(pages[key].navigation).find(\n                (index) => pages[key].navigation[index]['route'] === pageId\n            );\n            if (pageKey) {\n                navKey = pageKey;\n                referringPage = pages[key];\n            }\n        }\n        if (referringPage) {\n            fillNavigationParts(parts, navKey, pages, key);\n            return;\n        }\n    }\n}\n\n/**\n * Updates the route navigation entries of a page\n * @param page - the current page\n * @param pages - all pages in manifest\n * @param target - the given routing target\n * @param routing - the current routing\n * @param pageId - key of the page in manifest\n */\nfunction handlePageNavigation(\n    page: v4.PageV4,\n    pages: v4.Pages,\n    target: v4.RoutingTargetOptions,\n    routing: v4.SapUi5RoutingV4,\n    pageId: string\n) {\n    for (const keyInManifest in page.navigation) {\n        const navigationEntry = page.navigation[keyInManifest];\n        const navPage = pages[navigationEntry['route']];\n        setTargetOptions(target, keyInManifest, navigationEntry as object);\n        if (\n            navigationEntry?.['route'] &&\n            !routing.routes.some((routingRoute) => routingRoute.name === navigationEntry['route'])\n        ) {\n            const parts: string[] = [];\n            fillNavigationParts(parts, keyInManifest, pages, pageId, navPage?.contextPath);\n            const pattern = calculateQueryPattern(parts, navPage);\n            // Make sure there no route duplication\n            routing.routes.push(createRoute(pattern, navigationEntry['route'], navigationEntry['route']));\n        }\n    }\n}\n\n/**\n * Deletes obsolete pages from manifest\n * @param {v4.SapUi5RoutingV4} routing - the routing section in manifest\n * @param pages - given pages' definition in the config\n */\nfunction removeDeletedPages(routing: v4.SapUi5RoutingV4, pages: v4.Pages): void {\n    for (const id in routing.targets) {\n        if (!pages || !pages[id]) {\n            // Remove target\n            delete routing.targets[id];\n            // Remove routes\n            const index = routing.routes.findIndex((route) => route.name === id);\n            if (index !== -1) {\n                routing.routes.splice(index, 1);\n            }\n        }\n    }\n}\n\n/**\n * Exports contextPath to manifest if defined, else the entitySet\n * @param {v4.Page} page - the given page definition in config\n * @param {v4.RoutingTargetOptions} target - the corresponding routing target section in manifest\n */\nfunction transferEntitySetandContextPath(page: v4.PageV4, target: v4.RoutingTargetOptions): void {\n    if (page.contextPath) {\n        if (!target.options) {\n            target.options = createTargetOption({ contextPath: page.contextPath }, page.variantManagement);\n        }\n        target.options.settings.contextPath = page.contextPath;\n    } else {\n        delete target.options?.settings?.contextPath;\n    }\n    if (page.entitySet) {\n        if (!target.options) {\n            target.options = createTargetOption({ entitySet: page.entitySet }, page.variantManagement);\n        }\n        if (!page.contextPath || target.options.settings.entitySet) {\n            target.options.settings.entitySet = page.entitySet;\n        }\n    } else {\n        delete target.options?.settings?.entitySet;\n    }\n}\n\n/**\n * Detects removed custom sections and deletes removed custom sections from manifest.\n * @param {v4.Page} page - the given page definition in config\n * @param {v4.RoutingTargetOptions} target - the corresponding routing target section in manifest\n */\nfunction deleteRemovedCustomSections(page: v4.Page, target: v4.RoutingTargetOptions): void {\n    // Delete removed custom sections\n    const manifestSections = target?.options?.settings?.content?.body?.sections;\n    if (page.pageType === PageTypeV4.ObjectPage && manifestSections && typeof manifestSections === 'object') {\n        const objectPage = page.config as v4.ObjectPageConfigV4;\n        const customSections = Array.isArray(objectPage?.sections?.custom) ? objectPage.sections.custom : [];\n        const latestIds = customSections.map((section: v4.ObjectPageCustomSectionFragment) => section.id);\n        const existingIds = Object.keys(manifestSections);\n        for (const id of existingIds) {\n            if (!latestIds.includes(id)) {\n                // Delete removed custom section\n                delete manifestSections[id];\n            }\n        }\n    }\n}\n\n/**\n * Updates the layout of a routing route in manifest, based on config definition\n * @param {v4.SapUi5RoutingV4} routing - the routing section in manifest\n * @param {string} id - name of the routing route\n * @param {v4.Page} page - the given page definition in config\n */\nfunction updateRouteLayout(routing: v4.SapUi5RoutingV4, id: string, page: v4.Page): void {\n    const route = routing.routes.find((routingRoute) => routingRoute.name === id);\n    if (route) {\n        if (page.defaultLayoutType) {\n            route.layout = page.defaultLayoutType;\n        } else {\n            delete route.layout;\n        }\n    }\n}\n\n/**\n * Fills target with page information\n * @param page current page\n * @param target routing target to be filled\n * @param id page id\n * @param pages all pages of app.json\n * @returns filled target\n */\nfunction fillTarget(\n    page: v4.Page,\n    target: v4.RoutingTargetOptions,\n    id: string,\n    pages: v4.Pages\n): v4.RoutingTargetOptions {\n    if (page.pageType && ![PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(page.pageType)) {\n        target = {\n            ...target,\n            ...({\n                type: 'Component',\n                id: target?.['id'] || id,\n                name: `${Constants.Namespace}.${pages[id].pageType}`\n            } as SapUi5RoutingTarget)\n        };\n    } else if (\n        page.view &&\n        !!target &&\n        ((target as v4.SapUi5RoutingTargetCustomPageV4).viewName ||\n            (target as v4.SapUi5RoutingTargetCustomPageV4).viewId)\n    ) {\n        // Existing old syntax for Custom Page\n        target = {\n            ...target,\n            ...({\n                viewId: page.view.id,\n                viewName: page.view.name,\n                path: page.view.path,\n                viewType: page.view.viewType\n            } as v4.SapUi5RoutingTargetCustomPageV4)\n        };\n    } else if (page.view) {\n        target = {\n            ...target,\n            ...({\n                type: 'Component',\n                id: page.view.id,\n                name: page.view.template || v4.FE_TEMPLATE_V4_CUSTOM_PAGE,\n                viewType: page.view.viewType,\n                options: {\n                    settings: {\n                        viewName: page.view.name\n                    }\n                }\n            } as v4.SapUi5RoutingTargetCustomPageV4New)\n        };\n    }\n    return target;\n}\n\n/**\n * Transform Pages(from app.json) to UI5 routing configuration (manifest.json)\n * @param routing UI5 routing configuration\n */\nexport function transformRoutingV4(homePage: string, pages: v4.PagesV4, manifest: object): v4.SapUi5RoutingV4 {\n    const routing = initializeRouting(manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4);\n\n    // add default route\n    if (homePage && !routing.routes.some((route) => route.name === homePage)) {\n        // Make sure there no route duplication\n        routing.routes.push(createRoute(Constants.OptionalQuery, homePage, homePage));\n    }\n    for (const id in pages) {\n        let target: v4.RoutingTargetOptions;\n        const page = pages[id];\n        if (routing.targets[id]) {\n            target = routing.targets[id];\n        }\n        target = fillTarget(page, target, id, pages);\n        transferEntitySetandContextPath(page, target);\n        deleteRemovedCustomSections(page, target);\n        if (target && !page.controlAggregation) {\n            delete target.contextPattern;\n            delete target.controlAggregation;\n        }\n        if (target?.options?.settings?.navigation) {\n            // We handle page 'navigation' from scratch - clear 'navigation' before handling\n            target.options.settings.navigation = {};\n        }\n        // Handle page 'navigation'\n        handlePageNavigation(page, pages, target, routing, id);\n        // Update associated route with layout information\n        updateRouteLayout(routing, id, page);\n\n        routing.targets[id] = target;\n    }\n    // Remove deleted pages\n    removeDeletedPages(routing, pages);\n    return routing;\n}\n", "import type { SapUi5RootView } from '@sap/ux-specification-types';\nimport {\n    v4,\n    FIORI_FCL_ROOT_ID,\n    FIORI_FCL_ROOT_VIEW_NAME,\n    ViewTypes,\n    FlexibleColumnLayoutAggregations\n} from '@sap/ux-specification-types';\nimport type { ApplicationV4 } from '../application';\nimport { Constants as V4Constants } from './manifest';\nimport { updateDependencyLib } from './utils';\n\n// Aggregations mapping for target levels\n// 0 - BeginColumnPages, 1 - MidColumnPages, 2 - EndColumnPages\nconst fclAggregations = [\n    FlexibleColumnLayoutAggregations.BeginColumnPages,\n    FlexibleColumnLayoutAggregations.MidColumnPages,\n    FlexibleColumnLayoutAggregations.EndColumnPages\n];\n\n/**\n * Recursive method which updates manifest routing to enable FCL support.\n * Method contains some parts like setting 'ThreeColumnsEndExpanded' to 2st->3rd page navigation - it was requested for demo purposes.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n * @param {string} pageName - Page name which should be used to apply FCL.\n * @param {Array<string>} targetPages - Current array of target pages to join in.\n * For example to display two column FCL we have - ['1stLevelPage', '2ndLevelPage']\n * @param {number} level - Current navigation level.\n */\nconst applyFCLRouting = (\n    manifestUI5: v4.SapUi5V4,\n    app: ApplicationV4,\n    pageName: string,\n    targetPages: Array<string> = [],\n    level = 0\n): void => {\n    const routeOfPage = manifestUI5.routing.routes.find((route) => {\n        return route.name === pageName;\n    });\n    if (!routeOfPage) {\n        return;\n    }\n    // Update route\n    if (typeof routeOfPage.target === 'string') {\n        // 1-3 level navigation is placed like [`1st Page`, `2nd Page`, `3rd Page`]\n        // 4+ level navigation is placed as fullscreen - [`4th+n Page`]\n        routeOfPage.target = level <= 2 ? [...targetPages, routeOfPage.target] : [routeOfPage.target];\n    }\n    // Update target\n    const target = manifestUI5.routing.targets[pageName];\n    const page = app.pages?.[pageName];\n    if (!page) {\n        return;\n    }\n    if ('controlAggregation' in page) {\n        target.controlAggregation = page.controlAggregation;\n    } else if (fclAggregations[level]) {\n        target.controlAggregation = fclAggregations[level];\n    } else {\n        target.controlAggregation = FlexibleColumnLayoutAggregations.EndColumnPages;\n    }\n    const pattern = routeOfPage.pattern.replace(V4Constants.OptionalQuery, '');\n    if (pattern) {\n        target.contextPattern = pattern.startsWith('/') ? pattern : `/${pattern}`;\n    } else {\n        target.contextPattern = '';\n    }\n    // Loop further pages\n    if (page.navigation) {\n        level++;\n        for (const pageId in page.navigation) {\n            applyFCLRouting(manifestUI5, app, page.navigation[pageId]['route'], routeOfPage.target, level);\n        }\n    }\n};\n\n/**\n * Method enables FCL support by updating Manifest.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n */\nconst enableFcl = (manifestUI5: v4.SapUi5V4, app: ApplicationV4): void => {\n    // Apply config with router class\n    manifestUI5.routing.config.routerClass = v4.FIORI_FCL_ROUTER_CLASS;\n    // Make changes in\n    applyFCLRouting(manifestUI5, app, app.home);\n    // Update 'rootView'\n    const rootView: SapUi5RootView = {\n        viewName: FIORI_FCL_ROOT_VIEW_NAME,\n        type: ViewTypes.XML,\n        async: true,\n        id: FIORI_FCL_ROOT_ID\n    };\n    manifestUI5.rootView = manifestUI5.rootView ? { ...manifestUI5.rootView, ...rootView } : rootView;\n    // Added in scope of #523. Starting from SAPUI5 1.83+ - we need make sure that dependency to `sap.f` library is added to manifest.\n    updateDependencyLib(manifestUI5, v4.SAPUI5_DEPENDENCY_LIB_SAP_F);\n};\n\n/**\n * Method disables FCL support by updating Manifest.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n */\nconst disableFcl = (sapui5: v4.SapUi5V4): void => {\n    if (sapui5.rootView && sapui5.rootView.viewName === FIORI_FCL_ROOT_VIEW_NAME) {\n        // FCL is disabled and rootview name is equal to FCL ROOT VIEW, then remove rootview\n        delete sapui5.rootView;\n    }\n    if (sapui5.routing) {\n        if (sapui5.routing.config && sapui5.routing.config.routerClass === v4.FIORI_FCL_ROUTER_CLASS) {\n            // Remove routing class\n            delete sapui5.routing.config.routerClass;\n        }\n        const routes = sapui5.routing.routes || [];\n        for (const route of routes) {\n            if (route.target && Array.isArray(route.target)) {\n                // In 'applyFCLRouting' we set property 'target' as Array\n                // When FCL is disabled, property 'target' should not be an array anymore - resetting back.\n                route.target = route.name;\n            }\n        }\n    }\n};\n\n/**\n * Method updates Manifest depending on is FCL ON or OFF.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n */\nexport const updateFcl = (manifestUI5: v4.SapUi5V4, app: ApplicationV4): void => {\n    if (app.settings && app.settings.flexibleColumnLayout) {\n        enableFcl(manifestUI5, app);\n    } else {\n        disableFcl(manifestUI5);\n    }\n};\n", "import type { ObjectPage } from './pages';\nimport type { ObjectPageCustomSectionFragment } from './controls';\nimport { createNewCustomColumn } from './exportCustomColumn';\nimport type { NextDefinition } from '../../common';\nimport {\n    getReflectMetadata,\n    getChildId,\n    getPageLayoutInformation,\n    getManifestSectionByPathV4,\n    fillFlexChangeContent,\n    DEFINITION_LINK_PREFIX\n} from '../../common';\nimport { ApplicationV4, AppSettings, getSettingsPathForPage } from '../application';\nimport { transformRoutingV4 } from './manifest';\nimport { updateFcl } from './flexibleColumnLayout';\nimport {\n    DefinitionName,\n    FacetTitlePrefix,\n    PropertyName,\n    SchemaTag,\n    PageTypeV2,\n    PageTypeV4,\n    SchemaType,\n    ManifestSection,\n    TemplateType\n} from '@sap/ux-specification-types';\nimport type {\n    FioriElementsVersion,\n    Manifest,\n    SyncRule,\n    ExportAnalyticalListPageV4Parameters,\n    ExportListReportV4Parameters,\n    ExportObjectPageV4Parameters,\n    ExportParametersV4,\n    ExportHandlerFunction,\n    ExportResults,\n    UI5Version,\n    v4\n} from '@sap/ux-specification-types';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { deleteEmptyStructure, getNextTargetDefinition } from '../../common/utils';\nimport { MetadataInstanceFactoryV4 as Factory } from './factory';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV4 } from './types';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport { extractLastIdPart } from './utils';\nimport { exportFPMCustomPageConfig } from './fpmCustomPage';\n\nexport const defaultExportResult: ExportResults = {\n    flexChanges: [],\n    manifest: {\n        'sap.ui5': {\n            flexEnabled: true,\n            routing: {\n                targets: {}\n            }\n        },\n        'sap.app': {}\n    },\n    fragments: [],\n    views: []\n};\n\n/**\n * Applies the sync rule for a flex change during export\n * @param syncRule - export rule from the object classes decorator\n * @param transferParameters - list of parameters passed from API\n * @param ids - list of parent & child ids\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param configObject - current (sub)object of the configuration file\n * @param key - key of the given property\n */\nfunction exportFlexChange(\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV4,\n    ids: string[],\n    breadcrumbs: string[],\n    configObject: { [key: string]: any },\n    key: string\n) {\n    const controlId = syncRule.flex.controlId(\n        transferParameters.baseId,\n        ids,\n        breadcrumbs,\n        syncRule.flex.controlType,\n        transferParameters.title\n    );\n    const flexChange = fillFlexChangeContent(configObject, syncRule, transferParameters.ui5Version, key, controlId);\n    transferParameters.exportResults.flexChanges.push(\n        syncRule.flex.createFlexChange(flexChange, transferParameters.exportResults.manifest)\n    );\n}\n\nfunction determineTargetAnnotationOfTable(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any }\n) {\n    let targetAnnotationEncoded = '@com.sap.vocabularies.UI.v1.LineItem';\n    let targetAnnotation = '@com.sap.vocabularies.UI.v1.LineItem';\n    const annotationPath =\n        transferParameters.appSchema.definitions[DefinitionName.TableSPV]?.[SchemaTag.annotationPath];\n    if (ids.length > 1 && transferParameters.config['table'].annotationPath) {\n        const annoPath = transferParameters.appSchema.definitions[DefinitionName.ALPTable]?.[SchemaTag.annotationPath];\n        targetAnnotationEncoded = targetAnnotation = annoPath && annoPath.substr(annoPath.lastIndexOf('@'));\n    } else if (configObject.table?.annotationPath) {\n        //view definition\n        targetAnnotationEncoded = targetAnnotation = `@${configObject.table.annotationPath}`;\n    } else if (ids[0] === PropertyName.table && annotationPath) {\n        const annotationPathArray = annotationPath.split('/');\n        targetAnnotationEncoded = targetAnnotation = annotationPathArray[annotationPathArray.length - 1];\n    }\n    return { targetAnnotationEncoded, targetAnnotation };\n}\n\nfunction determineTargetAnnotationOfChart(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    targetAnnotationEncoded: string,\n    targetAnnotation: string,\n    configObject: { [key: string]: any }\n) {\n    if (ids.length > 1) {\n        const annoPath = transferParameters.appSchema.definitions[DefinitionName.ALPChart]?.[SchemaTag.annotationPath];\n        targetAnnotationEncoded = targetAnnotation = annoPath && annoPath.substr(annoPath.lastIndexOf('@'));\n    } else {\n        //chart level\n        targetAnnotationEncoded = targetAnnotation = `@${configObject.chart?.annotationPath}`;\n    }\n    return { targetAnnotationEncoded, targetAnnotation };\n}\n\nfunction determineTargetAnnotationOfViews(\n    transferParameters: TransferParameterTypeV4,\n    ids: string[],\n    targetAnnotation: string,\n    targetAnnotationEncoded: string\n) {\n    const parentDefinition = (transferParameters.appSchema.definitions['MultiTableModeV4'] as Definition)?.properties[\n        ids[2]\n    ];\n    if (parentDefinition) {\n        if (ids.length === 3) {\n            //the parent definition comprises the annotation of the visualization of the (Selection)PresentationVariant.\n            targetAnnotation = targetAnnotationEncoded =\n                parentDefinition[SchemaTag.annotationPath] &&\n                parentDefinition[SchemaTag.annotationPath].substr(\n                    parentDefinition[SchemaTag.annotationPath].lastIndexOf('@')\n                );\n        } else if (ids.length > 3) {\n            //the own definition comprises the lineItem or chart annotation from the visualization\n            const ownDefinitionName = (parentDefinition as Definition).$ref?.split(DEFINITION_LINK_PREFIX)[1];\n            const ownDefinition = ownDefinitionName && transferParameters.appSchema.definitions[ownDefinitionName];\n            const annotation =\n                ownDefinition?.[SchemaTag.annotationPath] &&\n                ownDefinition[SchemaTag.annotationPath].substr(\n                    ownDefinition[SchemaTag.annotationPath].lastIndexOf('@')\n                );\n            targetAnnotation = targetAnnotationEncoded = ownDefinition['navigationProperty']\n                ? `${ownDefinition['navigationProperty']}/${annotation}`\n                : annotation;\n        }\n    }\n    return { targetAnnotation, targetAnnotationEncoded };\n}\n\nfunction determineTargetAnnotationOfSections(\n    ids: string[],\n    custom: boolean,\n    targetAnnotationEncoded: string,\n    targetAnnotation: string\n) {\n    if (ids[1] === 'custom' && ids[2] !== ids[ids.length - 1]) {\n        custom = true;\n        targetAnnotationEncoded = ids[2];\n        targetAnnotation = targetAnnotationEncoded && targetAnnotationEncoded.replace(/::/g, '/');\n    } else {\n        const sectionId = extractLastIdPart(ids[1]);\n        targetAnnotationEncoded = sectionId && sectionId.replace(/\\//g, '::');\n        targetAnnotation = targetAnnotationEncoded && targetAnnotationEncoded.replace(/::/g, '/');\n    }\n    return { custom, targetAnnotationEncoded, targetAnnotation };\n}\n\n/**\n * Determines the target annotation that is relevant for the sync rule\n * @param {string[]} ids - list of ids of parent elements\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param { [key: string]: any } configObject - the given config.json, to be exported\n * @returns { targetAnnotationEncoded, targetAnnotation, custom }\n */\nfunction determineTargetAnnotation(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any }\n): { targetAnnotationEncoded: string; targetAnnotation: string; custom: boolean } {\n    let targetAnnotation,\n        targetAnnotationEncoded,\n        custom = false;\n    if (ids[0] === PropertyName.table && ids[1] !== PropertyName.views) {\n        ({ targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfTable(\n            ids,\n            transferParameters,\n            configObject\n        ));\n    } else if (ids[0] === PropertyName.chart && transferParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        ({ targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfChart(\n            ids,\n            transferParameters,\n            targetAnnotationEncoded,\n            targetAnnotation,\n            configObject\n        ));\n    } else if (ids[0] === PropertyName.sections) {\n        ({ custom, targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfSections(\n            ids,\n            custom,\n            targetAnnotationEncoded,\n            targetAnnotation\n        ));\n    } else if (ids[1] === PropertyName.sections) {\n        //header sections\n        if (transferParameters.title && transferParameters.title.indexOf(FacetTitlePrefix) > -1) {\n            targetAnnotation = targetAnnotationEncoded = transferParameters.title.split(FacetTitlePrefix)[1];\n        } else if (ids[2]) {\n            targetAnnotation = targetAnnotationEncoded = ids[2].split('@')[1];\n        } else if (targetAnnotationEncoded) {\n            targetAnnotation = targetAnnotationEncoded = targetAnnotationEncoded.replace(/::/g, '/');\n        }\n    } else if (ids[1] === PropertyName.views) {\n        ({ targetAnnotation, targetAnnotationEncoded } = determineTargetAnnotationOfViews(\n            transferParameters,\n            ids,\n            targetAnnotation,\n            targetAnnotationEncoded\n        ));\n    }\n    return { targetAnnotationEncoded, targetAnnotation, custom };\n}\n\n/**\n * Calculates an additional key for the sync rule from the given ID's\n * @param {string[]} ids - list of ids of parent elements\n * @returns the key for the sync rule\n */\nfunction determineKeyForSyncRule(ids: string[]): string | undefined {\n    let idIndex = 0;\n    for (let index = ids.length - 1; index > -1; index--) {\n        const element = ids[index];\n        if (\n            element === PropertyName.actions ||\n            element === PropertyName.columns ||\n            element === PropertyName.views ||\n            element === PropertyName.visualFilters\n        ) {\n            idIndex = index + 1;\n            break;\n        }\n    }\n    return idIndex > 0 ? ids[idIndex].replace(/\\//gi, '??') : undefined;\n}\n\ntype ExportToManifestParams = {\n    exportHandler: boolean | ExportHandlerFunction;\n    manifestSection: object;\n    configObject: { [key: string]: any };\n    configPropertyKey: string;\n    manifestKey: string;\n    syncRuleKey: string;\n};\n\n/**\n * Creates a new object in manifest\n * @param {ExportToManifestParams} params - list of parameters\n */\nfunction createNewObjectInManifest(params: ExportToManifestParams) {\n    if (params.exportHandler && typeof params.exportHandler === 'function') {\n        params.exportHandler(\n            params.manifestSection,\n            params.configObject,\n            params.configPropertyKey,\n            params.manifestKey,\n            params.syncRuleKey\n        );\n    } else if (!params.manifestSection[params.manifestKey]) {\n        params.manifestSection[params.manifestKey] = {};\n    }\n}\n\n/**\n * Transfers a property value from config to manifest\n * @param {ExportToManifestParams} params - list of parameters\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction transferPropertyToManifest(\n    params: ExportToManifestParams,\n    propertyDefinition: object,\n    nextDefinition: object\n) {\n    if (\n        !(\n            propertyDefinition['type'] !== 'array' &&\n            nextDefinition?.['targetDefinition']?.type === 'object' &&\n            nextDefinition?.['targetDefinition']?.properties\n        )\n    ) {\n        if (params.exportHandler !== false) {\n            if (params.exportHandler && typeof params.exportHandler === 'function') {\n                params.exportHandler(\n                    params.manifestSection,\n                    params.configObject,\n                    params.configPropertyKey,\n                    params.manifestKey,\n                    params.syncRuleKey\n                );\n            } else if (\n                Array.isArray(params.configObject[params.configPropertyKey]) &&\n                !params.configObject[params.configPropertyKey].length\n            ) {\n                delete params.manifestSection[params.manifestKey];\n            } else {\n                params.manifestSection[params.manifestKey] = params.configObject[params.configPropertyKey];\n            }\n        }\n    } else if (propertyDefinition['type'] !== 'array' && params.manifestSection[params.manifestKey] === undefined) {\n        createNewObjectInManifest(params);\n    }\n}\n\n/**\n * Transfers a change in config.json to manifest\n * @param ids - list of parent & child ids\n * @param {SyncRule} syncRule - syncRule (metadata)\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param {string} configPropertyKey - key of property in the config\n * @param { [key: string]: any } configObject - the given config.json, to be exported\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction exportManifestChange(\n    ids: string[],\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV4,\n    configPropertyKey: string,\n    configObject: { [key: string]: any },\n    propertyDefinition: object,\n    nextDefinition: object\n) {\n    //eliminate subsections' hierarchy\n    let index = ids.indexOf('subsections');\n    while (index > -1) {\n        ids.splice(index - 1, 2);\n        index = ids.indexOf('subsections');\n    }\n    const { targetAnnotationEncoded, targetAnnotation, custom } = determineTargetAnnotation(\n        ids,\n        transferParameters,\n        configObject\n    );\n\n    const syncRuleKey = determineKeyForSyncRule(ids);\n    const path = syncRule.manifest.path(\n        transferParameters.pageNameArray,\n        transferParameters.exportResults.manifest,\n        targetAnnotationEncoded,\n        syncRuleKey,\n        targetAnnotation,\n        configObject\n    );\n    const manifestSection = getManifestSectionByPathV4(\n        transferParameters.exportResults.manifest,\n        path,\n        targetAnnotation,\n        custom ? undefined : targetAnnotationEncoded\n    );\n    if (manifestSection) {\n        const manifestKey = syncRule.manifest.key || configPropertyKey;\n        if (configObject[configPropertyKey] !== undefined) {\n            // In case of arrays we take over complete array\n            const exportParams: ExportToManifestParams = {\n                exportHandler: syncRule.manifest.export,\n                manifestSection,\n                configObject,\n                configPropertyKey,\n                manifestKey,\n                syncRuleKey\n            };\n            transferPropertyToManifest(exportParams, propertyDefinition, nextDefinition);\n        } else if (syncRule.manifest.delete) {\n            const deleteHandler = syncRule.manifest.delete;\n            if (typeof deleteHandler === 'function') {\n                deleteHandler(\n                    manifestSection,\n                    configObject,\n                    configPropertyKey,\n                    manifestKey,\n                    syncRuleKey,\n                    transferParameters.config\n                );\n            }\n        } else if (manifestSection[manifestKey] !== undefined) {\n            delete manifestSection[manifestKey];\n        }\n    }\n    deleteEmptyStructure(transferParameters.exportResults.manifest, path, targetAnnotation, targetAnnotationEncoded);\n}\n\n/**\n * Evaluates an export rule for a property or object, transfers to flex change or manifest setting\n * @param transferParameters - list of parameters passed from API\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param key - key of the given property\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction evaluateExportRule(\n    transferParameters: TransferParameterTypeV4,\n    breadcrumbs: string[],\n    key: string,\n    configObject: { [key: string]: any },\n    ids: string[],\n    propertyDefinition: object,\n    nextDefinition: NextDefinition\n): void {\n    const syncRule = getReflectMetadata(configObject, key);\n    if (syncRule) {\n        if (syncRule.flex) {\n            exportFlexChange(syncRule, transferParameters, ids, breadcrumbs, configObject, key);\n        } else if (syncRule.manifest) {\n            exportManifestChange(\n                ids,\n                syncRule,\n                transferParameters,\n                key,\n                configObject,\n                propertyDefinition,\n                nextDefinition\n            );\n        }\n    }\n}\n\n/**\n * Processes an (object-like) sub-object of the app schema and transfer all connected config entries to manifest\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param {NextDefinition} nextDefinition - the next definition in app schema to be processed\n * @param currentConfigObject - current config object\n * @param ids - list of parent & child ID's\n * @param localIdParts - list of ID parts for building the stable ID\n */\nfunction transferSubObject(\n    parameters: TransferEntryParameters,\n    nextDefinition: NextDefinition,\n    currentConfigObject: any,\n    ids: string[],\n    localIdParts: string[]\n) {\n    let objects = [],\n        isArray = false;\n    if (parameters.propertyDefinition.$ref && nextDefinition) {\n        objects.push(nextDefinition.configObject);\n    } else if (parameters.propertyDefinition['anyOf']) {\n        objects.push(currentConfigObject);\n    } else if (parameters.propertyDefinition.type === 'array') {\n        objects = currentConfigObject;\n        isArray = true;\n    } else {\n        objects.push(currentConfigObject);\n    }\n    parameters.index = 0;\n    for (const innerObject of objects) {\n        const additionalIds = [];\n        if (parameters.breadcrumbs[0] === PropertyName.sections && parameters.key === 'custom' && isArray) {\n            // We need add custom section 'id' into breadcrumbs to retrieve correct path to manifest\n            additionalIds.push(innerObject['id']);\n        }\n        parameters.transferParameters.title = nextDefinition?.title;\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            parameters.transferParameters,\n            innerObject,\n            [...ids, ...additionalIds],\n            localIdParts,\n            [...parameters.breadcrumbs, parameters.key],\n            nextDefinition?.targetDefinition\n        );\n        parameters.index++;\n    }\n}\n\n/**\n * Creates an ALP 'views' entry in the resulting manifest if not yet existing.\n * Adds the secondary = table view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns\n * - a boolean indicating that the views entry got created.\n * - a boolean indicating if the processing of sub-objects shall be stopped\n **/\nfunction createALPTableView(\n    transferParameters: TransferParameterTypeV4,\n    configObject: any,\n    key: string\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n    if (!configObject[key] || Object.keys(configObject[key]).length === 0 || !configObject.chart) {\n        return { newElementCreated, stopProcessing: true };\n    }\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        views['paths'] = [\n            {\n                secondary: [\n                    {\n                        annotationPath: configObject[key].annotationPath\n                    }\n                ]\n            }\n        ];\n        newElementCreated = true;\n    } else if (!views['paths'][0].secondary) {\n        views['paths'][0].secondary = [\n            {\n                annotationPath: configObject[key].annotationPath\n            }\n        ];\n        newElementCreated = true;\n    }\n    return { newElementCreated, stopProcessing: false };\n}\n\n/**\n * Creates an ALP 'views' entry in the resulting manifest if not yet existing.\n * Adds the primary = chart view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns\n * - a boolean indicating that the views entry got created.\n * - a boolean indicating if the processing of sub-objects shall be stopped\n */\nfunction createALPChartView(\n    transferParameters: TransferParameterTypeV4,\n    configObject: any,\n    key: string\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n\n    if (!configObject[key] || Object.keys(configObject[key]).length === 0) {\n        return { newElementCreated, stopProcessing: true };\n    }\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        views['paths'] = [\n            {\n                primary: [\n                    {\n                        annotationPath: configObject[key].annotationPath\n                    }\n                ]\n            }\n        ];\n        newElementCreated = true;\n    } else if (!views['paths'][0].primary) {\n        views['paths'][0].primary = [\n            {\n                annotationPath: configObject[key].annotationPath\n            }\n        ];\n        newElementCreated = true;\n    }\n    if (!views['paths'][0].secondary) {\n        views['paths'][0].secondary = [\n            {\n                annotationPath: configObject?.table?.annotationPath || 'com.sap.vocabularies.UI.v1.LineItem'\n            }\n        ];\n    }\n    return { newElementCreated, stopProcessing: false };\n}\n\n/**\n * Creates an controlConfiguration with filterFields in the resulting manifest if not yet existing.\n * Adds the current visual filters if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns a boolean indicating that the filter fields entry got created.\n */\nfunction createVisualFilters(transferParameters: TransferParameterTypeV4, configObject: any): boolean {\n    if (!configObject || Object.keys(configObject).length === 0) {\n        return false;\n    }\n    let newElementCreated = false;\n    const path = getSettingsPathForPage(transferParameters.pageNameArray);\n    const settings = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    const SelectionFields = `@${UIAnnotationTerms.SelectionFields}`;\n    // No visual filters yet\n    if (!settings['controlConfiguration']) {\n        settings['controlConfiguration'] = { [SelectionFields]: { filterFields: {} } };\n        newElementCreated = true;\n    } else if (!settings['controlConfiguration'][SelectionFields]) {\n        settings['controlConfiguration'][SelectionFields] = { filterFields: {} };\n        newElementCreated = true;\n    } else if (!settings['controlConfiguration'][SelectionFields]['filterFields']) {\n        settings['controlConfiguration'][SelectionFields]['filterFields'] = {};\n        newElementCreated = true;\n    }\n    if (newElementCreated) {\n        const filterFields = settings['controlConfiguration'][SelectionFields]['filterFields'];\n        Object.keys(configObject).forEach((filterName) => {\n            const filterConfig = configObject[filterName];\n            filterFields[filterName] = {};\n            for (const property in filterConfig) {\n                // Special handling for visualFilterValueList (split)\n                if (property === 'visualFilterValueList') {\n                    filterFields[filterName]['visualFilter'] = { valueList: filterConfig[property] };\n                } else {\n                    filterFields[filterName][property] = filterConfig[property];\n                }\n            }\n        });\n    }\n    return newElementCreated;\n}\n\n/**\n * Creates an LR 'views' entry in the resulting manifest if not yet existing yet.\n * Adds the current table view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns a boolean indicating that the views entry got created.\n */\nfunction createLRTableView(\n    index: number,\n    transferParameters: TransferParameterTypeV4,\n    key: string,\n    configObject: any\n): boolean {\n    if (!configObject || Object.keys(configObject).length === 0) {\n        return false;\n    }\n    let newElementCreated = false;\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    const newEntry = {\n        key: configObject['key'],\n        annotationPath: configObject.annotationPath\n    };\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        //No views yet\n        views['paths'] = [newEntry];\n        newElementCreated = true;\n    } else {\n        const existingIndex = views['paths'].findIndex((view) => view.key === configObject['key'] || view.key === key);\n        if (existingIndex === -1) {\n            //Given view does not exist yet\n            views['paths'].push(newEntry);\n            newElementCreated = true;\n        } else if (existingIndex !== configObject.index) {\n            //Reordering scenario\n            const savedContent = JSON.parse(JSON.stringify(views['paths'][existingIndex]));\n            views['paths'].splice(existingIndex, 1);\n            views['paths'].splice(index, 0, savedContent);\n            newElementCreated = true;\n        }\n    }\n    return newElementCreated;\n}\n\n/**\n * Special logic to create new elements in manifest\n * @param definitionName - schema definition name of the current object\n * @param key - key of the current object\n * @param configObject - current object in config.json\n * @param breadcrumbs - array of sequence of properties that we are currently processing. Required for instance for table column name\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @returns newElementCreated - boolean value to indicate that a new element was created ==> no further sync rule on this level\n */\nfunction createNewElement(\n    index: number,\n    definitionName: string,\n    key: string,\n    configObject: any,\n    breadcrumbs: string[],\n    transferParameters: TransferParameterTypeV4,\n    preprocessed = false\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n    const stopProcessing = false;\n    if (definitionName && !preprocessed) {\n        if (definitionName.startsWith(DefinitionName.CustomColumn)) {\n            newElementCreated = createNewCustomColumn(\n                key,\n                transferParameters,\n                configObject[key],\n                transferParameters.logger,\n                breadcrumbs\n            );\n        } else if (definitionName === DefinitionName.ALPChartView && key === PropertyName.chart && configObject) {\n            return createALPChartView(transferParameters, configObject, key);\n        } else if (definitionName === DefinitionName.ALPTableView && key === PropertyName.table && configObject) {\n            return createALPTableView(transferParameters, configObject, key);\n        } else if (\n            key &&\n            (definitionName.startsWith(DefinitionName.LRTableView) ||\n                definitionName.startsWith(DefinitionName.LRChartView))\n        ) {\n            newElementCreated = createLRTableView(index, transferParameters, key, configObject[key]);\n        } else if (key && definitionName.startsWith(DefinitionName.VisualFilters)) {\n            newElementCreated = createVisualFilters(transferParameters, configObject[key]);\n        }\n    }\n    return { newElementCreated, stopProcessing };\n}\n\ntype TransferEntryParameters = {\n    transferParameters: TransferParameterTypeV4;\n    breadcrumbs: string[];\n    key: string;\n    index: number;\n    configObject: { [key: string]: any };\n    propertyDefinition: Definition;\n};\n\n/**\n * Transfers one entry of a list (aka one property of the config) to the manifest\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @param preprocessed - indicates that the list was already preprocessed by following the config order\n */\nfunction transferSortedListEntry(\n    parameters: TransferEntryParameters,\n    parentIds: string[],\n    stableIdParts: string[],\n    preprocessed = false\n): void {\n    const currentConfigObject = parameters.configObject[parameters.key];\n    const childId = getChildId(parameters.configObject, parameters.key);\n    const nextDefinition = getNextTargetDefinition(\n        parameters.transferParameters.appSchema,\n        parameters.transferParameters.title,\n        currentConfigObject,\n        parameters.propertyDefinition,\n        parameters.key,\n        parameters.transferParameters.factory,\n        parameters.transferParameters.pageType\n    );\n    const { newElementCreated, stopProcessing } = createNewElement(\n        parameters.index,\n        parameters.propertyDefinition.$ref?.split(DEFINITION_LINK_PREFIX)[1],\n        parameters.key,\n        parameters.configObject,\n        parameters.breadcrumbs,\n        parameters.transferParameters,\n        preprocessed\n    );\n    const ids = childId ? [...parentIds, childId] : [...parentIds, parameters.key];\n    if (!newElementCreated) {\n        evaluateExportRule(\n            parameters.transferParameters,\n            parameters.breadcrumbs,\n            parameters.key,\n            parameters.configObject,\n            ids,\n            parameters.propertyDefinition,\n            nextDefinition\n        );\n    }\n\n    if (\n        parameters.propertyDefinition &&\n        ((typeof currentConfigObject === 'object' && Object.keys(currentConfigObject).length !== 0) ||\n            (parameters.propertyDefinition.$ref && nextDefinition.configObject)) &&\n        !stopProcessing\n    ) {\n        const localIdParts = childId ? [...stableIdParts, childId] : stableIdParts;\n        transferSubObject(parameters, nextDefinition, currentConfigObject, ids, localIdParts);\n    }\n}\n\n/**\n * Function for special handling of anyOf definitions during the export\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param anyOfDefinitions - the array of definitions from the anyOf (of additionalProperties)\n * @param schemaDefinition - parent definition, comprising properties as well as additionalProperties\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @returns\n */\nfunction transferConfigEntriesWithAnyOfDefinitions(\n    transferEntryParameters: TransferEntryParameters,\n    anyOfDefinitions: Definition[],\n    schemaDefinition: Definition,\n    parentIds: string[],\n    stableIdParts: string[]\n): boolean {\n    let preprocessed = false;\n    if (anyOfDefinitions) {\n        const configEntries = Object.entries(transferEntryParameters.configObject);\n        if (!configEntries || configEntries.length < 1) {\n            return preprocessed;\n        }\n        configEntries.sort((a, b) => a[1]['index'] - b[1]['index']);\n        //follow the config order, to support reordering\n        configEntries.forEach((configEntry) => {\n            if (schemaDefinition.properties[configEntry[0]]) {\n                transferEntryParameters.key = configEntry[0];\n                transferEntryParameters.propertyDefinition = schemaDefinition.properties[configEntry[0]] as Definition;\n                //already part of schema\n                transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts);\n                preprocessed = true;\n            } else if (typeof configEntry[1] === 'object') {\n                //match against potential schema definitions\n                anyOfDefinitions.forEach((anyOfDefinition) => {\n                    if (anyOfDefinition.$ref) {\n                        transferEntryParameters.key = configEntry[0];\n                        transferEntryParameters.propertyDefinition = anyOfDefinition;\n                        transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts);\n                        preprocessed = true;\n                    }\n                });\n            }\n            transferEntryParameters.index++;\n        });\n    }\n    return preprocessed;\n}\n\n/**\n * Method updates list of definition entries from schema with entries for insertion based on `additionalProperties` entry.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API.\n * @param {Definition} additionalProperties - allowed additional properties.\n * @param {[string, DefinitionOrBoolean][]} list - list with entries.\n * @param {{ [key: string]: unknown }} configObject - configuration object.\n */\nfunction mergeEntriesForInsert(\n    transferParameters: TransferParameterTypeV4,\n    additionalProperties: Definition,\n    list: [string, DefinitionOrBoolean][],\n    configObject: { [key: string]: unknown }\n): void {\n    let properties = additionalProperties?.properties;\n    let required = additionalProperties?.required;\n    if (!properties && additionalProperties?.$ref) {\n        const reference = additionalProperties?.$ref;\n        const definition = transferParameters.appSchema.definitions[reference.split(DEFINITION_LINK_PREFIX)[1]];\n        if (typeof definition === 'object') {\n            properties = definition.properties;\n            required = definition.required;\n        }\n    }\n\n    if (!properties) {\n        return;\n    }\n    required = required || [];\n    // Merge new entries for creation into list\n    for (const key in configObject) {\n        const entry = configObject[key];\n        // Check if entry from config does not exist in list - potential insert.\n        // Additionally check if interface of config entry matches additionalProperties - all required properties should exist in entry\n        if (\n            typeof entry === 'object' &&\n            !list.some((item) => item[0] === key) &&\n            required.every((property: string): boolean => entry[property])\n        ) {\n            list.push([key, additionalProperties]);\n        }\n    }\n}\n\n/**\n * Recursive function that traverses the content of the current object. It reads decorators and fills exportResultManifest entries and flex changes\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object to traverse\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @param breadcrumbs - array of sequence of properties that we are currently processing. Required for instance for table column name\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param title - the title to be used for the given schema definition\n */\nfunction transferManifestEntriesAndFlexChange(\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any },\n    parentIds: string[],\n    stableIdParts: string[],\n    breadcrumbs: string[],\n    schemaDefinition: Definition\n): void {\n    if (!schemaDefinition?.properties) {\n        return;\n    }\n    let index = 0;\n    //In case of additionalProperties = flexible array definition ==> new entries from the config shall be exported too\n    const transferEntryParameters: TransferEntryParameters = {\n        transferParameters,\n        breadcrumbs,\n        key: undefined,\n        index,\n        configObject,\n        propertyDefinition: undefined\n    };\n    const additionalProperties = schemaDefinition.additionalProperties as Definition;\n    const anyOfDefinitions = additionalProperties?.anyOf as Definition[];\n\n    const preprocessed = transferConfigEntriesWithAnyOfDefinitions(\n        transferEntryParameters,\n        anyOfDefinitions,\n        schemaDefinition,\n        parentIds,\n        stableIdParts\n    );\n    //Sort if there is a propertyIndex, so that the exported list ends up in manifest in the right order\n    let sortedList = schemaDefinition.properties && Object.entries(schemaDefinition.properties);\n    if (sortedList) {\n        if (sortedList[0]?.[1][SchemaTag.propertyIndex]) {\n            sortedList = Object.entries(schemaDefinition.properties).sort(\n                (a, b) => a[1][SchemaTag.propertyIndex] - b[1][SchemaTag.propertyIndex]\n            );\n        }\n        if (additionalProperties?.$ref) {\n            // Merge new entries for creation into list\n            mergeEntriesForInsert(transferParameters, additionalProperties, sortedList, configObject);\n        }\n        index = 0;\n        sortedList.forEach((element: object) => {\n            transferEntryParameters.key = element[0];\n            transferEntryParameters.propertyDefinition = element[1];\n            transferEntryParameters.index = index;\n            transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts, preprocessed);\n            if (element[1].$ref) {\n                index++;\n            }\n        });\n    }\n}\n\n/**\n * Instantiates the export classes for a single object page section\n * @param sectionId - Current section ID\n */\nfunction getClassesForSingleSection(\n    objectPageConfig: v4.ObjectPageConfigV4,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n): void {\n    if (sectionId === 'custom' && Array.isArray(objectPageConfig.sections[sectionId])) {\n        // Custom sections\n        const customSections: Array<ObjectPageCustomSectionFragment> = objectPageConfig.sections\n            .custom as Array<ObjectPageCustomSectionFragment>;\n        for (let index = 0; index < customSections.length; index++) {\n            customSections[index] = factory.createInstance(\n                PageTypeV2.ObjectPage,\n                'ObjectPageCustomSectionView',\n                customSections[index],\n                customSections[index].className\n            );\n        }\n    }\n}\n\n/**\n * Recursive sub-function for handling subsections\n * @param section - Object page section in config\n */\nfunction getSubsectionClasses(section: object, factory: MetadataInstanceInterface): void {\n    if (section['subsections']) {\n        let subSection: object;\n        for (const subSectionId in section['subsections']) {\n            subSection = section['subsections'][subSectionId];\n            getClassesForSingleSection(subSection, subSectionId, factory);\n            getSubsectionClasses(subSection, factory);\n        }\n    }\n}\n\n/**\n * Instantiates the export classes for the object page section\n * @param objectPageConfig - the given object page configuration\n * @param objectPage - the overall object page export class where the sections shall be included\n */\nfunction getExportClassesForSections(\n    objectPageConfig: v4.ObjectPageConfigV4,\n    objectPage: ObjectPage,\n    factory: MetadataInstanceInterface\n): void {\n    let section: object;\n    for (const sectionId in objectPageConfig.sections) {\n        section = objectPage.sections[sectionId];\n        getClassesForSingleSection(objectPageConfig, sectionId, factory);\n        getSubsectionClasses(section, factory);\n    }\n}\n\n/**\n * Run through the given ObjectPage config and return respective exportResultManifest entry and flex changes\n * @param appId - id of the Fiori elements app, which is usually namespace.appid\n * @param objectPageConfig - content of the src/ObjectPage_<entity_set>.json file\n * @param manifest - manifest of the application\n * @param pageName - routing target defined in manifest\n */\nconst exportObjectPage = (exportParameters: ExportObjectPageV4Parameters, ui5Version: UI5Version): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    const factory = new Factory();\n    const objectPage = factory.createPageInstance(PageTypeV2.ObjectPage, exportParameters.page.config);\n    const pageLayoutInformation = getPageLayoutInformation(objectPage);\n    const pageName = exportParameters.page.name;\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${pageName}--`;\n\n    if (exportParameters.page.config?.[PropertyName.sections]) {\n        getExportClassesForSections(exportParameters.page.config, objectPage, factory);\n    }\n    const transferParameters: TransferParameterTypeV4 = {\n        exportResults,\n        appId: exportParameters.appId,\n        appRootPath: exportParameters.appRootPath,\n        baseId,\n        appSchema: exportParameters.jsonSchema,\n        config: objectPage,\n        ui5Version,\n        factory,\n        pageNameArray: [pageName],\n        pageType: PageTypeV4.ObjectPage,\n        title: undefined,\n        templateType: TemplateType.ListReportObjectPageV4\n    };\n\n    transferManifestEntriesAndFlexChange(\n        transferParameters,\n        objectPage,\n        [], //no parentIds\n        [], // no stableIds\n        [], // no breadcrumbs\n        exportParameters.jsonSchema //starting point for target definition\n    );\n\n    return exportResults;\n};\n\n/**\n * Run through the given List Page (LR or ALP) config and return respective exportResultManifest entry and flex changes\n * @param {ExportListReportV4Parameters} exportParameters - all API parameters needed for the export\n * @param config - content of the config file\n * @param {PageTypeV4} - pageType - Page type\n * @param ui5Version - SAP UI5 version\n */\nconst exportListPage = (\n    exportParameters: ExportListReportV4Parameters,\n    factory: Factory,\n    config: v4.ListReportConfigV4,\n    pageType: PageTypeV4,\n    ui5Version: UI5Version,\n    templateType: TemplateType\n): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest)) as Manifest;\n    const appSchema = exportParameters.jsonSchema as Definition;\n\n    const definitionName = config.table?.[PropertyName.annotationPath]\n        ? DefinitionName.ALPTableView\n        : DefinitionName.Table;\n    const tableDefinition = (config.table = factory.createInstance(pageType, definitionName, config.table));\n    let tableDefinitionName = DefinitionName.LineItems;\n    if (appSchema.definitions[DefinitionName.TableSPV]) {\n        const tableRef = (appSchema.definitions[DefinitionName.TableSPV] as Definition).properties.columns['$ref'];\n        tableDefinitionName = tableRef.split(DEFINITION_LINK_PREFIX)[1];\n    }\n    const appSchemaActions = appSchema.definitions[`${DefinitionName.Actions}<${tableDefinitionName}>`] as Definition;\n    if (tableDefinition.toolBar?.actions && appSchemaActions) {\n        for (const actionKey in appSchemaActions.properties) {\n            tableDefinition.toolBar.actions[actionKey] = factory.createInstance(\n                pageType,\n                DefinitionName.ToolBarAction,\n                tableDefinition.toolBar.actions[actionKey]\n            );\n        }\n    }\n\n    const pageLayoutInformation = getPageLayoutInformation(config);\n    const pageName = exportParameters.page.name;\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${pageName}--`;\n    const transferParameters: TransferParameterTypeV4 = {\n        exportResults,\n        appId: exportParameters.appId,\n        appRootPath: exportParameters.appRootPath,\n        baseId,\n        appSchema,\n        config,\n        ui5Version,\n        factory,\n        pageNameArray: [pageName],\n        pageType: PageTypeV4.ListReport,\n        title: undefined,\n        logger: exportParameters.logger,\n        templateType\n    };\n\n    transferManifestEntriesAndFlexChange(\n        transferParameters,\n        config,\n        [], //no parentIds\n        [], // no stableIds\n        [], // no breadcrumbs\n        appSchema //starting point for target definition\n    );\n\n    return exportResults;\n};\n\n/**\n * Run through the given ListReport config and return respective exportResultManifest entry and flex changes\n * @param {ExportListReportV4Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportListReportPage = (\n    exportParameters: ExportListReportV4Parameters,\n    ui5Version: UI5Version,\n    templateType: TemplateType\n): ExportResults => {\n    const factory = new Factory();\n    const listReport = factory.createPageInstance(PageTypeV2.ListReport, exportParameters.page.config);\n\n    return exportListPage(exportParameters, factory, listReport, PageTypeV4.ListReport, ui5Version, templateType);\n};\n\n/**\n * Run through the given Analytical List Page config and return respective exportResultManifest entry and flex changes\n * @param {ExportAnalyticalListPageV4Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportAnalyticalListPage = (\n    exportParameters: ExportAnalyticalListPageV4Parameters,\n    ui5Version: UI5Version\n): ExportResults => {\n    return exportListReportPage(exportParameters, ui5Version, TemplateType.AnalyticalListPageV4);\n};\n\n/**\n * API for the export of a V4 app configuration\n * Export means the transfer of the properties and values of the given config to manifest entries or flex changes\n * @param application - V4 application (app.json config file)\n * @param manifest - Manifest of the given app\n * @param appSchema - App schema\n *\n * @returns ExportResults = object comprising the updated manifest and a list of flex changes\n */\nconst exportApplicationV4 = (application: ApplicationV4, manifest: object, appSchema: Definition): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(manifest));\n\n    const applicationV4 = Object.assign(new ApplicationV4(), application);\n\n    //transform application settings\n    applicationV4.settings = Object.assign(new AppSettings(), applicationV4.settings);\n    for (const key in (appSchema.definitions.AppSettings as Definition).properties) {\n        const syncRule = getReflectMetadata(applicationV4.settings, key);\n        if (syncRule && syncRule.manifest) {\n            const path = syncRule.manifest.path();\n            const manifestSection = getManifestSectionByPathV4(exportResults.manifest, path);\n            if (syncRule.manifest.export) {\n                const exportParams: ExportToManifestParams = {\n                    exportHandler: syncRule.manifest.export,\n                    manifestSection,\n                    configObject: application,\n                    configPropertyKey: key,\n                    manifestKey: key,\n                    syncRuleKey: key\n                };\n                const propertyDefinition = (appSchema.definitions.AppSettings as Definition).properties[key];\n                transferPropertyToManifest(exportParams, propertyDefinition as Definition, {});\n            } else {\n                if (application.settings?.[key] !== undefined) {\n                    manifestSection[key] = application.settings[key];\n                } else {\n                    delete manifestSection[key];\n                    deleteEmptyStructure(exportResults.manifest, path);\n                }\n            }\n        }\n    }\n    //transform routing\n    exportResults.manifest[ManifestSection.ui5].routing = transformRoutingV4(\n        application['home'],\n        application['pages'],\n        exportResults.manifest\n    );\n\n    // Update FCL data\n    updateFcl(exportResults.manifest[ManifestSection.ui5] as v4.SapUi5V4, application);\n\n    return exportResults;\n};\n\n/**\n * General API for the export of a V4 config page\n * Export means the transfer of the properties and values of the given config to manifest entries or flex changes\n * @param appId - Application ID\n * @param page - Current page (config)\n * @param manifest - Manifest of the given app\n * @param jsonSchema - App schema\n *\n * @returns ExportResults = object comprising the updated manifest and a list of flex changes\n */\nexport const exportPageV4 = (\n    exportParametersV4: ExportParametersV4[FioriElementsVersion.v4],\n    ui5Version: UI5Version\n): ExportResults | undefined => {\n    if (exportParametersV4[SchemaType.ListReport]) {\n        return exportListReportPage(\n            exportParametersV4[SchemaType.ListReport],\n            ui5Version,\n            TemplateType.ListReportObjectPageV4\n        );\n    } else if (exportParametersV4[SchemaType.ObjectPage]) {\n        return exportObjectPage(exportParametersV4[SchemaType.ObjectPage], ui5Version);\n    } else if (exportParametersV4[SchemaType.Application]) {\n        const { application, manifest, jsonSchema } = exportParametersV4[SchemaType.Application];\n        return exportApplicationV4(application, manifest, jsonSchema);\n    } else if (exportParametersV4[SchemaType.AnalyticalListPage]) {\n        return exportAnalyticalListPage(exportParametersV4[SchemaType.AnalyticalListPage], ui5Version);\n    } else if (exportParametersV4[SchemaType.FPMCustomPage]) {\n        return exportFPMCustomPageConfig(exportParametersV4[SchemaType.FPMCustomPage], defaultExportResult);\n    }\n};\n", "import { js2xml } from 'xml-js';\nimport type { ExportFPMCustomPageV4Parameters, ExportResults, SchemaDefinition } from '@sap/ux-specification-types';\nimport { MacrosPropertyType } from '@sap/ux-specification-types';\nimport { getPageCustomViewFile } from '../utils/utils';\nimport { parseXML, traverseSchema } from '../utils/macros';\nimport type { TraverseData } from '../utils/macros';\nimport type { CustomPageCustomViewData } from '../types';\n\n/**\n * Method compares values if values are different after converted to string.\n * It is used to determine if we need make change in XML file.\n * @param {unknown} value1 First value to compare.\n * @param {unknown} value2 Second value to compare.\n * @returns {boolean} Returns true if values are same after values converted to string.\n */\nfunction isExportValueEquals(value1: unknown, value2: unknown): boolean {\n    return value1 !== undefined && value2 !== undefined ? `${value1}` === `${value2}` : value1 === value2;\n}\n\n/**\n * Method deletes property by emoving attribute from element.\n * Method also considers if it is last attribute and element is complex property, then element would removed as well.\n * @param {TraverseData} traverseData Schema and XML traverse data.\n * @param {string} name Name of property.\n */\nfunction deleteProperty(traverseData: TraverseData, name: string): void {\n    const { element, schema, parent, contextPath } = traverseData;\n    delete element.attributes[name];\n    if (\n        schema.metadata?.type === MacrosPropertyType.Property &&\n        Object.keys(element.attributes).length === 0 &&\n        parent?.element.elements\n    ) {\n        // Last attribute is deleted for property - if element is property then remove property itself\n        const context = contextPath[contextPath.length - 1];\n        if (context) {\n            parent.element.elements.splice(context.index, 1);\n        }\n    }\n}\n\n/**\n * Callback method of traversing schema and XML.\n * Method exports value from page config object to XML element.\n * @param {TraverseData} traverseData Schema and XML traverse data.\n * @param {SchemaDefinition} property Schema property to use for export.\n * @param {object} config Fragment of page config object.\n * @param {string} name Name of property to export.\n * @returns {boolean} Is new value differs.\n */\nfunction exportProperty(traverseData: TraverseData, property: SchemaDefinition, config: object, name: string): boolean {\n    const { contextPath, fullSchema, element } = traverseData;\n    let differs = false;\n    if (property.hidden) {\n        // Currently we ignore hidden properties\n        return false;\n    }\n    if (name in config && config[name] !== undefined) {\n        if (property.isViewNode) {\n            if (!element.elements) {\n                element.elements = [];\n            }\n            const targetElement = {\n                name,\n                type: 'element'\n            };\n            element.elements.push(targetElement);\n            return traverseSchema(\n                {\n                    fullSchema: fullSchema,\n                    schema: property,\n                    element: targetElement,\n                    contextPath: [\n                        ...contextPath,\n                        {\n                            name,\n                            index: 0\n                        }\n                    ],\n                    config: config[name],\n                    parent: traverseData\n                },\n                exportProperty\n            );\n        } else if (!isExportValueEquals(element.attributes?.[name], config[name])) {\n            if (!element.attributes) {\n                element.attributes = {};\n            }\n            element.attributes[name] = config[name];\n            differs = true;\n        }\n    } else if (element.attributes?.[name]) {\n        deleteProperty(traverseData, name);\n        differs = true;\n    }\n    return differs;\n}\n\n/**\n * Run through the given FPM Custom Page config and return respective XML View result.\n * If no changes in config, then view is not returned.\n * @param {ExportListReportV4Parameters} exportParameters All API parameters needed for the export.\n * @param {ExportResults} defaultExportResult Default export result.\n * @param {FeatureToggle[]} [featureToggles] - array of supported features.\n * @returns {ExportResults} Object comprising the updated xml view\n */\nexport const exportFPMCustomPageConfig = (\n    exportParameters: ExportFPMCustomPageV4Parameters,\n    defaultExportResult: ExportResults\n): ExportResults => {\n    const exportResults: ExportResults = { ...defaultExportResult };\n    const { views, manifest, jsonSchema, page } = exportParameters;\n    let viewData: CustomPageCustomViewData | undefined = undefined;\n    if (jsonSchema && Object.keys(jsonSchema).length > 0) {\n        viewData = getPageCustomViewFile(views || [], page.name, manifest, exportParameters.logger);\n    }\n    if (viewData) {\n        const element = parseXML(viewData.file, false, exportParameters.logger);\n        if (element) {\n            const coreElement = element.elements?.[0];\n            const differs = traverseSchema(\n                {\n                    fullSchema: jsonSchema,\n                    schema: jsonSchema,\n                    element: coreElement,\n                    contextPath: [],\n                    config: page.config\n                },\n                exportProperty\n            );\n            if (differs) {\n                const fileContent = js2xml(element, { spaces: 4 });\n                const view = {\n                    dataSourceUri: viewData.file.dataSourceUri,\n                    fileContent\n                };\n                exportResults.views = [view];\n            }\n        }\n    }\n\n    return exportResults;\n};\n", "import { basename, join } from 'path';\nimport { readFile as readFileFs, readdir, stat, exists } from 'fs';\nimport type { Manifest, FileData } from '@sap/ux-specification-types';\n\nexport interface Project {\n    root: string;\n    name: string;\n    manifest: Manifest;\n    annotations: FileData[];\n    changes: string[];\n    fragments: FileData[];\n    views: FileData[];\n}\n\nconst readFile = async (path: string): Promise<string> => {\n    return new Promise((resolve, reject): void => {\n        readFileFs(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n};\n\nconst readJSON = async <T>(path: string): Promise<T> => {\n    return JSON.parse(await readFile(path)) as T;\n};\n\nexport const readDirectory = async (path: string): Promise<string[]> => {\n    return new Promise((resolve, reject): void => {\n        readdir(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n};\n\nexport const isDirectory = async (path: string): Promise<boolean> => {\n    return new Promise((resolve): void => {\n        stat(path, (err, stats): void => {\n            if (err) {\n                resolve(false);\n            } else {\n                resolve(stats.isDirectory());\n            }\n        });\n    });\n};\n\nconst resourceExists = async (path: string): Promise<boolean> => {\n    return new Promise((resolve) => {\n        exists(path, (doesExist) => {\n            resolve(doesExist);\n        });\n    });\n};\n\nconst getManifest = async (path: string): Promise<Manifest> => {\n    return readJSON<Manifest>(join(path, 'manifest.json'));\n};\n\nexport const getChanges = async (webapp: string): Promise<string[]> => {\n    const changes: string[] = [];\n    const changesDirectory = join(webapp, 'changes');\n    if (!(await resourceExists(changesDirectory))) {\n        return changes;\n    }\n    const extensions = [\n        '.change',\n        '.variant',\n        '.ctrl_variant',\n        '.ctrl_variant_change',\n        '.ctrl_variant_management_change'\n    ];\n    const files = await readDirectory(changesDirectory);\n    for (const file of files) {\n        if (extensions.some((ext) => file.endsWith(ext))) {\n            changes.push(await readFile(join(changesDirectory, file)));\n        }\n    }\n    return changes;\n};\n\nconst getExtensionFiles = async (webAppPath: string, folder = 'fragments'): Promise<FileData[]> => {\n    const fragments: FileData[] = [];\n\n    const directoryPath = join(webAppPath, 'ext', folder);\n    if (!(await resourceExists(directoryPath))) {\n        return fragments;\n    }\n    const files = await readDirectory(directoryPath);\n    for (const file of files) {\n        const filePath = join(directoryPath, file);\n        const data = await readFile(filePath);\n        fragments.push({\n            dataSourceUri: filePath,\n            fileContent: data\n        });\n    }\n    return fragments;\n};\n\nconst getAnnotations = async (manifest: Manifest, webAppPath: string): Promise<FileData[]> => {\n    const annotationData: FileData[] = [];\n    const serviceDataSources = manifest?.['sap.app']?.dataSources;\n    if (serviceDataSources?.mainService?.settings?.localUri) {\n        const metadataPath = join(webAppPath, serviceDataSources.mainService.settings.localUri);\n        annotationData.push({\n            dataSourceUri: metadataPath,\n            fileContent: await readFile(metadataPath)\n        });\n    }\n    if (serviceDataSources?.mainService?.settings?.annotations) {\n        for (const annotationRef of serviceDataSources.mainService.settings.annotations) {\n            if (serviceDataSources[annotationRef]?.settings?.localUri) {\n                const annotationFilePath = join(webAppPath, serviceDataSources[annotationRef].settings.localUri);\n                annotationData.push({\n                    dataSourceUri: annotationFilePath,\n                    fileContent: await readFile(annotationFilePath)\n                });\n            }\n        }\n    }\n    //Consider CAP/multiple services\n    if (annotationData.length === 0) {\n        for (const key in serviceDataSources) {\n            const dataSource = serviceDataSources[key];\n            if (dataSource?.type === 'ODataAnnotation' && dataSource?.settings?.localUri) {\n                const annotationFilePath = join(webAppPath, dataSource.settings.localUri);\n                annotationData.push({\n                    dataSourceUri: annotationFilePath,\n                    fileContent: await readFile(annotationFilePath)\n                });\n            }\n        }\n    }\n\n    return annotationData;\n};\n\n/**\n * Get the project artefacts, like manifest, service metadata, annotations\n * @param root - project root where package.json is\n */\nexport const getProject = async (root: string): Promise<Project> => {\n    const name = basename(root);\n    const webappPath = join(root, 'webapp');\n    const manifest = await getManifest(webappPath);\n    const annotations = await getAnnotations(manifest, webappPath);\n    const changes = await getChanges(webappPath);\n    const fragments = await getExtensionFiles(webappPath);\n    const views = await getExtensionFiles(webappPath, 'views');\n    return {\n        root,\n        name,\n        manifest,\n        annotations,\n        changes,\n        fragments,\n        views\n    };\n};\n"],
  "mappings": "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",
  "names": []
}
